(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1276],{7599:(ge,ye,be)=>{be(5151),Opal.modules["i18n/backend/fallbacks"]=function(e){var G,n,r,_,c,o,M=e.module,H=e.class_variable_set,s=e.truthy,P=e.class_variable_get,I=e.def,w=e.send,U=e.send2,k=e.find_super,A=e.hash2,C=e.find_block_super,F=e.neqeq,j=e.thrower,S=e.return_val,L=[],N=e.nil,R=e.$$$;return G=L,o=[c=M(L[0],"I18n")].concat(G),H(o[0],"@@fallbacks",N),n=e.get_singleton_class(c),r=[n].concat(o),_=e.$r(r),I(n,"$fallbacks",function(){var y=N;return H(r[1],"@@fallbacks",s(null!=r[1].$$cvars["@@fallbacks"]?"class variable":N)&&s(y=P(r[1],"@@fallbacks",!1))?y:R(R(_("I18n"),"Locale"),"Fallbacks").$new()),s(y=_("Thread").$current()["$[]"]("i18n_fallbacks"))?y:P(r[1],"@@fallbacks",!1)}),I(n,"$fallbacks=",function(E){var y;return H(r[1],"@@fallbacks",s(E["$is_a?"](_("Array")))?R(R(_("I18n"),"Locale"),"Fallbacks").$new(E):E),y=["i18n_fallbacks",P(r[1],"@@fallbacks",!1)],w(_("Thread").$current(),"[]=",y),y[y.length-1]}),function(n,D){var E,y,q,p,_=[M(n,"Backend")].concat(D);return E=_,q=[y=M(_[0],"Fallbacks")].concat(E),p=e.$r(q),I(y,"$translate",function b(l,d,$){try{var f=j("return"),a=b.$$p||N,x=this,B=N,v=N;return b.$$p=null,null==$&&($=p("EMPTY_HASH")),s($.$fetch("fallback",!0))?s($["$[]"]("fallback_in_progress"))?U(x,k(x,"translate",b,!1,!0),"translate",[l,d,$],a):(s($["$[]"]("default"))&&(B=x["$extract_non_symbol_default!"]($)),v=$.$merge(A(["fallback_in_progress"],{fallback_in_progress:!0})),w(p("I18n").$fallbacks()["$[]"](l),"each",[],function t(T){var i=null==t.$$s?this:t.$$s;null==T&&(T=N);try{return w(i,"catch",["exception"],function m(){var u=null==m.$$s?this:m.$$s,K=N;if(K=U(u,C(u,"translate",m.$$def||t.$$def||b,!1,!1),"translate",[T,d,v],null),s(K["$nil?"]()))return N;F(l.$to_s(),T.$to_s())&&u.$on_fallback(l,T,d,$),f.$throw(K)},{$$s:i,$$ret:f})}catch(m){if(!e.rescue(m,[R(p("I18n"),"InvalidLocale")]))throw m;try{return N}finally{e.pop_exception()}}},{$$s:x}),s($["$key?"]("default"))&&s($["$[]"]("default")["$nil?"]())?N:s(B)?U(x,k(x,"translate",b,!1,!0),"translate",[l,N,$.$merge(A(["default"],{default:B}))],null):x.$throw("exception",R(p("I18n"),"MissingTranslation").$new(l,d,$))):U(x,k(x,"translate",b,!1,!0),"translate",[l,d,$],a)}catch(t){if(t===f)return t.$v;throw t}},-3),I(y,"$extract_non_symbol_default!",function(l){var $,d=N;return d=[l["$[]"]("default")].$flatten(),$=w(d,"detect",[],function(a){return null==a&&(a=N),a["$is_a?"](p("Symbol"))["$!"]()}),s($)&&l["$[]="]("default",d["$[]"](0,d.$index($))),$}),I(y,"$exists?",function b(l,d,$){try{var f=j("return"),a=b.$$p||N,x=this;return b.$$p=null,null==$&&($=p("EMPTY_HASH")),s($.$fetch("fallback",!0))?(w(p("I18n").$fallbacks()["$[]"](l),"each",[],function B(v){var t=null==B.$$s?this:B.$$s;null==v&&(v=N);try{if(!s(U(t,C(t,"exists?",B.$$def||b,!1,!1),"exists?",[v,d],null)))return N;f.$throw(!0)}catch(T){if(!e.rescue(T,[R(p("I18n"),"InvalidLocale")]))throw T;try{return N}finally{e.pop_exception()}}},{$$s:x,$$ret:f}),!1):U(x,k(x,"exists?",b,!1,!0),"exists?",[l,d,$],a)}catch(B){if(B===f)return B.$v;throw B}},-3),y.$private(),I(y,"$on_fallback",S(N))}(o[0],o)},Opal.modules["bcdice/randomizer"]=function(e){var c,h,E,y,q,p,n,D,H=e.klass,s=e.const_set,P=e.def,I=e.truthy,w=e.rb_gt,U=e.rb_plus,k=e.rb_le,A=e.send,C=e.rb_minus,F=e.eqeq,j=e.rb_times,S=e.eqeqeq,L=e.rb_ge,N=[],R=e.nil,Y=e.$$$;return c=N,n=[(0,e.module)(N[0],"BCDice")].concat(c),D=e.$r(n),h=n,y=[E=H(n[0],null,"Randomizer")].concat(h),q=e.$r(y),(p=E.$$prototype).rand_results=p.detailed_rand_results=R,s(y[0],"UPPER_LIMIT_DICE_TIMES",200),s(y[0],"UPPER_LIMIT_DICE_SIDES",1e4),s(y[0],"UPPER_LIMIT_RANDS",1e4),P(E,"$initialize",function(){return this.rand_results=[],this.detailed_rand_results=[]}),E.$attr_reader("rand_results"),E.$attr_reader("detailed_rand_results"),s(y[0],"DetailedRandResult",q("Struct").$new("kind","sides","value")),P(E,"$roll_barabara",function(l,d){var $=this;return I(w(U($.rand_results.$size(),l),q("UPPER_LIMIT_RANDS")))&&$.$raise(q("TooManyRandsError")),I(k(l,0))||I(w(l,q("UPPER_LIMIT_DICE_TIMES")))?[]:A(q("Array"),"new",[l],function f(){return(null==f.$$s?this:f.$$s).$roll_once(d)},{$$s:$})}),P(E,"$roll_sum",function(l,d){return this.$roll_barabara(l,d).$sum()}),P(E,"$roll_once",function(l){var $=R;return I(k(l,0))||I(w(l,q("UPPER_LIMIT_DICE_SIDES")))?0:($=this.$rand_inner(l),this.$push_to_detail("normal",l,$),$)}),P(E,"$roll_index",function(l){return C(this.$roll_once(l),1)}),P(E,"$roll_tens_d10",function(){var $,d=R;return d=this.$rand_inner(10),F(d,10)&&(d=0),$=j(d,10),this.$push_to_detail("tens_d10",10,$),$}),P(E,"$roll_d9",function(){var d;return d=C(this.$rand_inner(10),1),this.$push_to_detail("d9",10,d),d}),P(E,"$roll_d66",function(l){var f,$=R;return $=A(q("Array"),"new",[2],function a(){return(null==a.$$s?this:a.$$s).$roll_once(6)},{$$s:this}),S(Y(q("D66SortType"),"ASC"),f=l)?$["$sort!"]():S(Y(q("D66SortType"),"DESC"),f)&&$["$sort!"]()["$reverse!"](),U(j($["$[]"](0),10),$["$[]"](1))}),E.$private(),P(E,"$rand_inner",function(l){var $,d=this;return I(L(d.rand_results.$size(),q("UPPER_LIMIT_RANDS")))&&d.$raise(q("TooManyRandsError")),$=d.$random(l),d.rand_results["$<<"]([$,l]),$}),P(E,"$random",function(l){return U(q("Kernel").$rand(l),1)}),P(E,"$push_to_detail",function(l,d,$){var a;return a=q("DetailedRandResult").$new(l,d,$),this.detailed_rand_results.$push(a)}),H(n[0],D("StandardError"),"TooManyRandsError"),R},Opal.modules["bcdice/dice_table/roll_result"]=function(e){var A,S,G,c,o,n,D,N,F,M=e.module,H=e.klass,s=e.def,P=e.truthy,I=e.return_val,w=[],U=e.nil;return A=w,S=F=[M(w[0],"BCDice")].concat(A),G=N=[M(F[0],"DiceTable")].concat(S),o=[c=H(N[0],null,"RollResult")].concat(G),n=e.$r(o),(D=c.$$prototype).table_name=D.value=D.body=U,s(c,"$initialize",function(_,h,E){var y=this;return y.table_name=_,y.value=h,y.body=E}),c.$attr_reader("table_name"),c.$attr_reader("value"),c.$attr_reader("body"),s(c,"$to_s",function(){var _=this;return _.table_name+"("+_.value+") \uff1e "+_.body}),s(c,"$last_body",function(){var _=this;return P(_.body["$is_a?"](n("RollResult")))?_.body.$last_body():_.body}),s(c,"$empty?",I(!1))},Opal.modules["bcdice/dice_table/chain_table"]=function(e){var A,S,G,c,o,n,D,N,F,M=e.module,H=e.klass,s=e.truthy,P=e.def,I=e.rb_minus,w=[],U=e.nil;return A=w,S=F=[M(w[0],"BCDice")].concat(A),G=N=[M(F[0],"DiceTable")].concat(S),o=[c=H(N[0],null,"ChainTable")].concat(G),n=e.$r(o),(D=c.$$prototype).times=D.sides=D.items=D.name=U,P(c,"$initialize",function(_,h,E){var y=this,q=U;return y.name=_,y.items=E.$freeze(),q=/(\d+)D(\d+)/i.$match(h),s(q)||y.$raise(n("ArgumentError"),"Unexpected table type: "+h),y.times=q["$[]"](1).$to_i(),y.sides=q["$[]"](2).$to_i()}),P(c,"$roll",function(_){var E,y,h=this,q=U;return E=_.$roll_sum(h.times,h.sides),y=I(E,h.times),q=h.items["$[]"](y),s(q["$respond_to?"]("roll"))&&(q=q.$roll(_)),n("RollResult").$new(h.name,E,q)})},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(e){var j,R,n,D,r,_,h,G,L,M=e.module,H=e.klass,s=e.hash2,P=e.defs,I=e.def,w=e.rb_plus,U=e.rb_times,k=e.rb_minus,A=[],C=e.nil;return j=A,R=L=[M(A[0],"BCDice")].concat(j),n=G=[M(L[0],"DiceTable")].concat(R),r=[D=H(G[0],null,"D66GridTable")].concat(n),_=e.$r(r),(h=D.$$prototype).name=h.items=C,P(D,"$from_i18n",function(y,q){var b=C;return b=_("I18n").$t(y,s(["locale","raise"],{locale:q,raise:!0})),this.$new(b["$[]"]("name"),b["$[]"]("items"))}),I(D,"$initialize",function(y,q){return this.name=y,this.items=q.$freeze()}),I(D,"$roll",function(y){var p,b,l,d,$;return p=y.$roll_once(6),b=y.$roll_once(6),l=w(U(p,10),b),d=k(p,1),$=k(b,1),_("RollResult").$new(this.name,l,this.items["$[]"](d)["$[]"]($))})},Opal.modules["bcdice/dice_table/d66_half_grid_table"]=function(e){var C,L,o,n,D,r,R,Y,j,M=e.module,H=e.klass,s=e.hash2,P=e.defs,I=e.def,U=[],k=e.nil;return e.top.$require("bcdice/dice_table/d66_grid_table"),C=U,L=j=[M(U[0],"BCDice")].concat(C),R=[M(j[0],"DiceTable")].concat(L),Y=e.$r(R),o=R,D=[n=H(R[0],Y("D66GridTable"),"D66HalfGridTable")].concat(o),r=e.$r(D),P(n,"$from_i18n",function(h,E){var q=k;return q=r("I18n").$t(h,s(["locale","raise"],{locale:E,raise:!0})),this.$new(q["$[]"]("name"),q["$[]"]("items_1_2_3"),q["$[]"]("items_4_5_6"))}),I(n,"$initialize",function(h,E,y){return this.name=h,this.items=[E,E,E,y,y,y].$freeze()})},Opal.modules["bcdice/dice_table/d66_one_third_table"]=function(e){var C,L,o,n,D,r,R,Y,j,M=e.module,H=e.klass,s=e.hash2,P=e.defs,I=e.def,U=[],k=e.nil;return e.top.$require("bcdice/dice_table/d66_grid_table"),C=U,L=j=[M(U[0],"BCDice")].concat(C),R=[M(j[0],"DiceTable")].concat(L),Y=e.$r(R),o=R,D=[n=H(R[0],Y("D66GridTable"),"D66OneThirdTable")].concat(o),r=e.$r(D),P(n,"$from_i18n",function(h,E){var q=k;return q=r("I18n").$t(h,s(["locale","raise"],{locale:E,raise:!0})),this.$new(q["$[]"]("name"),q["$[]"]("items_1_2"),q["$[]"]("items_3_4"),q["$[]"]("items_5_6"))}),I(n,"$initialize",function(h,E,y,q){return this.name=h,this.items=[E,E,y,y,q,q].$freeze()})},Opal.modules["bcdice/dice_table/d66_table"]=function(e){var L,G,r,_,h,E,y,o,R,M=e.module,H=e.klass,s=e.hash2,P=e.defs,I=e.def,w=e.eqeqeq,U=e.rb_plus,k=e.rb_times,A=e.truthy,C=[],F=e.nil,j=e.$$$;return L=C,G=R=[M(C[0],"BCDice")].concat(L),r=o=[M(R[0],"DiceTable")].concat(G),h=[_=H(o[0],null,"D66Table")].concat(r),E=e.$r(h),(y=_.$$prototype).sort_type=y.items=y.name=F,P(_,"$from_i18n",function(p,b){var $,d=F;return d=E("I18n").$t(p,s(["locale"],{locale:b})),$=E("D66SortType").$const_get(d["$[]"]("d66_sort_type")),this.$new(d["$[]"]("name"),$,d["$[]"]("items"))}),I(_,"$initialize",function(p,b,l){var d=this;return d.name=p,d.sort_type=b,d.items=l.$freeze()}),I(_,"$roll",function(p){var b=this,l=F,d=F,$=F,f=F;return l=p.$roll_barabara(2,6),w(j(E("D66SortType"),"ASC"),d=b.sort_type)?l["$sort!"]():w(j(E("D66SortType"),"DESC"),d)&&l["$sort!"]()["$reverse!"](),$=U(k(l["$[]"](0),10),l["$[]"](1)),f=A(d=b.items["$[]"]($))?d:b.items["$[]"]($.$to_s()),A(f["$respond_to?"]("roll"))&&(f=f.$roll(p)),E("RollResult").$new(b.name,$,f)}),I(_,"$choice",function(p){return E("RollResult").$new(this.name,p,this.items["$[]"](p))})},Opal.modules["bcdice/dice_table/d66_left_range_table"]=function(e){var N,c,n,D,Y,M=e.module,H=e.klass,s=e.hash2,P=e.send,I=e.to_ary,w=e.rb_plus,U=e.rb_times,k=e.send2,A=e.find_super,C=e.def,j=[],S=e.nil;return e.top.$require("bcdice/dice_table/d66_table"),N=j,c=Y=[M(j[0],"BCDice")].concat(N),n=[M(Y[0],"DiceTable")].concat(c),D=e.$r(n),C(H(n[0],D("D66Table"),"D66LeftRangeTable"),"$initialize",function E(y,q,p){var d;return E.$$p=null,d=s([],{}),P(p,"each",[],function(f){var a,v;return null==f&&(f=S),a=I(f),v=null==a[1]?S:a[1],P(null==a[0]?S:a[0],"each",[],function(T){return null==T&&(T=S),P(v,"each_with_index",[],function(m,u){var K,Q;return null==m&&(m=S),null==u&&(u=S),Q=w(U(T,10),w(u,1)),P(d,"[]=",K=[Q,m]),K[K.length-1]})})}),k(this,A(this,"initialize",E,!1,!0),"initialize",[y,q,d],null)})},Opal.modules["bcdice/dice_table/d66_parity_table"]=function(e){var S,Y,D,r,_,h,E,c,N,M=e.module,H=e.klass,s=e.hash2,P=e.defs,I=e.def,w=e.truthy,U=e.rb_minus,k=e.rb_plus,A=e.rb_times,C=[],F=e.nil;return S=C,Y=N=[M(C[0],"BCDice")].concat(S),D=c=[M(N[0],"DiceTable")].concat(Y),_=[r=H(c[0],null,"D66ParityTable")].concat(D),h=e.$r(_),(E=r.$$prototype).odd=E.even=E.name=F,P(r,"$from_i18n",function(q,p){var l=F;return l=h("I18n").$t(q,s(["locale","raise"],{locale:p,raise:!0})),this.$new(l["$[]"]("name"),l["$[]"]("odd"),l["$[]"]("even"))}),I(r,"$initialize",function(q,p,b){var l=this;return l.name=q,l.odd=p.$freeze(),l.even=b.$freeze()}),I(r,"$roll",function(q){var l,$,f,p=this,b=F;return b=q.$roll_once(6),l=q.$roll_once(6),$=(w(b["$odd?"]())?p.odd:p.even)["$[]"](U(l,1)),f=k(A(b,10),l),h("RollResult").$new(p.name,f,$)})},Opal.modules["bcdice/dice_table/d66_range_table"]=function(e){var C,L,c,o,n,D,r,R,j,M=e.module,H=e.klass,s=e.def,P=e.rb_plus,I=e.rb_times,w=e.send,U=[],k=e.nil;return C=U,L=j=[M(U[0],"BCDice")].concat(C),c=R=[M(j[0],"DiceTable")].concat(L),n=[o=H(R[0],null,"D66RangeTable")].concat(c),D=e.$r(n),(r=o.$$prototype).items=r.name=k,s(o,"$initialize",function(h,E){return this.name=h,this.items=E.$freeze()}),s(o,"$roll",function(h){var y,q,p,b=k;return y=h.$roll_once(6),q=h.$roll_once(6),p=P(I(y,10),q),b=w(this.items,"find",[],function(d){return null==d&&(d=k),d["$[]"](0)["$include?"](p)}),D("RollResult").$new(this.name,p,b["$[]"](1))})},Opal.modules["bcdice/dice_table/range_table"]=function(e){var N,c,_,p,l,d,h,E,y,q,n,Y,M=e.module,H=e.klass,s=e.const_set,P=e.send,I=e.hash2,w=e.def,U=e.eqeqeq,k=e.truthy,A=e.to_a,C=e.rb_times,F=e.rb_plus,j=[],S=e.nil;return N=j,c=Y=[M(j[0],"BCDice")].concat(N),_=n=[M(Y[0],"DiceTable")].concat(c),E=[h=H(n[0],null,"RangeTable")].concat(_),y=e.$r(E),(q=h.$$prototype).name=q.items=q.num_of_dice=q.num_of_sides=q.formatter=S,s(E[0],"RollResult",P(y("Struct"),"new",["sum","values","content","formatted"],function p(){return(null==p.$$s?this:p.$$s).$alias_method("to_s","formatted")},{$$s:h})),s(E[0],"Item",y("Struct").$new("range","content")),s(E[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),s(E[0],"DEFAULT_FORMATTER",P(h,"lambda",[],function(b,l){return null==b&&(b=S),null==l&&(l=S),b.$name()+"("+l.$sum()+") \uff1e "+l.$content()})),h.$attr_reader("name"),h.$attr_reader("num_of_dice"),h.$attr_reader("num_of_sides"),l=[p=e.get_singleton_class(h)].concat(E),d=e.$r(l),w(p,"$from_i18n",function(f,a){var v,B=S;return B=d("I18n").$t(f,I(["locale"],{locale:a})),v=P(B["$[]"]("items"),"map",[],function t(T){return null==T&&(T=S),[(null==t.$$s?this:t.$$s).$conv_string_range(T["$[]"](0)),T["$[]"](1)]},{$$s:this}),this.$new(B["$[]"]("name"),B["$[]"]("type"),v)}),w(p,"$conv_string_range",function(f){var x,a=this;return null==a.name&&(a.name=S),U(d("Integer"),x=f)?f:U(d("String"),x)?k(f["$include?"](".."))?P(d("Range"),"new",A(P(f.$split("..",2),"map",[],function B(v){return null==v&&(v=S),(null==B.$$s?this:B.$$s).$Integer(v)},{$$s:a}))):a.$Integer(f):a.$raise(d("TypeError"),a.name+": "+f+" ("+f.$class()+") must be a String or an Integer")}),w(h,"$initialize",function p(b,l,d){var a,$=p.$$p||S,f=this,x=S;return p.$$p=null,f.name=b.$freeze(),f.formatter=k(a=$)?a:y("DEFAULT_FORMATTER"),x=y("DICE_ROLL_METHOD_RE").$match(l),k(x)||f.$raise(y("ArgumentError"),f.name+": invalid dice roll method: "+l),f.num_of_dice=x["$[]"](1).$to_i(),f.num_of_sides=x["$[]"](2).$to_i(),f.$store(d)}),w(h,"$fetch",function(b){var d,l=this;return d=P(l.items,"find",[],function(f){return null==f&&(f=S),f.$range()["$include?"](b)}),k(d)||l.$raise(y("RangeError"),l.name+": value is out of range: "+b),d}),w(h,"$roll",function(b){var $,l=this,d=S,f=S;return $=(d=b.$roll_barabara(l.num_of_dice,l.num_of_sides)).$sum(),(f=y("RollResult").$new($,d,l.$fetch($).$content()))["$formatted="](l.formatter["$[]"](l,f)),f}),h.$private(),w(h,"$store",function(b){var d,$,l=this;return d=P(b,"map",[],function f(a,x){return null==a&&(a=S),null==x&&(x=S),[(null==f.$$s?this:f.$$s).$coerce_to_int_range(a),x]},{$$s:l}),$=P(d,"sort_by",[],function(a,x){return null==a&&(a=S),null==x&&(x=S),a.$min()}),l.$assert_min_sum_is_covered($),l.$assert_max_sum_is_covered($),l.$assert_no_gap_or_overlap_in_ranges($),l.items=P($,"map",[],function(a,x){return null==a&&(a=S),null==x&&(x=S),y("Item").$new(a,x.$freeze()).$freeze()}).$freeze(),l}),w(h,"$coerce_to_int_range",function(b){var d;return U(y("Integer"),d=b)?y("Range").$new(b,b):U(y("Range"),d)&&k(b.$begin()["$is_a?"](y("Integer")))&&k(b.$end()["$is_a?"](y("Integer")))?b:this.$raise(y("TypeError"),this.name+": "+b+" ("+b.$class()+") must be an Integer or a Range with Integers ")}),w(h,"$assert_min_sum_is_covered",function(b){var d,l=this,$=S;return d=l.num_of_dice,$=b.$first()["$[]"](0),k($["$include?"](d))||l.$raise(y("RangeError"),l.name+": min value ("+d+") is not covered: "+$),l}),w(h,"$assert_max_sum_is_covered",function(b){var d,l=this,$=S;return d=C(l.num_of_dice,l.num_of_sides),$=b.$last()["$[]"](0),k($["$include?"](d))||l.$raise(y("RangeError"),l.name+": max value ("+d+") is not covered: "+$),l}),w(h,"$assert_no_gap_or_overlap_in_ranges",function(b){return P(b,"each_cons",[2],function d($,f){var v,t,a=null==d.$$s?this:d.$$s,x=S,B=S;return null==a.name&&(a.name=S),null==$&&($=S),null==f&&(f=S),x=$["$[]"](0),B=f["$[]"](0),v=x.$max(),t=F(v,1),k(B["$include?"](v))&&a.$raise(y("RangeError"),a.name+": Range overlap: "+x+" and "+B),k(B["$include?"](t))?S:a.$raise(y("RangeError"),a.name+": Range gap: "+x+" and "+B)},{$$s:this}),this})},Opal.modules["bcdice/dice_table/sai_fic_skill_table/category"]=function(e){var F,N,o,h,E,y,q,D,Y,S,M=e.module,H=e.klass,s=e.send,P=e.def,I=e.rb_minus,w=e.return_ivar,U=[],k=e.nil,A=e.$$$;return F=U,N=S=[M(U[0],"BCDice")].concat(F),o=Y=[M(S[0],"DiceTable")].concat(N),h=D=[H(Y[0],null,"SaiFicSkillTable")].concat(o),y=[E=H(D[0],null,"Category")].concat(h),q=e.$r(y),P(E,"$initialize",function(b,l,d,$){var f=this;return f.name=b,f.skills=s(l.$map(),"with_index",[2],function(x,B){return null==x&&(x=k),null==B&&(B=k),A(q("SaiFicSkillTable"),"Skill").$new(b,x,d,B,$)}),f.dice=d}),P(E,"$roll",function(b){return this.$skills()["$[]"](I(b.$roll_sum(2,6),2))}),P(E,"$to_s",w("name")),E.$attr_reader("name","dice","skills")},Opal.modules["bcdice/dice_table/sai_fic_skill_table/skill"]=function(e){var k,j,Y,D,r,c,L,C,M=e.module,H=e.klass,s=e.def,P=e.hash2,I=[],w=e.nil;return k=I,j=C=[M(I[0],"BCDice")].concat(k),Y=L=[M(C[0],"DiceTable")].concat(j),c=[H(L[0],null,"SaiFicSkillTable")].concat(Y),(r=(D=H(c[0],null,"Skill")).$$prototype).s_format=r.category_dice=r.row_dice=r.category_name=r.name=w,s(D,"$initialize",function(h,E,y,q,p){var b=this;return b.category_name=h,b.name=E,b.category_dice=y,b.row_dice=q,b.s_format=p}),s(D,"$to_s",function(){var h=this;return h.$format(h.s_format,P(["category_dice","row_dice","category_name","skill_name"],{category_dice:h.category_dice,row_dice:h.row_dice,category_name:h.category_name,skill_name:h.name}))}),D.$attr_reader("category_name","name","category_dice","row_dice")},Opal.modules["bcdice/dice_table/sai_fic_skill_table"]=function(e){var c,r,q,p,b,l,d,h,n,M=e.module,H=e.klass,s=e.ensure_kwargs,P=e.hash2,I=e.send,U=e.defs,k=e.const_set,A=e.to_ary,C=e.def,F=e.truthy,j=e.rb_minus,S=e.rb_plus,L=e.top,N=[],R=e.nil,Y=e.$$$;return L.$require("bcdice/dice_table/sai_fic_skill_table/category"),L.$require("bcdice/dice_table/sai_fic_skill_table/skill"),c=N,r=n=[M(N[0],"BCDice")].concat(c),q=h=[M(n[0],"DiceTable")].concat(r),b=[p=H(h[0],null,"SaiFicSkillTable")].concat(q),l=e.$r(b),(d=p.$$prototype).rtt=d.rtt_format=d.rct=d.rct_format=d.rttn=d.rttn_format=d.categories=R,U(p,"$from_i18n",function(f,a,x){var B,v,t,u,m=R;return null==(B=(x=s(x)).$$smap.rtt)&&(B=R),null==(v=x.$$smap.rct)&&(v=R),null==(t=x.$$smap.rttn)&&(t=R),u=(m=l("I18n").$t("RTT",P(["locale","raise","default"],{locale:a,raise:!1,default:P([],{})})).$merge(l("I18n").$t(f,P(["locale","raise"],{locale:a,raise:!0}))))["$[]"]("items"),m=I(m,"select",[],function(Q,V){return null==Q&&(Q=R),null==V&&(V=R),["rtt_format","rttn_format","rct_format","s_format"]["$include?"](Q)}),this.$new(u,e.to_hash(m).$merge(P(["rtt","rct","rttn"],{rtt:B,rct:v,rttn:t})))},-3),k(b[0],"DEFAULT_RTT","\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<text>s"),k(b[0],"DEFAULT_RCT","\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868(%<category_dice>d) \uff1e %<category_name>s"),k(b[0],"DEFAULT_RTTN","%<category_name>s\u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<row_dice>d) \uff1e %<text>s"),k(b[0],"DEFAULT_S","\u300a%<skill_name>s\uff0f%<category_name>s%<row_dice>d\u300b"),C(p,"$initialize",function(f,a){var x,B,v,t,T,i,m,u=this;return null==(x=(a=s(a)).$$smap.rtt)&&(x=R),null==(B=a.$$smap.rct)&&(B=R),null==(v=a.$$smap.rttn)&&(v=R),null==(t=a.$$smap.rtt_format)&&(t=l("DEFAULT_RTT")),null==(T=a.$$smap.rct_format)&&(T=l("DEFAULT_RCT")),null==(i=a.$$smap.rttn_format)&&(i=l("DEFAULT_RTTN")),null==(m=a.$$smap.s_format)&&(m=l("DEFAULT_S")),u.categories=I(f.$map(),"with_index",[1],function(Q,V){var ie,_e,ne;return null==Q&&(Q=R),null==V&&(V=R),_e=null==(ie=A(Q))[0]?R:ie[0],ne=null==ie[1]?R:ie[1],Y(l("SaiFicSkillTable"),"Category").$new(_e,ne,V,m)},{$$has_top_level_mlhs_arg:!0}),u.rtt=x,u.rct=B,u.rttn=v.$to_a(),u.rtt_format=t,u.rct_format=T,u.rttn_format=i},-2),k(b[0],"RTTN",["RTT1","RTT2","RTT3","RTT4","RTT5","RTT6"].$freeze()),p.$attr_reader("categories"),C(p,"$roll_command",function(f,a){var B,x=this,v=R,t=R;return F(["RTT",x.rtt]["$include?"](B=a))?x.$format_skill(x.rtt_format,x.$roll_skill(f)):F(["RCT",x.rct]["$include?"](B))?(v=x.$roll_category(f),x.$format(x.rct_format,P(["category_dice","category_name"],{category_dice:v.$dice(),category_name:v.$name()}))):F(t=l("RTTN").$index(B))||F(t=x.rttn.$index(B))?x.$format_skill(x.rttn_format,x.categories["$[]"](t).$roll(f)):R}),C(p,"$roll_category",function(f){return this.categories["$[]"](j(f.$roll_once(6),1))}),C(p,"$roll_skill",function(f){return this.$roll_category(f).$roll(f)}),C(p,"$prefixes",function(){var f=this;return S(["RTT[1-6]?","RCT",f.rtt,f.rct],f.rttn).$compact()}),p.$private(),C(p,"$format_skill",function(f,a){return this.$format(f,P(["category_dice","row_dice","category_name","skill_name","text"],{category_dice:a.$category_dice(),row_dice:a.$row_dice(),category_name:a.$category_name(),skill_name:a.$name(),text:a.$to_s()}))})},Opal.modules["bcdice/dice_table/table"]=function(e){var F,N,o,n,D,r,_,Y,S,M=e.module,H=e.klass,s=e.hash2,P=e.defs,I=e.truthy,w=e.def,U=e.rb_minus,k=[],A=e.nil;return F=k,N=S=[M(k[0],"BCDice")].concat(F),o=Y=[M(S[0],"DiceTable")].concat(N),D=[n=H(Y[0],null,"Table")].concat(o),r=e.$r(D),(_=n.$$prototype).times=_.sides=_.name=_.items=A,P(n,"$from_i18n",function(E,y){var p=A;return p=r("I18n").$t(E,s(["locale"],{locale:y})),this.$new(p["$[]"]("name"),p["$[]"]("type"),p["$[]"]("items"))}),w(n,"$initialize",function(E,y,q){var p=this,b=A;return p.name=E,p.items=q.$freeze(),b=/(\d+)D(\d+)/i.$match(y),I(b)||p.$raise(r("ArgumentError"),"Unexpected table type: "+y),p.times=b["$[]"](1).$to_i(),p.sides=b["$[]"](2).$to_i()}),w(n,"$roll",function(E){var q,y=this;return q=E.$roll_sum(y.times,y.sides),y.$choice(q)}),w(n,"$choice",function(E){var q,y=this;return q=U(E,y.times),r("RollResult").$new(y.name,E,y.items["$[]"](q))})},Opal.modules["bcdice/dice_table"]=function(e){var M=e.top;return M.$require("bcdice/dice_table/roll_result"),M.$require("bcdice/dice_table/chain_table"),M.$require("bcdice/dice_table/d66_grid_table"),M.$require("bcdice/dice_table/d66_half_grid_table"),M.$require("bcdice/dice_table/d66_one_third_table"),M.$require("bcdice/dice_table/d66_left_range_table"),M.$require("bcdice/dice_table/d66_parity_table"),M.$require("bcdice/dice_table/d66_range_table"),M.$require("bcdice/dice_table/d66_table"),M.$require("bcdice/dice_table/range_table"),M.$require("bcdice/dice_table/sai_fic_skill_table"),M.$require("bcdice/dice_table/table")},Opal.modules["bcdice/enum"]=function(e){var w,C,j,k,M=e.module,H=e.const_set,s=[];return w=s,C=k=[M(s[0],"BCDice")].concat(w),j=[M(k[0],"D66SortType")].concat(C),H(j[0],"NO_SORT","no_sort"),H(j[0],"ASC","asc"),H(j[0],"DESC","desc"),function(A,C){var j=[M(A,"RoundType")].concat(C);return H(j[0],"CEIL","ceil"),H(j[0],"FLOOR","floor"),H(j[0],"ROUND","round")}(k[0],k)},Opal.modules["bcdice/translate"]=function(e){var C,L,N,R,Y,j,M=e.module,H=e.ensure_kwargs,s=e.kwrestargs,I=e.hash2,w=e.def,U=[],k=e.nil;return C=U,L=j=[M(U[0],"BCDice")].concat(C),R=[N=M(j[0],"Translate")].concat(L),Y=e.$r(R),w(N,"$translate",function(c,o){var n,D=this;return null==D.locale&&(D.locale=k),o=H(o),n=s(o,{}),Y("I18n").$translate(c,I(["locale","raise"],{locale:D.locale,raise:!0}).$merge(e.to_hash(n)))},-2)},Opal.modules["bcdice/result"]=function(e){var N,G,R,C,j,H=e.klass,s=e.send,P=e.def,I=e.return_val,w=e.return_ivar,U=[],k=e.nil;return C=U,N=j=[(0,e.module)(U[0],"BCDice")].concat(C),[R=H(j[0],null,"Result")].concat(N),P(G=e.get_singleton_class(R),"$success",function(n){return s(this.$new(),"tap",[],function(_){var h;return null==_&&(_=k),_["$text="](n),s(_,"success=",h=[!0]),h[h.length-1]})}),P(G,"$failure",function(n){return s(this.$new(),"tap",[],function(_){var h;return null==_&&(_=k),_["$text="](n),s(_,"failure=",h=[!0]),h[h.length-1]})}),P(G,"$critical",function(n){return s(this.$new(),"tap",[],function(_){var h;return null==_&&(_=k),_["$text="](n),_["$critical="](!0),s(_,"success=",h=[!0]),h[h.length-1]})}),P(G,"$fumble",function(n){return s(this.$new(),"tap",[],function(_){var h;return null==_&&(_=k),_["$text="](n),_["$fumble="](!0),s(_,"failure=",h=[!0]),h[h.length-1]})}),P(G,"$nothing",I("nothing")),P(R,"$initialize",function(c){var o=this;return null==c&&(c=k),o.text=c,o.rands=k,o.detailed_rands=k,o.secret=!1,o.success=!1,o.failure=!1,o.critical=!1,o.fumble=!1},-1),R.$attr_accessor("text","rands","detailed_rands"),R.$attr_writer("secret","success","failure","critical","fumble"),P(R,"$secret?",w("secret")),P(R,"$success?",w("success")),P(R,"$failure?",w("failure")),P(R,"$critical?",w("critical")),P(R,"$fumble?",w("fumble")),P(R,"$condition=",function(c){return this.success=c,this.failure=c["$!"]()})},Opal.modules["racc/parser"]=function(e){var E,q,p,M=e.module,H=e.klass,s=e.truthy,P=e.const_set,I=e.defs,w=e.gvars,U=e.rb_lt,k=e.def,A=e.to_ary,C=e.send,F=e.neqeq,j=e.rb_plus,S=e.eqeq,L=e.rb_ge,N=e.rb_gt,R=e.rb_minus,Y=e.rb_le,G=e.rb_times,c=e.assign_ivar_val,n=[],D=e.$r(n),r=e.nil,_=e.$$$;return E=n,q=[M(n[0],"Racc")].concat(E),p=e.$r(q),H(q[0],p("StandardError"),"ParseError"),s(_("::","ParseError","skip_raise")?"constant":r)||P(n[0],"ParseError",_(D("Racc"),"ParseError")),function(h,E){var $,f,a,x,B,p=[M(h,"Racc")].concat(E),b=e.$r(p);return s(b("Racc_No_Extensions","skip_raise")?"constant":r)||P(p[0],"Racc_No_Extensions",!1),$=p,a=[f=H(p[0],null,"Parser")].concat($),x=e.$r(a),(B=f.$$prototype).yydebug=B.racc_debug_out=B.racc_error_status=B.racc_t=B.racc_vstack=B.racc_val=B.racc_state=B.racc_tstack=r,P(a[0],"Racc_Runtime_Version","1.4.6"),P(a[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),P(a[0],"Racc_Runtime_Core_Version_R","1.4.6"),P(a[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),P(a[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),P(a[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),P(a[0],"Racc_Runtime_Core_Version",x("Racc_Runtime_Core_Version_R")),P(a[0],"Racc_Runtime_Core_Revision",x("Racc_Runtime_Core_Revision_R")),P(a[0],"Racc_Runtime_Type","ruby"),I(x("Parser"),"$racc_runtime_type",function(){return x("Racc_Runtime_Type")}),k(f,"$_racc_setup",function(){var t,T,i=this,m=r,u=r;return null==w.stderr&&(w.stderr=r),s(_(i.$class(),"Racc_debug_parser"))||(i.yydebug=!1),s(null!=(t=i.yydebug)&&t!==r?"instance-variable":r)||(i.yydebug=!1),s(i.yydebug)&&(s(null!=(T=i.racc_debug_out)&&T!==r?"instance-variable":r)||(i.racc_debug_out=w.stderr),i.racc_debug_out=s(m=i.racc_debug_out)?m:w.stderr),u=_(i.$class(),"Racc_arg"),s(U(u.$size(),14))&&u["$[]="](13,!0),u}),k(f,"$_racc_init_sysvars",function(){var t=this;return t.racc_state=[0],t.racc_tstack=[],t.racc_vstack=[],t.racc_t=r,t.racc_val=r,t.racc_read_next=!0,t.racc_user_yyerror=!1,t.racc_error_status=0}),k(f,"$do_parse",function(){return this.$__send__(x("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),k(f,"$next_token",function(){return this.$raise(x("NotImplementedError"),this.$class()+"#next_token is not defined")}),k(f,"$_racc_do_parse_rb",function(t,T){var i,u=this,K=r,Q=r,V=r,ie=r,_e=r,ne=r,ue=r,ae=r;return i=A(t),K=null==i[0]?r:i[0],Q=null==i[1]?r:i[1],V=null==i[2]?r:i[2],ie=null==i[3]?r:i[3],_e=null==i[10]?r:i[10],u.$_racc_init_sysvars(),ne=ue=ae=r,C(u,"catch",["racc_end_parse"],function re(){var se,W,g=null==re.$$s?this:re.$$s,Z=r;for(null==g.racc_state&&(g.racc_state=r),null==g.racc_read_next&&(g.racc_read_next=r),null==g.racc_t&&(g.racc_t=r),null==g.yydebug&&(g.yydebug=r),null==g.racc_val&&(g.racc_val=r);s(!0);)for(s(ae=ie["$[]"](g.racc_state["$[]"](-1)))?(s(g.racc_read_next)&&F(g.racc_t,0)&&(W=g.$next_token(),se=A(W),ne=null==se[0]?r:se[0],g.racc_val=null==se[1]?r:se[1],g.racc_t=s(ne)?s(Z=_e["$[]"](ne))?Z:1:0,s(g.yydebug)&&g.$racc_read_token(g.racc_t,ne,g.racc_val),g.racc_read_next=!1),ae=j(ae,g.racc_t),s(L(ae,0))&&s(ue=K["$[]"](ae))&&S(Q["$[]"](ae),g.racc_state["$[]"](-1))||(ue=V["$[]"](g.racc_state["$[]"](-1)))):ue=V["$[]"](g.racc_state["$[]"](-1));s(ue=g.$_racc_evalact(ue,t)););},{$$s:u})}),k(f,"$yyparse",function(t,T){return this.$__send__(x("Racc_YY_Parse_Method"),t,T,this.$_racc_setup(),!0)}),k(f,"$_racc_yyparse_rb",function(t,T,i,m){var u,Q=this,V=r,ie=r,$e=r,_e=r,ue=r,ae=r,re=r;return u=A(i),V=null==u[0]?r:u[0],ie=null==u[1]?r:u[1],$e=null==u[2]?r:u[2],_e=null==u[3]?r:u[3],ue=null==u[10]?r:u[10],Q.$_racc_init_sysvars(),ae=r,re=r,C(Q,"catch",["racc_end_parse"],function se(){var W=null==se.$$s?this:se.$$s;for(null==W.racc_state&&(W.racc_state=r);!s(re=_e["$[]"](W.racc_state["$[]"](-1)));)for(;s(ae=W.$_racc_evalact($e["$[]"](W.racc_state["$[]"](-1)),i)););return C(t,"__send__",[T],function g(Z,X){var z=null==g.$$s?this:g.$$s,O=r,te=r;for(null==z.racc_t&&(z.racc_t=r),null==z.racc_state&&(z.racc_state=r),null==z.racc_read_next&&(z.racc_read_next=r),null==Z&&(Z=r),null==X&&(X=r),z.racc_t=s(Z)?s(O=ue["$[]"](Z))?O:1:0,z.racc_val=X,z.racc_read_next=!1,re=j(re,z.racc_t),s(L(re,0))&&s(ae=V["$[]"](re))&&S(ie["$[]"](re),z.racc_state["$[]"](-1))||(ae=$e["$[]"](z.racc_state["$[]"](-1)));s(ae=z.$_racc_evalact(ae,i)););for(;s(s(O=s(te=(re=_e["$[]"](z.racc_state["$[]"](-1)))["$!"]())?te:z.racc_read_next["$!"]())?O:z.racc_t["$=="](0));)for(s(re)&&s(re=j(re,z.racc_t))&&s(L(re,0))&&s(ae=V["$[]"](re))&&S(ie["$[]"](re),z.racc_state["$[]"](-1))||(ae=$e["$[]"](z.racc_state["$[]"](-1)));s(ae=z.$_racc_evalact(ae,i)););},{$$s:W})},{$$s:Q})}),k(f,"$_racc_evalact",function(t,T){var i,$e,u=this,K=r,Q=r,ie=r,_e=r,ne=r,ue=r;if(K=null==(i=A(T))[0]?r:i[0],Q=null==i[1]?r:i[1],ie=null==i[3]?r:i[3],$e=null==i[11]?r:i[11],_e=null==i[12]?r:i[12],s(N(t,0))&&s(U(t,$e)))s(N(u.racc_error_status,0))&&(S(u.racc_t,1)||(u.racc_error_status=R(u.racc_error_status,1))),u.racc_vstack.$push(u.racc_val),u.racc_state.$push(t),u.racc_read_next=!0,s(u.yydebug)&&(u.racc_tstack.$push(u.racc_t),u.$racc_shift(u.racc_t,u.racc_tstack,u.racc_vstack));else if(s(U(t,0))&&s(N(t,_e["$-@"]()))){if(ne=C(u,"catch",["racc_jump"],function ae(){var re=null==ae.$$s?this:ae.$$s;return null==re.racc_state&&(re.racc_state=r),re.racc_state.$push(re.$_racc_do_reduce(T,t)),!1},{$$s:u}),s(ne))switch(ne.valueOf()){case 1:return u.racc_user_yyerror=!0,_e["$-@"]();case 2:return $e;default:u.$raise("[Racc Bug] unknown jump code")}}else if(S(t,$e))s(u.yydebug)&&u.$racc_accept(),u.$throw("racc_end_parse",u.racc_vstack["$[]"](0));else{if(S(t,_e["$-@"]())){switch(u.racc_error_status.valueOf()){case 0:s(T["$[]"](21))||u.$on_error(u.racc_t,u.racc_val,u.racc_vstack);break;case 3:S(u.racc_t,0)&&u.$throw("racc_end_parse",r),u.racc_read_next=!0}for(u.racc_user_yyerror=!1,u.racc_error_status=3;s(!0)&&!(s(ue=ie["$[]"](u.racc_state["$[]"](-1)))&&(ue=j(ue,1),s(L(ue,0))&&s(t=K["$[]"](ue))&&S(Q["$[]"](ue),u.racc_state["$[]"](-1))));)s(Y(u.racc_state.$size(),1))&&u.$throw("racc_end_parse",r),u.racc_state.$pop(),u.racc_vstack.$pop(),s(u.yydebug)&&(u.racc_tstack.$pop(),u.$racc_e_pop(u.racc_state,u.racc_tstack,u.racc_vstack));return t}u.$raise("[Racc Bug] unknown action "+t.$inspect())}return s(u.yydebug)&&u.$racc_next_state(u.racc_state["$[]"](-1),u.racc_state),r}),k(f,"$_racc_do_reduce",function(t,T){var i,_e,ue,Z,X,z,ee,u=this,Q=r,V=r,ie=r,$e=r,ne=r,ae=r,re=r,se=r,W=r,g=r,O=r,te=r,J=r;return Q=null==(i=A(t))[4]?r:i[4],V=null==i[5]?r:i[5],ie=null==i[6]?r:i[6],$e=null==i[7]?r:i[7],_e=null==i[8]?r:i[8],ne=null==i[9]?r:i[9],ue=null==i[13]?r:i[13],ae=u.racc_state,re=u.racc_vstack,se=u.racc_tstack,W=G(T,-3),g=ne["$[]"](W),Z=ne["$[]"](j(W,1)),X=ne["$[]"](j(W,2)),z=[],s(u.yydebug)&&(O=se["$[]"](g["$-@"](),g)),te=re["$[]"](g["$-@"](),g),s(u.yydebug)&&se["$[]="](g["$-@"](),g,z),re["$[]="](g["$-@"](),g,z),ae["$[]="](g["$-@"](),g,z),s(ue)?re.$push(u.$__send__(X,te,re,te["$[]"](0))):re.$push(u.$__send__(X,te,re)),se.$push(Z),s(u.yydebug)&&u.$racc_reduce(O,Z,se,re),ee=R(Z,_e),s(W=$e["$[]"](ee))&&(W=j(W,ae["$[]"](-1)),s(L(W,0))&&s(J=Q["$[]"](W))&&S(V["$[]"](W),ee))?J:ie["$[]"](ee)}),k(f,"$on_error",function(t,T,i){var u,m=this;return m.$raise(x("ParseError"),m.$sprintf("\nparse error on value %s (%s)",T.$inspect(),s(u=m.$token_to_str(t))?u:"?"))}),k(f,"$yyerror",function(){return this.$throw("racc_jump",1)}),k(f,"$yyaccept",function(){return this.$throw("racc_jump",2)}),k(f,"$yyerrok",c("racc_error_status",0)),k(f,"$racc_read_token",function(t,T,i){var m=this;return m.racc_debug_out.$print("read    "),m.racc_debug_out.$print(T.$inspect(),"(",m.$racc_token2str(t),") "),m.racc_debug_out.$puts(i.$inspect()),m.racc_debug_out.$puts()}),k(f,"$racc_shift",function(t,T,i){var m=this;return m.racc_debug_out.$puts("shift   "+m.$racc_token2str(t)),m.$racc_print_stacks(T,i),m.racc_debug_out.$puts()}),k(f,"$racc_reduce",function(t,T,i,m){var u=this,K=r;return(K=u.racc_debug_out).$print("reduce "),s(t["$empty?"]())?K.$print(" <none>"):C(t,"each",[],function Q(V){return null==V&&(V=r),K.$print(" ",(null==Q.$$s?this:Q.$$s).$racc_token2str(V))},{$$s:u}),K.$puts(" --\x3e "+u.$racc_token2str(T)),u.$racc_print_stacks(i,m),u.racc_debug_out.$puts()}),k(f,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),k(f,"$racc_e_pop",function(t,T,i){var m=this;return m.racc_debug_out.$puts("error recovering mode: pop token"),m.$racc_print_states(t),m.$racc_print_stacks(T,i),m.racc_debug_out.$puts()}),k(f,"$racc_next_state",function(t,T){var i=this;return i.racc_debug_out.$puts("goto    "+t),i.$racc_print_states(T),i.racc_debug_out.$puts()}),k(f,"$racc_print_stacks",function(t,T){var m=r;return(m=this.racc_debug_out).$print("        ["),C(t,"each_index",[],function u(K){return null==K&&(K=r),m.$print(" (",(null==u.$$s?this:u.$$s).$racc_token2str(t["$[]"](K))," ",T["$[]"](K).$inspect(),")")},{$$s:this}),m.$puts(" ]")}),k(f,"$racc_print_states",function(t){var i=r;return(i=this.racc_debug_out).$print("        ["),C(t,"each",[],function(u){return null==u&&(u=r),i.$print(" ",u)}),i.$puts(" ]")}),k(f,"$racc_token2str",function(t){var i;return s(i=_(this.$class(),"Racc_token_to_s_table")["$[]"](t))?i:this.$raise("[Racc Bug] can't convert token "+t+" to string")}),k(f,"$token_to_str",function(t){return _(this.$class(),"Racc_token_to_s_table")["$[]"](t)})}(n[0],n)},Opal.modules["bcdice/arithmetic/node"]=function(e){var c,r,y,$,f,p,b,h,n,M=e.module,H=e.klass,s=e.def,P=e.thrower,I=e.return_ivar,w=e.send2,U=e.find_super,k=e.eqeq,A=e.const_set,C=e.eqeqeq,F=e.rb_divide,j=e.truthy,S=e.assign_ivar,L=e.alias,N=[],R=e.nil,Y=e.$$$;return c=N,r=n=[M(N[0],"BCDice")].concat(c),y=h=[M(n[0],"Arithmetic")].concat(r),p=[M(h[0],"Node")].concat(y),b=e.$r(p),(f=($=H(p[0],null,"BinaryOp")).$$prototype).lhs=f.rhs=f.op=R,s($,"$initialize",function(x,B,v){var t=this;return t.lhs=x,t.op=B,t.rhs=v}),s($,"$eval",function(x){try{P("eval_return");var T,v=this,t=R;return t=v.lhs.$eval(x),T=v.rhs.$eval(x),t.$send(v.op,T)}catch(i){if(i===e.t_eval_return)return i.$v;throw i}}),s($,"$output",function(){var x=this;return""+x.lhs.$output()+x.op+x.rhs.$output()}),s($,"$s_exp",function(){var x=this;return"("+x.$op_for_s_exp()+" "+x.lhs.$s_exp()+" "+x.rhs.$s_exp()+")"}),s($,"$op_for_s_exp",I("op")),function(l,d,$){var f=H(l,d,"DivideBase"),a=[f].concat($),x=e.$r(a),B=f.$$prototype;B.lhs=B.rhs=B.op=R,s(f,"$initialize",function v(t,T){return v.$$p=null,w(this,U(this,"initialize",v,!1,!0),"initialize",[t,"/",T],null)}),s(f,"$eval",function(t){try{P("eval_return");var m,u,i=this;return m=i.lhs.$eval(t),u=i.rhs.$eval(t),k(u,0)&&i.$raise(x("ZeroDivisionError")),i.$divide_and_round(m,u,t)}catch(K){if(K===e.t_eval_return)return K.$v;throw K}}),s(f,"$output",function v(){var t=v.$$p||R,T=this;return v.$$p=null,""+w(T,U(T,"output",v,!1,!0),"output",[],t)+T.$rounding_method()}),f.$private(),s(f,"$rounding_method",function(){return Y(this.$class(),"ROUNDING_METHOD")}),s(f,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),s(f,"$divide_and_round",function(t,T,i){return this.$raise(x("NotImplementedError"))})}(p[0],b("BinaryOp"),p),function(l,d,$){var f=H(l,d,"DivideWithGameSystemDefault"),a=[f].concat($),x=e.$r(a);A(a[0],"ROUNDING_METHOD",""),f.$private(),s(f,"$divide_and_round",function(v,t,T){var i,m=R;return C(Y(x("RoundType"),"CEIL"),i=T)?F(v.$to_f(),t).$ceil():C(Y(x("RoundType"),"ROUND"),i)?(m=F(v.$to_f(),t),j(m["$negative?"]())?m.$abs().$round()["$-@"]():m.$round()):F(v,t).$floor()})}(p[0],b("DivideBase"),p),function(l,d,$){var f=H(l,d,"DivideWithCeil"),a=[f].concat($);A(a[0],"ROUNDING_METHOD","C"),f.$private(),s(f,"$divide_and_round",function(B,v,t){return F(B.$to_f(),v).$ceil()})}(p[0],b("DivideBase"),p),function(l,d,$){var f=H(l,d,"DivideWithRound"),a=[f].concat($);A(a[0],"ROUNDING_METHOD","R"),f.$private(),s(f,"$divide_and_round",function(B,v,t){var T=R;return T=F(B.$to_f(),v),j(T["$negative?"]())?T.$abs().$round()["$-@"]():T.$round()})}(p[0],b("DivideBase"),p),function(l,d,$){var f=H(l,d,"DivideWithFloor"),a=[f].concat($);A(a[0],"ROUNDING_METHOD","F"),f.$private(),s(f,"$divide_and_round",function(B,v,t){return F(B,v).$floor()})}(p[0],b("DivideBase"),p),function(l,d){var $=H(l,null,"Negative");$.$$prototype.body=R,s($,"$initialize",S("body")),s($,"$eval",function(x){try{return P("eval_return"),this.body.$eval(x)["$-@"]()}catch(t){if(t===e.t_eval_return)return t.$v;throw t}}),s($,"$output",function(){return"-"+this.body.$output()}),s($,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(p[0]),function(l,d){var $=H(l,null,"Parenthesis");$.$$prototype.expr=R,s($,"$initialize",S("expr")),s($,"$eval",function(x){try{return P("eval_return"),this.expr.$eval(x)}catch(t){if(t===e.t_eval_return)return t.$v;throw t}}),s($,"$output",function(){return"("+this.expr.$output()+")"}),s($,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(p[0]),function(l,d){var $=H(l,null,"Number");return $.$$prototype.value=R,s($,"$initialize",S("value")),s($,"$eval",I("value")),s($,"$output",function(){return this.value.$to_s()}),L($,"s_exp","output")}(p[0])},Opal.modules.strscan=function(e){var S,L,N,R,Y,H=e.def,s=e.truthy,P=e.eqeqeq,I=e.Opal,w=e.return_ivar,U=e.send,k=e.alias,A=[],C=e.nil;return S=A,N=[L=(0,e.klass)(A[0],null,"StringScanner")].concat(S),R=e.$r(N),(Y=L.$$prototype).pos=Y.string=Y.working=Y.matched=Y.prev_pos=Y.match=C,L.$attr_reader("pos","matched"),H(L,"$initialize",function(c){var o=this;return o.string=c,o.pos=0,o.matched=C,o.working=c,o.match=[]}),L.$attr_reader("string"),H(L,"$beginning_of_line?",function(){var c=this;return 0===c.pos||"\n"===c.string.charAt(c.pos-1)}),H(L,"$scan",function(c){var o=this,n=(c=o.$anchor(c)).exec(o.working);return null==n?o.matched=C:(o.prev_pos=o.pos,o.pos+=n[0].length,o.working=o.working.substring(n[0].length),o.matched=n[0],o.match=n,n[0])}),H(L,"$scan_until",function(c){var o=this;c=o.$anchor(c);for(var n=o.working,D=0;n.length!=D;++D){var r=c.exec(n.substr(D));if(null!==r){var _=D+r[0].length,h=n.substr(0,_);return o.matched=r[0],o.match=r,o.prev_pos=o.pos+D,o.pos+=_,o.working=n.substr(_),h}}return o.matched=C}),H(L,"$[]",function(c){var n;if(s(this.match["$empty?"]()))return C;P(R("Symbol"),n=c)?c=c.$to_s():P(R("String"),n)||(c=I["$coerce_to!"](c,R("Integer"),"to_int"));var D=this.match;return c<0&&(c+=D.length),c<0||c>=D.length||null==D[c]?C:D[c]}),H(L,"$check",function(c){var o=this,n=(c=o.$anchor(c)).exec(o.working);return o.matched=null==n?C:n[0]}),H(L,"$check_until",function(c){var o=this,n=o.prev_pos,D=o.pos,r=o.working,_=o.$scan_until(c);return o.prev_pos=n,o.pos=D,o.working=r,_}),H(L,"$peek",function(c){return this.working.substring(0,c)}),H(L,"$eos?",function(){return 0===this.working.length}),H(L,"$exist?",function(c){var n=c.exec(this.working);return null==n?C:0==n.index?0:n.index+1}),H(L,"$skip",function(c){var o=this,n=(c=o.$anchor(c)).exec(o.working);if(null==n)return o.match=[],o.matched=C;var D=n[0],r=D.length;return o.matched=D,o.match=n,o.prev_pos=o.pos,o.pos+=r,o.working=o.working.substring(r),r}),H(L,"$skip_until",function(c){var n=this.$scan_until(c);return n===C?C:(this.matched=n.substr(-1),n.length)}),H(L,"$get_byte",function(){var c=this,o=C;return c.pos<c.string.length?(c.prev_pos=c.pos,c.pos+=1,o=c.matched=c.working.substring(0,1),c.working=c.working.substring(1)):c.matched=C,o}),H(L,"$match?",function(c){var o=this,n=(c=o.$anchor(c)).exec(o.working);return null==n?C:(o.prev_pos=o.pos,n[0].length)}),H(L,"$pos=",function(c){var o=this;return c<0&&(c+=o.string.$length()),o.pos=c,o.working=o.string.slice(c)}),H(L,"$matched_size",function(){return this.matched===C?C:this.matched.length}),H(L,"$post_match",function(){var c=this;return c.matched===C?C:c.string.substr(c.pos)}),H(L,"$pre_match",function(){var c=this;return c.matched===C?C:c.string.substr(0,c.prev_pos)}),H(L,"$reset",function(){var c=this;return c.working=c.string,c.matched=C,c.pos=0}),H(L,"$rest",w("working")),H(L,"$rest?",function(){return 0!==this.working.length}),H(L,"$rest_size",function(){return this.$rest().$size()}),H(L,"$terminate",function(){var c,o=this;return o.match=C,c=[o.string.$length()],U(o,"pos=",c),c[c.length-1]}),H(L,"$unscan",function(){var c=this;return c.pos=c.prev_pos,c.prev_pos=C,c.match=C,c}),k(L,"bol?","beginning_of_line?"),k(L,"getch","get_byte"),L.$private(),H(L,"$anchor",function(c){var o=c.toString().match(/\/([^\/]+)$/);return o=o?o[1]:void 0,new RegExp("^(?:"+c.source+")",o)})},Opal.modules["bcdice/normalize"]=function(e){var k,j,C,M=e.module,H=e.eqeqeq,s=e.def,P=e.eqeq,I=[],w=e.nil;return k=I,C=[M(I[0],"BCDice")].concat(k),(j=M(C[0],"Normalize")).$module_function(),s(j,"$comparison_operator",function(L){var N;return H(/<=|=</,N=L)?"<=":H(/>=|=>/,N)?">=":H(/<>|!=|=!/,N)?"!=":H(/</,N)?"<":H(/>/,N)?">":H(/=/,N)?"==":w}),s(j,"$target_number",function(L){return P(L,"?")?L:L.$to_i()})},Opal.modules["bcdice/command/lexer"]=function(e){var S,Y,D,r,_,h,E,c,N,M=e.module,H=e.klass,s=e.const_set,P=e.hash2,I=e.truthy,w=e.send,U=e.def,k=e.thrower,A=e.top,C=[],F=e.nil;return A.$require("strscan"),A.$require("bcdice/normalize"),S=C,Y=N=[M(C[0],"BCDice")].concat(S),D=c=[M(N[0],"Command")].concat(Y),_=[r=H(c[0],null,"Lexer")].concat(D),h=e.$r(_),(E=r.$$prototype).scanner=E.notations=F,s(_[0],"SYMBOLS",P(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),U(r,"$initialize",function(q,p){var b,l,$;return q=I($=(b=(l=q)===F||null==l?F:l.$split(" ",2))===F||null==b?F:b.$first())?$:"",this.scanner=h("StringScanner").$new(q),this.notations=w(p,"map",[],function(a){return null==a&&(a=F),I(a["$is_a?"](h("String")))?h("Regexp").$new(a):a})}),U(r,"$next_token",function(){try{var q=k("return"),p=this,b=F,l=F,$=F,f=F;return I(p.scanner["$eos?"]())?[!1,"$"]:(w(p.notations,"each",[],function a(x){var v,B=null==a.$$s?this:a.$$s;if(null==B.scanner&&(B.scanner=F),null==x&&(x=F),v=B.scanner.$scan(x),!I(v))return F;q.$throw(["NOTATION",v])},{$$s:p,$$ret:q}),I(b=p.scanner.$scan(/\d+/))?["NUMBER",b.$to_i()]:I(l=p.scanner.$scan(/[<>!=]+/))?(l=h("Normalize").$comparison_operator(l),[I(l)?"CMP_OP":"ILLEGAL",l]):($=p.scanner.$getch().$upcase(),[I(f=h("SYMBOLS")["$[]"]($))?f:$.$to_sym(),$]))}catch(a){if(a===q)return a.$v;throw a}}),U(r,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(e){var A,S,G,c,o,n,D,N,F,M=e.module,H=e.klass,s=e.def,P=e.return_ivar,I=e.truthy,w=[],U=e.nil;return A=w,S=F=[M(w[0],"BCDice")].concat(A),G=N=[M(F[0],"Command")].concat(S),o=[c=H(N[0],null,"Parsed")].concat(G),n=e.$r(o),(D=c.$$prototype).critical=D.fumble=D.dollar=D.modify_number=D.question_target=D.target_number=D.prefix_number=D.command=D.suffix_number=D.cmp_op=U,c.$attr_accessor("command"),c.$attr_accessor("prefix_number"),c.$attr_accessor("suffix_number"),c.$attr_accessor("critical"),c.$attr_accessor("fumble"),c.$attr_accessor("dollar"),c.$attr_accessor("modify_number"),c.$attr_accessor("cmp_op"),c.$attr_accessor("target_number"),c.$attr_writer("question_target"),s(c,"$initialize",function(){var _=this;return _.prefix_number=U,_.suffix_number=U,_.critical=U,_.fumble=U,_.dollar=U,_.cmp_op=U,_.target_number=U,_.question_target=!1}),s(c,"$question_target?",P("question_target")),s(c,"$to_s",function(_){var h=this,E=U,y=U,q=U,p=U,b=U;switch(null==_&&(_="after_command"),E=I(h.critical)?"@"+h.critical:U,y=I(h.fumble)?"#"+h.fumble:U,q=I(h.dollar)?"$"+h.dollar:U,p=n("Format").$modifier(h.modify_number),b=I(h.question_target)?"?":h.target_number,_.valueOf()){case"after_command":return[h.prefix_number,h.command,h.suffix_number,E,y,q,p,h.cmp_op,b].$join();case"after_modify_number":return[h.prefix_number,h.command,h.suffix_number,p,E,y,q,h.cmp_op,b].$join();case"after_target_number":return[h.prefix_number,h.command,h.suffix_number,p,h.cmp_op,b,E,y,q].$join();default:return U}},-1)},Opal.modules["bcdice/command/parser"]=function(e){var _,q,f,T,i,m,u,K,Q,V,ie,$e,ue,a,v,t,se,b,l,E,M=e.klass,H=e.module,s=e.slice,P=e.extract_kwargs,I=e.ensure_kwargs,w=e.get_kwarg,U=e.send2,k=e.find_super,A=e.def,C=e.send,F=e.eqeq,j=e.thrower,S=e.hash,L=e.const_set,N=e.truthy,R=e.to_ary,Y=e.hash2,G=e.top,c=[],o=e.$r(c),n=e.nil,D=e.$$$;return G.$require("racc/parser.rb"),G.$require("bcdice/arithmetic/node"),G.$require("bcdice/command/lexer"),G.$require("bcdice/command/parsed"),M(D(o("BCDice"),"Command"),D(o("Racc"),"Parser"),"Parser"),_=c,q=E=[H(c[0],"BCDice")].concat(_),b=[H(E[0],"Command")].concat(q),l=e.$r(b),f=b,v=[a=M(b[0],D(l("Racc"),"Parser"),"Parser")].concat(f),t=e.$r(v),(se=a.$$prototype).notations=se.lexer=se.modifier=se.suffix_number=se.prefix_number=se.need_suffix_number=se.need_prefix_number=se.critical=se.fumble=se.dollar=se.allowed_cmp_op=se.question_target=n,A(a,"$initialize",function W(g,Z){var X,z,O,te,J=this;return W.$$p=null,X=s(arguments),z=P(X),z=I(z),O=X,te=w(z,"round_type"),U(J,k(J,"initialize",W,!1,!0),"initialize",[],null),J.notations=O,J.round_type=te,J.prefix_number=!1,J.suffix_number=!1,J.need_prefix_number=!1,J.need_suffix_number=!1,J.modifier=!0,J.critical=!1,J.fumble=!1,J.dollar=!1,J.allowed_cmp_op=[n,">=",">","<=","<","==","!="],J.question_target=!1},-2),A(a,"$disable_modifier",function(){return this.modifier=!1,this}),A(a,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),A(a,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),A(a,"$has_prefix_number",function(){var g=this;return g.prefix_number=!0,g.need_prefix_number=!0,g}),A(a,"$has_suffix_number",function(){var g=this;return g.suffix_number=!0,g.need_suffix_number=!0,g}),A(a,"$enable_critical",function(){return this.critical=!0,this}),A(a,"$enable_fumble",function(){return this.fumble=!0,this}),A(a,"$enable_dollar",function(){return this.dollar=!0,this}),A(a,"$restrict_cmp_op_to",function(g){var Z;return Z=s(arguments),this.allowed_cmp_op=Z,this},-1),A(a,"$enable_question_target",function(){return this.question_target=!0,this}),A(a,"$parse",function(g){var Z=this;try{return Z.lexer=t("Lexer").$new(g,Z.notations),Z.$do_parse()}catch(X){if(!e.rescue(X,[t("ParseError"),t("ZeroDivisionError")]))throw X;try{return n}finally{e.pop_exception()}}}),a.$private(),A(a,"$parsed",function(g,Z,X,z){try{return j("eval_return"),C(t("Parsed").$new(),"tap",[],function ee(J){var ce,le,de,me,ve,fe,he,oe=null==ee.$$s?this:ee.$$s;return null==oe.round_type&&(oe.round_type=n),null==J&&(J=n),J["$command="](g["$[]"]("command")),J["$prefix_number="]((ce=g["$[]"]("prefix"))===n||null==ce?n:ce.$eval(oe.round_type)),J["$suffix_number="]((le=g["$[]"]("suffix"))===n||null==le?n:le.$eval(oe.round_type)),J["$critical="]((de=Z["$[]"]("critical"))===n||null==de?n:de.$eval(oe.round_type)),J["$fumble="]((me=Z["$[]"]("fumble"))===n||null==me?n:me.$eval(oe.round_type)),J["$dollar="]((ve=Z["$[]"]("dollar"))===n||null==ve?n:ve.$eval(oe.round_type)),J["$modify_number="](X.$eval(oe.round_type)),J["$cmp_op="](z["$[]"]("cmp_op")),F(z["$[]"]("target"),"?")?(J["$question_target="](!0),C(J,"target_number=",fe=[0]),fe[fe.length-1]):(J["$question_target="](!1),fe=[(he=z["$[]"]("target"),he===n||null==he?n:he.$eval(oe.round_type))],C(J,"target_number=",fe),fe[fe.length-1])},{$$s:this})}catch(ee){if(ee===e.t_eval_return)return ee.$v;throw ee}}),A(a,"$next_token",function(){return this.lexer.$next_token()}),T=e.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),i=e.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),m=e.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),u=e.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),K=e.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),Q=e.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),V=[n,6,13,3,9,-1,27,-15,-10,-1,-38],ie=[n,n,n,n,n,n,19,16,15,n,n],$e=e.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),ue=S(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),L(v[0],"Racc_arg",[T,i,u,m,K,Q,ie,V,19,$e,ue,58,35,!0]),N(t("Ractor","skip_raise")?"constant":n)&&t("Ractor").$make_shareable(t("Racc_arg")),L(v[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),N(t("Ractor","skip_raise")?"constant":n)&&t("Ractor").$make_shareable(t("Racc_token_to_s_table")),L(v[0],"Racc_debug_parser",!1),A(a,"$_reduce_1",function(g,Z,X){var z;return N(this.modifier)||this.$raise(t("ParseError")),z=R(g),this.$parsed(null==z[0]?n:z[0],null==z[1]?n:z[1],null==z[2]?n:z[2],null==z[3]?n:z[3])}),A(a,"$_reduce_2",function(g,Z,X){var z;return N(this.modifier)||this.$raise(t("ParseError")),z=R(g),this.$parsed(null==z[0]?n:z[0],null==z[2]?n:z[2],null==z[1]?n:z[1],null==z[3]?n:z[3])}),A(a,"$_reduce_3",function(g,Z,X){var z,ce;return ce=null==(z=R(g))[2]?n:z[2],this.$parsed(null==z[0]?n:z[0],null==z[1]?n:z[1],D(D(t("Arithmetic"),"Node"),"Number").$new(0),ce)}),A(a,"$_reduce_4",function(g,Z,X){var z=this;return N(z.prefix_number)&&N(z.suffix_number)||z.$raise(t("ParseError")),Y(["command","prefix","suffix"],{command:g["$[]"](1),prefix:g["$[]"](0),suffix:g["$[]"](2)})}),A(a,"$_reduce_5",function(g,Z,X){var z=this;return N(z.prefix_number)||z.$raise(t("ParseError")),N(z.need_suffix_number)&&z.$raise(t("ParseError")),Y(["command","prefix"],{command:g["$[]"](1),prefix:g["$[]"](0)})}),A(a,"$_reduce_6",function(g,Z,X){var z=this;return N(z.suffix_number)||z.$raise(t("ParseError")),N(z.need_prefix_number)&&z.$raise(t("ParseError")),Y(["command","suffix"],{command:g["$[]"](0),suffix:g["$[]"](1)})}),A(a,"$_reduce_7",function(g,Z,X){var z=this;return(N(z.need_prefix_number)||N(z.need_suffix_number))&&z.$raise(t("ParseError")),Y(["command"],{command:g["$[]"](0)})}),A(a,"$_reduce_8",function(g,Z,X){return Y([],{})}),A(a,"$_reduce_9",function(g,Z,X){var z,ce,ee=n;return ee=null==(z=R(g))[0]?n:z[0],ce=null==z[2]?n:z[2],N(this.critical)&&N(ee["$[]"]("critical")["$nil?"]())||this.$raise(t("ParseError")),ee["$[]="]("critical",ce),ee}),A(a,"$_reduce_10",function(g,Z,X){var z,ce,ee=n;return ee=null==(z=R(g))[0]?n:z[0],ce=null==z[2]?n:z[2],N(this.fumble)&&N(ee["$[]"]("fumble")["$nil?"]())||this.$raise(t("ParseError")),ee["$[]="]("fumble",ce),ee}),A(a,"$_reduce_11",function(g,Z,X){var z,ce,ee=n;return ee=null==(z=R(g))[0]?n:z[0],ce=null==z[2]?n:z[2],N(this.dollar)&&N(ee["$[]"]("dollar")["$nil?"]())||this.$raise(t("ParseError")),ee["$[]="]("dollar",ce),ee}),A(a,"$_reduce_12",function(g,Z,X){return g["$[]"](1)}),A(a,"$_reduce_13",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"Negative").$new(g["$[]"](1))}),A(a,"$_reduce_14",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"BinaryOp").$new(g["$[]"](0),"+",g["$[]"](2))}),A(a,"$_reduce_15",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"BinaryOp").$new(g["$[]"](0),"-",g["$[]"](2))}),A(a,"$_reduce_16",function(g,Z,X){return N(this.allowed_cmp_op["$include?"](n))||this.$raise(t("ParseError")),Y([],{})}),A(a,"$_reduce_17",function(g,Z,X){var z,ee,J;return J=null==(z=R(g))[1]?n:z[1],N(this.allowed_cmp_op["$include?"](ee=null==z[0]?n:z[0]))||this.$raise(t("ParseError")),Y(["cmp_op","target"],{cmp_op:ee,target:J})}),A(a,"$_reduce_18",function(g,Z,X){var O,z=this;return O=g["$[]"](0),N(z.question_target)||z.$raise(t("ParseError")),N(z.allowed_cmp_op["$include?"](O))||z.$raise(t("ParseError")),Y(["cmp_op","target"],{cmp_op:O,target:"?"})}),A(a,"$_reduce_19",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"BinaryOp").$new(g["$[]"](0),"+",g["$[]"](2))}),A(a,"$_reduce_20",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"BinaryOp").$new(g["$[]"](0),"-",g["$[]"](2))}),A(a,"$_reduce_22",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"BinaryOp").$new(g["$[]"](0),"*",g["$[]"](2))}),A(a,"$_reduce_23",function(g,Z,X){return g["$[]"](3).$new(g["$[]"](0),g["$[]"](2))}),A(a,"$_reduce_25",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),A(a,"$_reduce_26",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"DivideWithCeil")}),A(a,"$_reduce_27",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"DivideWithCeil")}),A(a,"$_reduce_28",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"DivideWithRound")}),A(a,"$_reduce_29",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"DivideWithFloor")}),A(a,"$_reduce_30",function(g,Z,X){return g["$[]"](1)}),A(a,"$_reduce_31",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"Negative").$new(g["$[]"](1))}),A(a,"$_reduce_33",function(g,Z,X){return g["$[]"](1)}),A(a,"$_reduce_34",function(g,Z,X){return D(D(t("Arithmetic"),"Node"),"Number").$new(g["$[]"](0))}),A(a,"$_reduce_none",function(g,Z,X){return g["$[]"](0)})},Opal.modules["bcdice/deprecated/checker"]=function(e){var C,L,G,c,o,n,R,j,M=e.module,H=e.send,s=e.eqeqeq,P=e.truthy,I=e.def,w=e.return_val,U=[],k=e.nil;return C=U,L=j=[M(U[0],"BCDice")].concat(C),G=R=[M(j[0],"Deprecated")].concat(L),o=[c=M(R[0],"Checker")].concat(G),n=e.$r(o),c.$private(),I(c,"$check_result_legacy",function(r,_,h,E){var b,y=this,q=k,p=k,l=k,d=k;return q=H(_,"map",[],"sides".$to_proc()),b=(p=H(_,"map",[],"value".$to_proc())).$sum(),l=s([100],d=q)?y.$check_1D100(r,b,h,E):s([20],d)?y.$check_1D20(r,b,h,E):s([6,6],d)?y.$check_2D6(r,b,p,h,E):k,(P(l["$nil?"]())||P(l["$empty?"]()))&&(l=s([10],d=q.$uniq())?y.$check_nD10(r,b,p,h,E):s([6],d)?y.$check_nD6(r,b,p,h,E):k,P(l["$nil?"]())||P(l["$empty?"]()))?k:n("Result").$new(l.$delete_prefix(" \uff1e "))}),I(c,"$check_1D100",w(k)),I(c,"$check_1D20",w(k)),I(c,"$check_nD10",w(k)),I(c,"$check_2D6",w(k)),I(c,"$check_nD6",w(k))},Opal.modules["bcdice/base"]=function(e){var o,y,d,B,t,T,$,f,a,x,p,M=e.module,H=e.klass,s=e.slice,P=e.rb_plus,I=e.truthy,w=e.def,U=e.regexp,k=e.send,A=e.thrower,C=e.return_ivar,F=e.assign_ivar_val,j=e.eqeqeq,S=e.eqeq,L=e.return_val,N=e.range,R=e.rb_minus,Y=e.rb_divide,G=e.rb_times,c=e.rb_ge,n=e.top,D=[],r=e.$r(D),_=e.nil,h=e.$$$;return n.$require("i18n"),n.$require("i18n/backend/fallbacks"),n.$require("bcdice/randomizer"),n.$require("bcdice/dice_table"),n.$require("bcdice/enum"),n.$require("bcdice/translate"),n.$require("bcdice/result"),n.$require("bcdice/command/parser"),n.$require("bcdice/deprecated/checker"),y=D,d=p=[M(D[0],"BCDice")].concat(y),f=[$=H(p[0],null,"Base")].concat(d),a=e.$r(f),(x=$.$$prototype).raw_input=x.randomizer=x.enabled_upcase_input=x.debug=_,t=[B=e.get_singleton_class($)].concat(f),T=e.$r(t),B.$attr_reader("prefixes"),w(B,"$register_prefix",function(m){var K,V,Q=this;return null==Q.prefixes&&(Q.prefixes=_),K=s(arguments),Q.prefixes=P(I(V=Q.prefixes)?V:[],K.$flatten())},-1),w(B,"$register_prefix_from_super_class",function(){return this.$register_prefix(this.$superclass().$prefixes())}),w(B,"$prefixes_pattern",function(){var m=this,u=_;return null==m.prefixes_pattern&&(m.prefixes_pattern=_),null==m.prefixes&&(m.prefixes=_),m.prefixes_pattern=I(u=m.prefixes_pattern)?u:_,I(m.prefixes_pattern)?m.prefixes_pattern:(m.prefixes=I(u=m.prefixes)?u:[],m.prefixes.$freeze(),m.prefixes_pattern=(I(m.prefixes["$empty?"]())?/(?!)/:U(["^(S)?(",m.prefixes.$join("|"),")"],"i")).$freeze())}),w(B,"$command_pattern",function(){var m=this,u=_,K=_;return null==m.command_pattern&&(m.command_pattern=_),null==m.prefixes&&(m.prefixes=_),m.command_pattern=I(u=m.command_pattern)?u:_,I(m.command_pattern)?m.command_pattern:(m.prefixes=I(u=m.prefixes)?u:[],m.prefixes.$freeze(),K=P(k(h(T("CommonCommand"),"COMMANDS"),"map",[],function(V){return null==V&&(V=_),h(V,"PREFIX_PATTERN").$source()}),m.prefixes),m.command_pattern=U(["^S?(",K.$join("|"),")"],"i").$freeze())}),w(B,"$eval",function(m){try{return A("eval_return"),this.$new(m).$eval()}catch(Q){if(Q===e.t_eval_return)return Q.$v;throw Q}}),$.$include(a("Translate")),$.$include(h(a("Deprecated"),"Checker")),w($,"$initialize",function(v){var t=this;return t.raw_input=v,t.sort_add_dice=!1,t.sort_barabara_dice=!1,t.d66_sort_type=h(a("D66SortType"),"NO_SORT"),t.enabled_d9=!1,t.round_type=h(a("RoundType"),"FLOOR"),t.sides_implicit_d=6,t.upper_dice_reroll_threshold=_,t.reroll_dice_reroll_threshold=_,t.default_cmp_op=_,t.default_target_number=_,t.enabled_upcase_input=!0,t.locale="ja_jp",t.randomizer=h(a("BCDice"),"Randomizer").$new(),t.debug=!1}),$.$attr_accessor("randomizer"),$.$attr_reader("d66_sort_type"),$.$attr_reader("round_type"),$.$attr_reader("sides_implicit_d"),$.$attr_reader("upper_dice_reroll_threshold"),$.$attr_reader("reroll_dice_reroll_threshold"),$.$attr_reader("default_cmp_op"),$.$attr_reader("default_target_number"),w($,"$sort_add_dice?",C("sort_add_dice")),w($,"$sort_barabara_dice?",C("sort_barabara_dice")),w($,"$enabled_d9?",C("enabled_d9")),w($,"$enable_debug",F("debug",!0)),w($,"$eval",function(){var t,i,v=this,T=_;return t=h(a("BCDice"),"Preprocessor").$process(v.raw_input,v),T=I(i=v.$dice_command(t))?i:v.$eval_common_command(v.raw_input),I(T)?(T["$rands="](v.randomizer.$rand_results()),T["$detailed_rands="](v.randomizer.$detailed_rand_results()),T):_}),w($,"$change_text",function(v){return v}),w($,"$check_result",function(v,t,T,i){var m=this,u=_,K=_,Q=_,V=_,ie=_;return u=m.$check_result_legacy(v,t,T,i),I(u)?u:(K=k(t,"map",[],"sides".$to_proc()),V=(Q=k(t,"map",[],"value".$to_proc())).$sum(),u=j([100],ie=K)?m.$result_1d100(v,V,T,i):j([20],ie)?m.$result_1d20(v,V,T,i):j([6,6],ie)?m.$result_2d6(v,V,Q,T,i):_,S(u,a("Result").$nothing())?_:I(u)?u:(u=j([10],ie=K.$uniq())?m.$result_nd10(v,V,Q,T,i):j([6],ie)?m.$result_nd6(v,V,Q,T,i):_,S(u,a("Result").$nothing())?_:I(u)?u:m.$result_ndx(v,T,i)))}),w($,"$grich_text",L(_)),$.$private(),w($,"$eval_common_command",function(v){try{A("eval_return");var T=A("return");return v=this.$change_text(v),k(h(a("CommonCommand"),"COMMANDS"),"each",[],function m(u){var Q,K=null==m.$$s?this:m.$$s;if(null==K.randomizer&&(K.randomizer=_),null==u&&(u=_),Q=u.$eval(v,K,K.randomizer),!I(Q))return _;T.$throw(Q)},{$$s:this,$$ret:T}),_}catch(m){if(m===e.t_eval_return||m===T)return m.$v;throw m}}),w($,"$dice_command",function(v){var t=this,T=_,i=_,m=_,u=_;return I(t.enabled_upcase_input)&&(v=v.$upcase()),T=t.$class().$prefixes_pattern().$match(v),I(T)?(i=T["$[]"](1)["$nil?"]()["$!"](),I(i)&&(v=v["$[]"](N(1,-1,!1))),m=t.$eval_game_system_specific_command(v),I(m["$is_a?"](a("Result")))?(m["$secret="](I(u=m["$secret?"]())?u:i),m):I(m["$nil?"]())||I(m["$empty?"]())||S(m,"1")?_:k(a("Result").$new(),"tap",[],function(Q){var V;return null==Q&&(Q=_),Q["$text="](m.$to_s()),k(Q,"secret=",V=[i]),V[V.length-1]})):_}),w($,"$eval_game_system_specific_command",L(_)),w($,"$result_ndx",function(v,t,T){return I(T["$is_a?"](a("String")))?_:I(v.$send(t,T))?a("Result").$success(this.$translate("success")):a("Result").$failure(this.$translate("failure"))}),w($,"$result_1d100",L(_)),w($,"$result_1d20",L(_)),w($,"$result_nd10",L(_)),w($,"$result_2d6",L(_)),w($,"$result_nd6",L(_)),w($,"$get_table_by_2d6",function(v){return this.$get_table_by_nD6(v,2)}),w($,"$get_table_by_1d6",function(v){return this.$get_table_by_nD6(v,1)}),w($,"$get_table_by_nD6",function(v,t){return this.$get_table_by_nDx(v,t,6)}),w($,"$get_table_by_nDx",function(v,t,T){var m,u=_;return m=this.randomizer.$roll_sum(t,T),u=this.$get_table_value(v["$[]"](R(m,t))),I(u["$nil?"]())?["1",0]:[u,m]}),w($,"$get_table_by_1d3",function(v){var i,m,t=this,u=_;return t.$debug("get_table_by_1d3"),i=t.randomizer.$roll_sum(1,6),t.$debug("num",i),m=Y(R(i,1),2).$to_i(),t.$debug("index",m),u=v["$[]"](m),I(u["$nil?"]())?["1",0]:[u,i]}),w($,"$get_table_by_d66_swap",function(v){var T;return T=this.randomizer.$roll_d66(h(a("D66SortType"),"ASC")),[this.$get_table_by_number(T,v),T]}),w($,"$get_table_by_d66",function(v){var T,i,m,K,u=_;return T=this.randomizer.$roll_once(6),i=this.randomizer.$roll_once(6),m=P(G(R(T,1),6),R(i,1)),u=v["$[]"](m),K=""+T+i,I(u["$nil?"]())?["1",K]:[u,K]}),w($,"$get_table_by_number",function(v,t,T){try{var i=A("return");return null==T&&(T="1"),k(t,"each",[],function u(K){var V,Q=null==u.$$s?this:u.$$s;if(null==K&&(K=_),V=K["$[]"](0),!I(c(V,v)))return _;i.$throw(Q.$get_table_value(K["$[]"](1)))},{$$s:this,$$ret:i}),this.$get_table_value(T)}catch(u){if(u===i)return u.$v;throw u}},-3),w($,"$get_table_value",function(v){return I(v["$is_a?"](a("Proc")))?v.$call():v}),w($,"$roll_tables",function(v,t){var i=_;return i=t["$[]"](v),I(i)?i.$roll(this.randomizer).$to_s():_}),w($,"$debug",function(v,t){var i,m=this,u=_,K=_;return i=s(arguments,1),I(m.debug)?(u=I(v["$is_a?"](a("String")))?v:v.$inspect(),I(i["$empty?"]())?m.$warn(u):(K=k(i,"map",[],function(V){return null==V&&(V=_),I(V["$is_a?"](a("String")))?'"'+V+'"':V.$inspect()}),m.$warn(u+": "+K.$join(", ")))):_},-2),h(h(r("I18n"),"Backend"),"Simple").$include(h(h(r("I18n"),"Backend"),"Fallbacks")),r("I18n").$load_path()["$<<"](r("Dir")["$[]"](r("File").$join("bcdice","../../i18n/**/*.yml"))),r("I18n")["$default_locale="]("ja_jp"),o=[["ja_jp"]],k(r("I18n").$fallbacks(),"defaults=",o),o[o.length-1]},Opal.modules["bcdice/game_system/UnsungDuet"]=function(e){var N,c,h,b,d,$,E,y,q,n,D,Y,M=e.module,H=e.klass,s=e.const_set,P=e.regexp,I=e.truthy,w=e.def,U=e.thrower,k=e.send,A=e.hash2,F=[],j=e.nil,S=e.$$$;return e.top.$require("bcdice/base"),N=F,c=Y=[M(F[0],"BCDice")].concat(N),n=[M(Y[0],"GameSystem")].concat(c),D=e.$r(n),h=n,y=[E=H(n[0],D("Base"),"UnsungDuet")].concat(h),q=e.$r(y),E.$$prototype.randomizer=j,s(y[0],"ID","UnsungDuet"),s(y[0],"NAME","\u30a2\u30f3\u30b5\u30f3\u30b0\u30fb\u30c7\u30e5\u30a8\u30c3\u30c8"),s(y[0],"SORT_KEY","\u3042\u3093\u3055\u3093\u304f\u3066\u3086\u3048\u3064\u3068"),s(y[0],"HELP_MESSAGE","\u25a0 \u30b7\u30d5\u30bf\u30fc\u7528\u5224\u5b9a (shifter, UDS)\n  1D10\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 shifter, UDS, shifter>=5, shifter+1>=6\n\n\u25a0 \u30d0\u30a4\u30f3\u30c0\u30fc\u7528\u5224\u5b9a (binder, UDB)\n  2D6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 binder, UDB, binder>=5, binder+1>=6\n\n\u25a0 \u5909\u7570\u8868\n  \u30fb\u5916\u50b7 (HIN, HInjury)\n  \u30fb\u4f53\u8abf\u306e\u5909\u5316 (HPH, HPhysical)\n  \u30fb\u6050\u6016 (HFE, HFear)\n  \u30fb\u5e7b\u60f3\u5316 (HFA, HFantasy)\n  \u30fb\u7cbe\u795e (HMI, HMind)\n  \u30fb\u305d\u306e\u307b\u304b (HOT, HOther)\n"),s(y[0],"ALIAS_1D10",["shifter","UDS"].$freeze()),s(y[0],"ALIAS_2D6",["binder","UDB"].$freeze()),s(y[0],"SHIFTER_ALIAS_REG",P(["^",q("ALIAS_1D10").$join("|")],"i").$freeze()),s(y[0],"BINDER_ALIAS_REG",P(["^",q("ALIAS_2D6").$join("|")],"i").$freeze()),E.$register_prefix(q("ALIAS_1D10"),q("ALIAS_2D6")),w(E,"$eval_game_system_specific_command",function(l){var f,d=this,$=j;return l=I($=q("ALIAS")["$[]"](l))?$:l,I($=I(f=d.$roll_replaced_command_if_match(l,q("SHIFTER_ALIAS_REG"),"1D10"))?f:d.$roll_replaced_command_if_match(l,q("BINDER_ALIAS_REG"),"2D6"))?$:d.$roll_tables(l,S(d.$class(),"TABLES"))}),w(E,"$roll_replaced_command_if_match",function(l,d,$){try{return U("eval_return"),I(l["$match?"](d))?S(q("CommonCommand"),"AddDice").$eval(l.$sub(d,$),this,this.randomizer):j}catch(x){if(x===e.t_eval_return)return x.$v;throw x}}),s(y[0],"ALIAS",k(A(["HInjury","HPhysical","HFear","HFantasy","HMind","HOther"],{HInjury:"HIN",HPhysical:"HPH",HFear:"HFE",HFantasy:"HFA",HMind:"HMI",HOther:"HOT"}),"transform_keys",[],"upcase".$to_proc())),d=[b=e.get_singleton_class(E)].concat(y),$=e.$r(d),b.$private(),w(b,"$translate_tables",function(a){return A(["HIN","HPH","HFE","HFA","HMI","HOT"],{HIN:S($("DiceTable"),"Table").$from_i18n("UnsungDuet.MutatingInjuryTable",a),HPH:S($("DiceTable"),"Table").$from_i18n("UnsungDuet.MutatingPhysicalConditionTable",a),HFE:S($("DiceTable"),"Table").$from_i18n("UnsungDuet.MutatingFearTable",a),HFA:S($("DiceTable"),"Table").$from_i18n("UnsungDuet.MutatingFantasyTable",a),HMI:S($("DiceTable"),"Table").$from_i18n("UnsungDuet.MutatingMindTable",a),HOT:S($("DiceTable"),"Table").$from_i18n("UnsungDuet.MutatingOtherTable",a)}).$freeze()}),s(y[0],"TABLES",E.$translate_tables("ja_jp")),E.$register_prefix(q("ALIAS").$keys(),q("TABLES").$keys())},Opal.queue(function(e){var F,N,n,D,r,Y,G,S,M=e.module,H=e.klass,s=e.const_set,P=e.send2,I=e.find_super,w=e.def,k=[];return e.top.$require("bcdice/game_system/UnsungDuet"),F=k,N=S=[M(k[0],"BCDice")].concat(F),Y=[M(S[0],"GameSystem")].concat(N),G=e.$r(Y),n=Y,s((r=[D=H(Y[0],G("UnsungDuet"),"UnsungDuet_Korean")].concat(n))[0],"ID","UnsungDuet:Korean"),s(r[0],"NAME","\uc5b8\uc131 \ub4c0\uc5e3"),s(r[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uc5b8\uc131 \ub4c0\uc5e3"),s(r[0],"HELP_MESSAGE","\u25a0 \uc2dc\ud504\ud130 \uc6a9 \ud310\uc815 (shifter, UDS)\n  1D10\uc744 \ub2e4\uc774\uc2a4\ub864 \ud574\uc11c \ud310\uc815\uc744 \ud589\ud569\ub2c8\ub2e4.\n  \uc608\uff09 shifter, UDS, shifter>=5, shifter+1>=6\n\n\u25a0 \ubc14\uc778\ub354 \uc6a9 \ud310\uc815 (binder, UDB)\n  2D6\uc744 \ub2e4\uc774\uc2a4\ub864 \ud574\uc11c \ud310\uc815\uc744 \ud589\ud569\ub2c8\ub2e4.\n  \uc608\uff09 binder, UDB, binder>=5, binder+1>=6\n\n\u25a0 \ubcc0\uc774\ud45c\n  \u30fb\uc0c1\ucc98 (HIN, HInjury)\n  \u30fb\ubab8 \uc0c1\ud0dc\uc758 \ubcc0\ud654 (HPH, HPhysical)\n  \u30fb\uacf5\ud3ec (HFE, HFear)\n  \u30fb\ud658\uc0c1\ud654 (HFA, HFantasy)\n  \u30fb\uc815\uc2e0 (HMI, HMind)\n  \u30fb\uae30\ud0c0 (HOT, HOther)\n"),D.$register_prefix_from_super_class(),w(D,"$initialize",function _(h){var y=this;return _.$$p=null,P(y,I(y,"initialize",_,!1,!0),"initialize",[h],null),y.locale="ko_kr"}),s(r[0],"TABLES",D.$translate_tables("ko_kr"))})}}]);