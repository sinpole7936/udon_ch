(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[2089],{9756:(pe,ge,be)=>{be(5151),Opal.modules["bcdice/dice_table/table"]=function(e){var v,m,_,t,h,r,b,X,V,ee=e.module,w=e.klass,s=e.hash2,C=e.defs,G=e.truthy,Y=e.def,z=e.rb_minus,U=[],f=e.nil;return v=U,m=V=[ee(U[0],"BCDice")].concat(v),_=X=[ee(V[0],"DiceTable")].concat(m),h=[t=w(X[0],null,"Table")].concat(_),r=e.$r(h),(b=t.$$prototype).times=b.sides=b.name=b.items=f,C(t,"$from_i18n",function(F,j){var p=f;return p=r("I18n").$t(F,s(["locale"],{locale:j})),this.$new(p["$[]"]("name"),p["$[]"]("type"),p["$[]"]("items"))}),Y(t,"$initialize",function(F,j,N){var p=this,L=f;return p.name=F,p.items=N.$freeze(),L=/(\d+)D(\d+)/i.$match(j),G(L)||p.$raise(r("ArgumentError"),"Unexpected table type: "+j),p.times=L["$[]"](1).$to_i(),p.sides=L["$[]"](2).$to_i()}),Y(t,"$roll",function(F){var N,j=this;return N=F.$roll_sum(j.times,j.sides),j.$choice(N)}),Y(t,"$choice",function(F){var N,j=this;return N=z(F,j.times),r("RollResult").$new(j.name,F,j.items["$[]"](N))})},Opal.modules["bcdice/dice_table/d66_table"]=function(e){var k,H,r,b,A,F,j,_,q,ee=e.module,w=e.klass,s=e.hash2,C=e.defs,G=e.def,Y=e.eqeqeq,z=e.rb_plus,U=e.rb_times,f=e.truthy,l=[],v=e.nil,re=e.$$$;return k=l,H=q=[ee(l[0],"BCDice")].concat(k),r=_=[ee(q[0],"DiceTable")].concat(H),A=[b=w(_[0],null,"D66Table")].concat(r),F=e.$r(A),(j=b.$$prototype).sort_type=j.items=j.name=v,C(b,"$from_i18n",function(p,L){var T,W=v;return W=F("I18n").$t(p,s(["locale"],{locale:L})),T=F("D66SortType").$const_get(W["$[]"]("d66_sort_type")),this.$new(W["$[]"]("name"),T,W["$[]"]("items"))}),G(b,"$initialize",function(p,L,R){var W=this;return W.name=p,W.sort_type=L,W.items=R.$freeze()}),G(b,"$roll",function(p){var L=this,R=v,W=v,T=v,d=v;return R=p.$roll_barabara(2,6),Y(re(F("D66SortType"),"ASC"),W=L.sort_type)?R["$sort!"]():Y(re(F("D66SortType"),"DESC"),W)&&R["$sort!"]()["$reverse!"](),T=z(U(R["$[]"](0),10),R["$[]"](1)),d=f(W=L.items["$[]"](T))?W:L.items["$[]"](T.$to_s()),f(d["$respond_to?"]("roll"))&&(d=d.$roll(p)),F("RollResult").$new(L.name,T,d)}),G(b,"$choice",function(p){return F("RollResult").$new(this.name,p,this.items["$[]"](p))})},Opal.modules["bcdice/arithmetic/node"]=function(e){var $,r,j,T,d,p,L,A,t,ee=e.module,w=e.klass,s=e.def,C=e.thrower,G=e.return_ivar,Y=e.send2,z=e.find_super,U=e.eqeq,f=e.const_set,l=e.eqeqeq,v=e.rb_divide,re=e.truthy,V=e.assign_ivar,k=e.alias,m=[],q=e.nil,X=e.$$$;return $=m,r=t=[ee(m[0],"BCDice")].concat($),j=A=[ee(t[0],"Arithmetic")].concat(r),p=[ee(A[0],"Node")].concat(j),L=e.$r(p),(d=(T=w(p[0],null,"BinaryOp")).$$prototype).lhs=d.rhs=d.op=q,s(T,"$initialize",function(S,O,g){var c=this;return c.lhs=S,c.op=O,c.rhs=g}),s(T,"$eval",function(S){try{C("eval_return");var P,g=this,c=q;return c=g.lhs.$eval(S),P=g.rhs.$eval(S),c.$send(g.op,P)}catch(n){if(n===e.t_eval_return)return n.$v;throw n}}),s(T,"$output",function(){var S=this;return""+S.lhs.$output()+S.op+S.rhs.$output()}),s(T,"$s_exp",function(){var S=this;return"("+S.$op_for_s_exp()+" "+S.lhs.$s_exp()+" "+S.rhs.$s_exp()+")"}),s(T,"$op_for_s_exp",G("op")),function(R,W,T){var d=w(R,W,"DivideBase"),o=[d].concat(T),S=e.$r(o),O=d.$$prototype;O.lhs=O.rhs=O.op=q,s(d,"$initialize",function g(c,P){return g.$$p=null,Y(this,z(this,"initialize",g,!1,!0),"initialize",[c,"/",P],null)}),s(d,"$eval",function(c){try{C("eval_return");var x,i,n=this;return x=n.lhs.$eval(c),i=n.rhs.$eval(c),U(i,0)&&n.$raise(S("ZeroDivisionError")),n.$divide_and_round(x,i,c)}catch(B){if(B===e.t_eval_return)return B.$v;throw B}}),s(d,"$output",function g(){var c=g.$$p||q,P=this;return g.$$p=null,""+Y(P,z(P,"output",g,!1,!0),"output",[],c)+P.$rounding_method()}),d.$private(),s(d,"$rounding_method",function(){return X(this.$class(),"ROUNDING_METHOD")}),s(d,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),s(d,"$divide_and_round",function(c,P,n){return this.$raise(S("NotImplementedError"))})}(p[0],L("BinaryOp"),p),function(R,W,T){var d=w(R,W,"DivideWithGameSystemDefault"),o=[d].concat(T),S=e.$r(o);f(o[0],"ROUNDING_METHOD",""),d.$private(),s(d,"$divide_and_round",function(g,c,P){var n,x=q;return l(X(S("RoundType"),"CEIL"),n=P)?v(g.$to_f(),c).$ceil():l(X(S("RoundType"),"ROUND"),n)?(x=v(g.$to_f(),c),re(x["$negative?"]())?x.$abs().$round()["$-@"]():x.$round()):v(g,c).$floor()})}(p[0],L("DivideBase"),p),function(R,W,T){var d=w(R,W,"DivideWithCeil"),o=[d].concat(T);f(o[0],"ROUNDING_METHOD","C"),d.$private(),s(d,"$divide_and_round",function(O,g,c){return v(O.$to_f(),g).$ceil()})}(p[0],L("DivideBase"),p),function(R,W,T){var d=w(R,W,"DivideWithRound"),o=[d].concat(T);f(o[0],"ROUNDING_METHOD","R"),d.$private(),s(d,"$divide_and_round",function(O,g,c){var P=q;return P=v(O.$to_f(),g),re(P["$negative?"]())?P.$abs().$round()["$-@"]():P.$round()})}(p[0],L("DivideBase"),p),function(R,W,T){var d=w(R,W,"DivideWithFloor"),o=[d].concat(T);f(o[0],"ROUNDING_METHOD","F"),d.$private(),s(d,"$divide_and_round",function(O,g,c){return v(O,g).$floor()})}(p[0],L("DivideBase"),p),function(R,W){var T=w(R,null,"Negative");T.$$prototype.body=q,s(T,"$initialize",V("body")),s(T,"$eval",function(S){try{return C("eval_return"),this.body.$eval(S)["$-@"]()}catch(c){if(c===e.t_eval_return)return c.$v;throw c}}),s(T,"$output",function(){return"-"+this.body.$output()}),s(T,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(p[0]),function(R,W){var T=w(R,null,"Parenthesis");T.$$prototype.expr=q,s(T,"$initialize",V("expr")),s(T,"$eval",function(S){try{return C("eval_return"),this.expr.$eval(S)}catch(c){if(c===e.t_eval_return)return c.$v;throw c}}),s(T,"$output",function(){return"("+this.expr.$output()+")"}),s(T,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(p[0]),function(R,W){var T=w(R,null,"Number");return T.$$prototype.value=q,s(T,"$initialize",V("value")),s(T,"$eval",G("value")),s(T,"$output",function(){return this.value.$to_s()}),k(T,"s_exp","output")}(p[0])},Opal.modules["racc/parser"]=function(e){var F,N,p,ee=e.module,w=e.klass,s=e.truthy,C=e.const_set,G=e.defs,Y=e.gvars,z=e.rb_lt,U=e.def,f=e.to_ary,l=e.send,v=e.neqeq,re=e.rb_plus,V=e.eqeq,k=e.rb_ge,m=e.rb_gt,q=e.rb_minus,X=e.rb_le,H=e.rb_times,$=e.assign_ivar_val,t=[],h=e.$r(t),r=e.nil,b=e.$$$;return F=t,N=[ee(t[0],"Racc")].concat(F),p=e.$r(N),w(N[0],p("StandardError"),"ParseError"),s(b("::","ParseError","skip_raise")?"constant":r)||C(t[0],"ParseError",b(h("Racc"),"ParseError")),function(A,F){var T,d,o,S,O,p=[ee(A,"Racc")].concat(F),L=e.$r(p);return s(L("Racc_No_Extensions","skip_raise")?"constant":r)||C(p[0],"Racc_No_Extensions",!1),T=p,o=[d=w(p[0],null,"Parser")].concat(T),S=e.$r(o),(O=d.$$prototype).yydebug=O.racc_debug_out=O.racc_error_status=O.racc_t=O.racc_vstack=O.racc_val=O.racc_state=O.racc_tstack=r,C(o[0],"Racc_Runtime_Version","1.4.6"),C(o[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),C(o[0],"Racc_Runtime_Core_Version_R","1.4.6"),C(o[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),C(o[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),C(o[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),C(o[0],"Racc_Runtime_Core_Version",S("Racc_Runtime_Core_Version_R")),C(o[0],"Racc_Runtime_Core_Revision",S("Racc_Runtime_Core_Revision_R")),C(o[0],"Racc_Runtime_Type","ruby"),G(S("Parser"),"$racc_runtime_type",function(){return S("Racc_Runtime_Type")}),U(d,"$_racc_setup",function(){var c,P,n=this,x=r,i=r;return null==Y.stderr&&(Y.stderr=r),s(b(n.$class(),"Racc_debug_parser"))||(n.yydebug=!1),s(null!=(c=n.yydebug)&&c!==r?"instance-variable":r)||(n.yydebug=!1),s(n.yydebug)&&(s(null!=(P=n.racc_debug_out)&&P!==r?"instance-variable":r)||(n.racc_debug_out=Y.stderr),n.racc_debug_out=s(x=n.racc_debug_out)?x:Y.stderr),i=b(n.$class(),"Racc_arg"),s(z(i.$size(),14))&&i["$[]="](13,!0),i}),U(d,"$_racc_init_sysvars",function(){var c=this;return c.racc_state=[0],c.racc_tstack=[],c.racc_vstack=[],c.racc_t=r,c.racc_val=r,c.racc_read_next=!0,c.racc_user_yyerror=!1,c.racc_error_status=0}),U(d,"$do_parse",function(){return this.$__send__(S("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),U(d,"$next_token",function(){return this.$raise(S("NotImplementedError"),this.$class()+"#next_token is not defined")}),U(d,"$_racc_do_parse_rb",function(c,P){var n,i=this,B=r,D=r,I=r,te=r,_e=r,Z=r,ie=r,$e=r;return n=f(c),B=null==n[0]?r:n[0],D=null==n[1]?r:n[1],I=null==n[2]?r:n[2],te=null==n[3]?r:n[3],_e=null==n[10]?r:n[10],i.$_racc_init_sysvars(),Z=ie=$e=r,l(i,"catch",["racc_end_parse"],function ne(){var ae,y,u=null==ne.$$s?this:ne.$$s,E=r;for(null==u.racc_state&&(u.racc_state=r),null==u.racc_read_next&&(u.racc_read_next=r),null==u.racc_t&&(u.racc_t=r),null==u.yydebug&&(u.yydebug=r),null==u.racc_val&&(u.racc_val=r);s(!0);)for(s($e=te["$[]"](u.racc_state["$[]"](-1)))?(s(u.racc_read_next)&&v(u.racc_t,0)&&(y=u.$next_token(),ae=f(y),Z=null==ae[0]?r:ae[0],u.racc_val=null==ae[1]?r:ae[1],u.racc_t=s(Z)?s(E=_e["$[]"](Z))?E:1:0,s(u.yydebug)&&u.$racc_read_token(u.racc_t,Z,u.racc_val),u.racc_read_next=!1),$e=re($e,u.racc_t),s(k($e,0))&&s(ie=B["$[]"]($e))&&V(D["$[]"]($e),u.racc_state["$[]"](-1))||(ie=I["$[]"](u.racc_state["$[]"](-1)))):ie=I["$[]"](u.racc_state["$[]"](-1));s(ie=u.$_racc_evalact(ie,c)););},{$$s:i})}),U(d,"$yyparse",function(c,P){return this.$__send__(S("Racc_YY_Parse_Method"),c,P,this.$_racc_setup(),!0)}),U(d,"$_racc_yyparse_rb",function(c,P,n,x){var i,D=this,I=r,te=r,ue=r,_e=r,ie=r,$e=r,ne=r;return i=f(n),I=null==i[0]?r:i[0],te=null==i[1]?r:i[1],ue=null==i[2]?r:i[2],_e=null==i[3]?r:i[3],ie=null==i[10]?r:i[10],D.$_racc_init_sysvars(),$e=r,ne=r,l(D,"catch",["racc_end_parse"],function ae(){var y=null==ae.$$s?this:ae.$$s;for(null==y.racc_state&&(y.racc_state=r);!s(ne=_e["$[]"](y.racc_state["$[]"](-1)));)for(;s($e=y.$_racc_evalact(ue["$[]"](y.racc_state["$[]"](-1)),n)););return l(c,"__send__",[P],function u(E,M){var a=null==u.$$s?this:u.$$s,Q=r,ce=r;for(null==a.racc_t&&(a.racc_t=r),null==a.racc_state&&(a.racc_state=r),null==a.racc_read_next&&(a.racc_read_next=r),null==E&&(E=r),null==M&&(M=r),a.racc_t=s(E)?s(Q=ie["$[]"](E))?Q:1:0,a.racc_val=M,a.racc_read_next=!1,ne=re(ne,a.racc_t),s(k(ne,0))&&s($e=I["$[]"](ne))&&V(te["$[]"](ne),a.racc_state["$[]"](-1))||($e=ue["$[]"](a.racc_state["$[]"](-1)));s($e=a.$_racc_evalact($e,n)););for(;s(s(Q=s(ce=(ne=_e["$[]"](a.racc_state["$[]"](-1)))["$!"]())?ce:a.racc_read_next["$!"]())?Q:a.racc_t["$=="](0));)for(s(ne)&&s(ne=re(ne,a.racc_t))&&s(k(ne,0))&&s($e=I["$[]"](ne))&&V(te["$[]"](ne),a.racc_state["$[]"](-1))||($e=ue["$[]"](a.racc_state["$[]"](-1)));s($e=a.$_racc_evalact($e,n)););},{$$s:y})},{$$s:D})}),U(d,"$_racc_evalact",function(c,P){var n,ue,i=this,B=r,D=r,te=r,_e=r,Z=r,ie=r;if(B=null==(n=f(P))[0]?r:n[0],D=null==n[1]?r:n[1],te=null==n[3]?r:n[3],ue=null==n[11]?r:n[11],_e=null==n[12]?r:n[12],s(m(c,0))&&s(z(c,ue)))s(m(i.racc_error_status,0))&&(V(i.racc_t,1)||(i.racc_error_status=q(i.racc_error_status,1))),i.racc_vstack.$push(i.racc_val),i.racc_state.$push(c),i.racc_read_next=!0,s(i.yydebug)&&(i.racc_tstack.$push(i.racc_t),i.$racc_shift(i.racc_t,i.racc_tstack,i.racc_vstack));else if(s(z(c,0))&&s(m(c,_e["$-@"]()))){if(Z=l(i,"catch",["racc_jump"],function $e(){var ne=null==$e.$$s?this:$e.$$s;return null==ne.racc_state&&(ne.racc_state=r),ne.racc_state.$push(ne.$_racc_do_reduce(P,c)),!1},{$$s:i}),s(Z))switch(Z.valueOf()){case 1:return i.racc_user_yyerror=!0,_e["$-@"]();case 2:return ue;default:i.$raise("[Racc Bug] unknown jump code")}}else if(V(c,ue))s(i.yydebug)&&i.$racc_accept(),i.$throw("racc_end_parse",i.racc_vstack["$[]"](0));else{if(V(c,_e["$-@"]())){switch(i.racc_error_status.valueOf()){case 0:s(P["$[]"](21))||i.$on_error(i.racc_t,i.racc_val,i.racc_vstack);break;case 3:V(i.racc_t,0)&&i.$throw("racc_end_parse",r),i.racc_read_next=!0}for(i.racc_user_yyerror=!1,i.racc_error_status=3;s(!0)&&!(s(ie=te["$[]"](i.racc_state["$[]"](-1)))&&(ie=re(ie,1),s(k(ie,0))&&s(c=B["$[]"](ie))&&V(D["$[]"](ie),i.racc_state["$[]"](-1))));)s(X(i.racc_state.$size(),1))&&i.$throw("racc_end_parse",r),i.racc_state.$pop(),i.racc_vstack.$pop(),s(i.yydebug)&&(i.racc_tstack.$pop(),i.$racc_e_pop(i.racc_state,i.racc_tstack,i.racc_vstack));return c}i.$raise("[Racc Bug] unknown action "+c.$inspect())}return s(i.yydebug)&&i.$racc_next_state(i.racc_state["$[]"](-1),i.racc_state),r}),U(d,"$_racc_do_reduce",function(c,P){var n,_e,ie,E,M,a,J,i=this,D=r,I=r,te=r,ue=r,Z=r,$e=r,ne=r,ae=r,y=r,u=r,Q=r,ce=r,K=r;return D=null==(n=f(c))[4]?r:n[4],I=null==n[5]?r:n[5],te=null==n[6]?r:n[6],ue=null==n[7]?r:n[7],_e=null==n[8]?r:n[8],Z=null==n[9]?r:n[9],ie=null==n[13]?r:n[13],$e=i.racc_state,ne=i.racc_vstack,ae=i.racc_tstack,y=H(P,-3),u=Z["$[]"](y),E=Z["$[]"](re(y,1)),M=Z["$[]"](re(y,2)),a=[],s(i.yydebug)&&(Q=ae["$[]"](u["$-@"](),u)),ce=ne["$[]"](u["$-@"](),u),s(i.yydebug)&&ae["$[]="](u["$-@"](),u,a),ne["$[]="](u["$-@"](),u,a),$e["$[]="](u["$-@"](),u,a),s(ie)?ne.$push(i.$__send__(M,ce,ne,ce["$[]"](0))):ne.$push(i.$__send__(M,ce,ne)),ae.$push(E),s(i.yydebug)&&i.$racc_reduce(Q,E,ae,ne),J=q(E,_e),s(y=ue["$[]"](J))&&(y=re(y,$e["$[]"](-1)),s(k(y,0))&&s(K=D["$[]"](y))&&V(I["$[]"](y),J))?K:te["$[]"](J)}),U(d,"$on_error",function(c,P,n){var i,x=this;return x.$raise(S("ParseError"),x.$sprintf("\nparse error on value %s (%s)",P.$inspect(),s(i=x.$token_to_str(c))?i:"?"))}),U(d,"$yyerror",function(){return this.$throw("racc_jump",1)}),U(d,"$yyaccept",function(){return this.$throw("racc_jump",2)}),U(d,"$yyerrok",$("racc_error_status",0)),U(d,"$racc_read_token",function(c,P,n){var x=this;return x.racc_debug_out.$print("read    "),x.racc_debug_out.$print(P.$inspect(),"(",x.$racc_token2str(c),") "),x.racc_debug_out.$puts(n.$inspect()),x.racc_debug_out.$puts()}),U(d,"$racc_shift",function(c,P,n){var x=this;return x.racc_debug_out.$puts("shift   "+x.$racc_token2str(c)),x.$racc_print_stacks(P,n),x.racc_debug_out.$puts()}),U(d,"$racc_reduce",function(c,P,n,x){var i=this,B=r;return(B=i.racc_debug_out).$print("reduce "),s(c["$empty?"]())?B.$print(" <none>"):l(c,"each",[],function D(I){return null==I&&(I=r),B.$print(" ",(null==D.$$s?this:D.$$s).$racc_token2str(I))},{$$s:i}),B.$puts(" --\x3e "+i.$racc_token2str(P)),i.$racc_print_stacks(n,x),i.racc_debug_out.$puts()}),U(d,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),U(d,"$racc_e_pop",function(c,P,n){var x=this;return x.racc_debug_out.$puts("error recovering mode: pop token"),x.$racc_print_states(c),x.$racc_print_stacks(P,n),x.racc_debug_out.$puts()}),U(d,"$racc_next_state",function(c,P){var n=this;return n.racc_debug_out.$puts("goto    "+c),n.$racc_print_states(P),n.racc_debug_out.$puts()}),U(d,"$racc_print_stacks",function(c,P){var x=r;return(x=this.racc_debug_out).$print("        ["),l(c,"each_index",[],function i(B){return null==B&&(B=r),x.$print(" (",(null==i.$$s?this:i.$$s).$racc_token2str(c["$[]"](B))," ",P["$[]"](B).$inspect(),")")},{$$s:this}),x.$puts(" ]")}),U(d,"$racc_print_states",function(c){var n=r;return(n=this.racc_debug_out).$print("        ["),l(c,"each",[],function(i){return null==i&&(i=r),n.$print(" ",i)}),n.$puts(" ]")}),U(d,"$racc_token2str",function(c){var n;return s(n=b(this.$class(),"Racc_token_to_s_table")["$[]"](c))?n:this.$raise("[Racc Bug] can't convert token "+c+" to string")}),U(d,"$token_to_str",function(c){return b(this.$class(),"Racc_token_to_s_table")["$[]"](c)})}(t[0],t)},Opal.modules.strscan=function(e){var V,k,m,q,X,w=e.def,s=e.truthy,C=e.eqeqeq,G=e.Opal,Y=e.return_ivar,z=e.send,U=e.alias,f=[],l=e.nil;return V=f,m=[k=(0,e.klass)(f[0],null,"StringScanner")].concat(V),q=e.$r(m),(X=k.$$prototype).pos=X.string=X.working=X.matched=X.prev_pos=X.match=l,k.$attr_reader("pos","matched"),w(k,"$initialize",function($){var _=this;return _.string=$,_.pos=0,_.matched=l,_.working=$,_.match=[]}),k.$attr_reader("string"),w(k,"$beginning_of_line?",function(){var $=this;return 0===$.pos||"\n"===$.string.charAt($.pos-1)}),w(k,"$scan",function($){var _=this,t=($=_.$anchor($)).exec(_.working);return null==t?_.matched=l:(_.prev_pos=_.pos,_.pos+=t[0].length,_.working=_.working.substring(t[0].length),_.matched=t[0],_.match=t,t[0])}),w(k,"$scan_until",function($){var _=this;$=_.$anchor($);for(var t=_.working,h=0;t.length!=h;++h){var r=$.exec(t.substr(h));if(null!==r){var b=h+r[0].length,A=t.substr(0,b);return _.matched=r[0],_.match=r,_.prev_pos=_.pos+h,_.pos+=b,_.working=t.substr(b),A}}return _.matched=l}),w(k,"$[]",function($){var t;if(s(this.match["$empty?"]()))return l;C(q("Symbol"),t=$)?$=$.$to_s():C(q("String"),t)||($=G["$coerce_to!"]($,q("Integer"),"to_int"));var h=this.match;return $<0&&($+=h.length),$<0||$>=h.length||null==h[$]?l:h[$]}),w(k,"$check",function($){var _=this,t=($=_.$anchor($)).exec(_.working);return _.matched=null==t?l:t[0]}),w(k,"$check_until",function($){var _=this,t=_.prev_pos,h=_.pos,r=_.working,b=_.$scan_until($);return _.prev_pos=t,_.pos=h,_.working=r,b}),w(k,"$peek",function($){return this.working.substring(0,$)}),w(k,"$eos?",function(){return 0===this.working.length}),w(k,"$exist?",function($){var t=$.exec(this.working);return null==t?l:0==t.index?0:t.index+1}),w(k,"$skip",function($){var _=this,t=($=_.$anchor($)).exec(_.working);if(null==t)return _.match=[],_.matched=l;var h=t[0],r=h.length;return _.matched=h,_.match=t,_.prev_pos=_.pos,_.pos+=r,_.working=_.working.substring(r),r}),w(k,"$skip_until",function($){var t=this.$scan_until($);return t===l?l:(this.matched=t.substr(-1),t.length)}),w(k,"$get_byte",function(){var $=this,_=l;return $.pos<$.string.length?($.prev_pos=$.pos,$.pos+=1,_=$.matched=$.working.substring(0,1),$.working=$.working.substring(1)):$.matched=l,_}),w(k,"$match?",function($){var _=this,t=($=_.$anchor($)).exec(_.working);return null==t?l:(_.prev_pos=_.pos,t[0].length)}),w(k,"$pos=",function($){var _=this;return $<0&&($+=_.string.$length()),_.pos=$,_.working=_.string.slice($)}),w(k,"$matched_size",function(){return this.matched===l?l:this.matched.length}),w(k,"$post_match",function(){var $=this;return $.matched===l?l:$.string.substr($.pos)}),w(k,"$pre_match",function(){var $=this;return $.matched===l?l:$.string.substr(0,$.prev_pos)}),w(k,"$reset",function(){var $=this;return $.working=$.string,$.matched=l,$.pos=0}),w(k,"$rest",Y("working")),w(k,"$rest?",function(){return 0!==this.working.length}),w(k,"$rest_size",function(){return this.$rest().$size()}),w(k,"$terminate",function(){var $,_=this;return _.match=l,$=[_.string.$length()],z(_,"pos=",$),$[$.length-1]}),w(k,"$unscan",function(){var $=this;return $.pos=$.prev_pos,$.prev_pos=l,$.match=l,$}),U(k,"bol?","beginning_of_line?"),U(k,"getch","get_byte"),k.$private(),w(k,"$anchor",function($){var _=$.toString().match(/\/([^\/]+)$/);return _=_?_[1]:void 0,new RegExp("^(?:"+$.source+")",_)})},Opal.modules["bcdice/normalize"]=function(e){var U,re,l,ee=e.module,w=e.eqeqeq,s=e.def,C=e.eqeq,G=[],Y=e.nil;return U=G,l=[ee(G[0],"BCDice")].concat(U),(re=ee(l[0],"Normalize")).$module_function(),s(re,"$comparison_operator",function(k){var m;return w(/<=|=</,m=k)?"<=":w(/>=|=>/,m)?">=":w(/<>|!=|=!/,m)?"!=":w(/</,m)?"<":w(/>/,m)?">":w(/=/,m)?"==":Y}),s(re,"$target_number",function(k){return C(k,"?")?k:k.$to_i()})},Opal.modules["bcdice/common_command/lexer"]=function(e){var v,m,_,t,h,r,X,V,ee=e.module,w=e.klass,s=e.const_set,C=e.hash2,G=e.truthy,Y=e.def,z=e.top,U=[],f=e.nil;return z.$require("strscan"),z.$require("bcdice/normalize"),v=U,m=V=[ee(U[0],"BCDice")].concat(v),_=X=[ee(V[0],"CommonCommand")].concat(m),h=[t=w(X[0],null,"Lexer")].concat(_),r=e.$r(h),t.$$prototype.scanner=f,s(h[0],"SYMBOLS",C(["+","-","*","/","(",")","[","]","?","@"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","[":"BRACKETL","]":"BRACKETR","?":"QUESTION","@":"AT"}).$freeze()),Y(t,"$initialize",function(F){var N;return F=G(N=F.$split(" ",2).$first())?N:"",this.scanner=r("StringScanner").$new(F)}),Y(t,"$next_token",function(){var F=this,j=f,N=f,p=f,R=f;return G(F.scanner["$eos?"]())?[!1,"$"]:G(j=F.scanner.$scan(/\d+/))?["NUMBER",j.$to_i()]:G(N=F.scanner.$scan(/[<>!=]+/))?["CMP_OP",r("Normalize").$comparison_operator(N)]:(p=F.scanner.$getch().$upcase(),[G(R=r("SYMBOLS")["$[]"](p))?R:p.$to_sym(),p])}),Y(t,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/arithmetic/parser"]=function(e){var V,X,r,p,L,R,W,T,d,o,S,O,P,b,j,N,$,_,m,ee=e.module,w=e.klass,s=e.defs,C=e.def,G=e.hash,Y=e.const_set,z=e.truthy,U=e.top,f=[],l=e.nil,v=e.$$$;return U.$require("racc/parser.rb"),U.$require("bcdice/common_command/lexer"),U.$require("bcdice/arithmetic/node"),V=f,X=m=[ee(f[0],"BCDice")].concat(V),$=[ee(m[0],"Arithmetic")].concat(X),_=e.$r($),r=$,j=[b=w($[0],v(_("Racc"),"Parser"),"Parser")].concat(r),N=e.$r(j),b.$$prototype.lexer=l,s(b,"$parse",function(D){return this.$new().$parse(D)}),C(b,"$parse",function(D){try{return this.lexer=v(v(N("BCDice"),"CommonCommand"),"Lexer").$new(D),this.$do_parse()}catch(te){if(!e.rescue(te,[N("ParseError")]))throw te;try{return l}finally{e.pop_exception()}}}),b.$private(),C(b,"$next_token",function(){return this.lexer.$next_token()}),p=e.large_array_unpack("8,17,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,,,4,5,4,5,7,9,7,,,10,11,,10,11,22,26,24,25,27"),L=e.large_array_unpack("0,9,4,2,2,0,0,4,4,0,5,4,7,18,18,5,5,7,7,5,10,7,11,19,19,10,10,11,11,10,12,11,13,,,12,12,13,13,12,1,13,,,16,16,,1,1,16,21,21,21,21"),R=[-2,40,-6,l,0,8,l,10,l,1,18,20,28,30,l,l,37,l,4,14,l,47,l,l,l,l,l,l],W=[-17,-17,-3,-6,-17,-17,-14,-17,-16,-17,-17,-17,-17,-17,-12,-13,-17,28,-1,-2,-4,-7,-15,-5,-8,-9,-10,-11],T=[14,15,23,1,18,19,l,l,20,21,16],d=[3,3,4,1,2,2,l,l,3,3,1],o=[l,3,-6,-4,-19,l],S=[l,l,2,3,l,6],O=e.large_array_unpack("0,0,racc_error,3,14,_reduce_1,3,14,_reduce_2,1,14,_reduce_none,3,15,_reduce_4,4,15,_reduce_5,1,15,_reduce_none,0,17,_reduce_7,1,17,_reduce_8,1,17,_reduce_9,1,17,_reduce_10,1,17,_reduce_11,2,16,_reduce_12,2,16,_reduce_13,1,16,_reduce_none,3,18,_reduce_15,1,18,_reduce_16"),P=G(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12),Y(j[0],"Racc_arg",[p,L,W,R,T,d,S,o,13,O,P,28,17,!0]),z(N("Ractor","skip_raise")?"constant":l)&&N("Ractor").$make_shareable(N("Racc_arg")),Y(j[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","$start","add","mul","unary","round_type","term"]),z(N("Ractor","skip_raise")?"constant":l)&&N("Ractor").$make_shareable(N("Racc_token_to_s_table")),Y(j[0],"Racc_debug_parser",!1),C(b,"$_reduce_1",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"BinaryOp").$new(D["$[]"](0),"+",D["$[]"](2))}),C(b,"$_reduce_2",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"BinaryOp").$new(D["$[]"](0),"-",D["$[]"](2))}),C(b,"$_reduce_4",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"BinaryOp").$new(D["$[]"](0),"*",D["$[]"](2))}),C(b,"$_reduce_5",function(D,I,te){return D["$[]"](3).$new(D["$[]"](0),D["$[]"](2))}),C(b,"$_reduce_7",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),C(b,"$_reduce_8",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"DivideWithCeil")}),C(b,"$_reduce_9",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"DivideWithCeil")}),C(b,"$_reduce_10",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"DivideWithRound")}),C(b,"$_reduce_11",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"DivideWithFloor")}),C(b,"$_reduce_12",function(D,I,te){return D["$[]"](1)}),C(b,"$_reduce_13",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"Negative").$new(D["$[]"](1))}),C(b,"$_reduce_15",function(D,I,te){return D["$[]"](1)}),C(b,"$_reduce_16",function(D,I,te){return v(v(N("Arithmetic"),"Node"),"Number").$new(D["$[]"](0))}),C(b,"$_reduce_none",function(D,I,te){return D["$[]"](0)})},Opal.modules["bcdice/arithmetic"]=function(e){var U,re,m,X,H,V,k,l,ee=e.module,w=e.thrower,s=e.def,C=e.top,G=[],Y=e.nil;return C.$require("bcdice/arithmetic/node"),C.$require("bcdice/arithmetic/parser"),U=G,re=l=[ee(G[0],"BCDice")].concat(U),k=[V=ee(l[0],"Arithmetic")].concat(re),X=[m=e.get_singleton_class(V)].concat(k),H=e.$r(X),s(m,"$eval",function(_,t){try{var r;w("eval_return");try{return(r=H("Parser").$parse(_))===Y||null==r?Y:r.$eval(t)}catch(A){if(!e.rescue(A,[H("ZeroDivisionError")]))throw A;try{return Y}finally{e.pop_exception()}}}catch(A){if(A===e.t_eval_return)return A.$v;throw A}})},Opal.modules["bcdice/command/lexer"]=function(e){var V,X,h,r,b,A,F,$,m,ee=e.module,w=e.klass,s=e.const_set,C=e.hash2,G=e.truthy,Y=e.send,z=e.def,U=e.thrower,f=e.top,l=[],v=e.nil;return f.$require("strscan"),f.$require("bcdice/normalize"),V=l,X=m=[ee(l[0],"BCDice")].concat(V),h=$=[ee(m[0],"Command")].concat(X),b=[r=w($[0],null,"Lexer")].concat(h),A=e.$r(b),(F=r.$$prototype).scanner=F.notations=v,s(b[0],"SYMBOLS",C(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),z(r,"$initialize",function(N,p){var L,R,T;return N=G(T=(L=(R=N)===v||null==R?v:R.$split(" ",2))===v||null==L?v:L.$first())?T:"",this.scanner=A("StringScanner").$new(N),this.notations=Y(p,"map",[],function(o){return null==o&&(o=v),G(o["$is_a?"](A("String")))?A("Regexp").$new(o):o})}),z(r,"$next_token",function(){try{var N=U("return"),p=this,L=v,R=v,T=v,d=v;return G(p.scanner["$eos?"]())?[!1,"$"]:(Y(p.notations,"each",[],function o(S){var g,O=null==o.$$s?this:o.$$s;if(null==O.scanner&&(O.scanner=v),null==S&&(S=v),g=O.scanner.$scan(S),!G(g))return v;N.$throw(["NOTATION",g])},{$$s:p,$$ret:N}),G(L=p.scanner.$scan(/\d+/))?["NUMBER",L.$to_i()]:G(R=p.scanner.$scan(/[<>!=]+/))?(R=A("Normalize").$comparison_operator(R),[G(R)?"CMP_OP":"ILLEGAL",R]):(T=p.scanner.$getch().$upcase(),[G(d=A("SYMBOLS")["$[]"](T))?d:T.$to_sym(),T]))}catch(o){if(o===N)return o.$v;throw o}}),z(r,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(e){var f,V,H,$,_,t,h,m,v,ee=e.module,w=e.klass,s=e.def,C=e.return_ivar,G=e.truthy,Y=[],z=e.nil;return f=Y,V=v=[ee(Y[0],"BCDice")].concat(f),H=m=[ee(v[0],"Command")].concat(V),_=[$=w(m[0],null,"Parsed")].concat(H),t=e.$r(_),(h=$.$$prototype).critical=h.fumble=h.dollar=h.modify_number=h.question_target=h.target_number=h.prefix_number=h.command=h.suffix_number=h.cmp_op=z,$.$attr_accessor("command"),$.$attr_accessor("prefix_number"),$.$attr_accessor("suffix_number"),$.$attr_accessor("critical"),$.$attr_accessor("fumble"),$.$attr_accessor("dollar"),$.$attr_accessor("modify_number"),$.$attr_accessor("cmp_op"),$.$attr_accessor("target_number"),$.$attr_writer("question_target"),s($,"$initialize",function(){var b=this;return b.prefix_number=z,b.suffix_number=z,b.critical=z,b.fumble=z,b.dollar=z,b.cmp_op=z,b.target_number=z,b.question_target=!1}),s($,"$question_target?",C("question_target")),s($,"$to_s",function(b){var A=this,F=z,j=z,N=z,p=z,L=z;switch(null==b&&(b="after_command"),F=G(A.critical)?"@"+A.critical:z,j=G(A.fumble)?"#"+A.fumble:z,N=G(A.dollar)?"$"+A.dollar:z,p=t("Format").$modifier(A.modify_number),L=G(A.question_target)?"?":A.target_number,b.valueOf()){case"after_command":return[A.prefix_number,A.command,A.suffix_number,F,j,N,p,A.cmp_op,L].$join();case"after_modify_number":return[A.prefix_number,A.command,A.suffix_number,p,F,j,N,A.cmp_op,L].$join();case"after_target_number":return[A.prefix_number,A.command,A.suffix_number,p,A.cmp_op,L,F,j,N].$join();default:return z}},-1)},Opal.modules["bcdice/command/parser"]=function(e){var b,N,d,P,n,x,i,B,D,I,te,ue,ie,o,g,c,ae,L,R,F,ee=e.klass,w=e.module,s=e.slice,C=e.extract_kwargs,G=e.ensure_kwargs,Y=e.get_kwarg,z=e.send2,U=e.find_super,f=e.def,l=e.send,v=e.eqeq,re=e.thrower,V=e.hash,k=e.const_set,m=e.truthy,q=e.to_ary,X=e.hash2,H=e.top,$=[],_=e.$r($),t=e.nil,h=e.$$$;return H.$require("racc/parser.rb"),H.$require("bcdice/arithmetic/node"),H.$require("bcdice/command/lexer"),H.$require("bcdice/command/parsed"),ee(h(_("BCDice"),"Command"),h(_("Racc"),"Parser"),"Parser"),b=$,N=F=[w($[0],"BCDice")].concat(b),L=[w(F[0],"Command")].concat(N),R=e.$r(L),d=L,g=[o=ee(L[0],h(R("Racc"),"Parser"),"Parser")].concat(d),c=e.$r(g),(ae=o.$$prototype).notations=ae.lexer=ae.modifier=ae.suffix_number=ae.prefix_number=ae.need_suffix_number=ae.need_prefix_number=ae.critical=ae.fumble=ae.dollar=ae.allowed_cmp_op=ae.question_target=t,f(o,"$initialize",function y(u,E){var M,a,Q,ce,K=this;return y.$$p=null,M=s(arguments),a=C(M),a=G(a),Q=M,ce=Y(a,"round_type"),z(K,U(K,"initialize",y,!1,!0),"initialize",[],null),K.notations=Q,K.round_type=ce,K.prefix_number=!1,K.suffix_number=!1,K.need_prefix_number=!1,K.need_suffix_number=!1,K.modifier=!0,K.critical=!1,K.fumble=!1,K.dollar=!1,K.allowed_cmp_op=[t,">=",">","<=","<","==","!="],K.question_target=!1},-2),f(o,"$disable_modifier",function(){return this.modifier=!1,this}),f(o,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),f(o,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),f(o,"$has_prefix_number",function(){var u=this;return u.prefix_number=!0,u.need_prefix_number=!0,u}),f(o,"$has_suffix_number",function(){var u=this;return u.suffix_number=!0,u.need_suffix_number=!0,u}),f(o,"$enable_critical",function(){return this.critical=!0,this}),f(o,"$enable_fumble",function(){return this.fumble=!0,this}),f(o,"$enable_dollar",function(){return this.dollar=!0,this}),f(o,"$restrict_cmp_op_to",function(u){var E;return E=s(arguments),this.allowed_cmp_op=E,this},-1),f(o,"$enable_question_target",function(){return this.question_target=!0,this}),f(o,"$parse",function(u){var E=this;try{return E.lexer=c("Lexer").$new(u,E.notations),E.$do_parse()}catch(M){if(!e.rescue(M,[c("ParseError"),c("ZeroDivisionError")]))throw M;try{return t}finally{e.pop_exception()}}}),o.$private(),f(o,"$parsed",function(u,E,M,a){try{return re("eval_return"),l(c("Parsed").$new(),"tap",[],function J(K){var se,oe,de,ve,me,fe,he,le=null==J.$$s?this:J.$$s;return null==le.round_type&&(le.round_type=t),null==K&&(K=t),K["$command="](u["$[]"]("command")),K["$prefix_number="]((se=u["$[]"]("prefix"))===t||null==se?t:se.$eval(le.round_type)),K["$suffix_number="]((oe=u["$[]"]("suffix"))===t||null==oe?t:oe.$eval(le.round_type)),K["$critical="]((de=E["$[]"]("critical"))===t||null==de?t:de.$eval(le.round_type)),K["$fumble="]((ve=E["$[]"]("fumble"))===t||null==ve?t:ve.$eval(le.round_type)),K["$dollar="]((me=E["$[]"]("dollar"))===t||null==me?t:me.$eval(le.round_type)),K["$modify_number="](M.$eval(le.round_type)),K["$cmp_op="](a["$[]"]("cmp_op")),v(a["$[]"]("target"),"?")?(K["$question_target="](!0),l(K,"target_number=",fe=[0]),fe[fe.length-1]):(K["$question_target="](!1),fe=[(he=a["$[]"]("target"),he===t||null==he?t:he.$eval(le.round_type))],l(K,"target_number=",fe),fe[fe.length-1])},{$$s:this})}catch(J){if(J===e.t_eval_return)return J.$v;throw J}}),f(o,"$next_token",function(){return this.lexer.$next_token()}),P=e.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),n=e.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),x=e.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),i=e.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),B=e.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),D=e.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),I=[t,6,13,3,9,-1,27,-15,-10,-1,-38],te=[t,t,t,t,t,t,19,16,15,t,t],ue=e.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),ie=V(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),k(g[0],"Racc_arg",[P,n,i,x,B,D,te,I,19,ue,ie,58,35,!0]),m(c("Ractor","skip_raise")?"constant":t)&&c("Ractor").$make_shareable(c("Racc_arg")),k(g[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),m(c("Ractor","skip_raise")?"constant":t)&&c("Ractor").$make_shareable(c("Racc_token_to_s_table")),k(g[0],"Racc_debug_parser",!1),f(o,"$_reduce_1",function(u,E,M){var a;return m(this.modifier)||this.$raise(c("ParseError")),a=q(u),this.$parsed(null==a[0]?t:a[0],null==a[1]?t:a[1],null==a[2]?t:a[2],null==a[3]?t:a[3])}),f(o,"$_reduce_2",function(u,E,M){var a;return m(this.modifier)||this.$raise(c("ParseError")),a=q(u),this.$parsed(null==a[0]?t:a[0],null==a[2]?t:a[2],null==a[1]?t:a[1],null==a[3]?t:a[3])}),f(o,"$_reduce_3",function(u,E,M){var a,se;return se=null==(a=q(u))[2]?t:a[2],this.$parsed(null==a[0]?t:a[0],null==a[1]?t:a[1],h(h(c("Arithmetic"),"Node"),"Number").$new(0),se)}),f(o,"$_reduce_4",function(u,E,M){var a=this;return m(a.prefix_number)&&m(a.suffix_number)||a.$raise(c("ParseError")),X(["command","prefix","suffix"],{command:u["$[]"](1),prefix:u["$[]"](0),suffix:u["$[]"](2)})}),f(o,"$_reduce_5",function(u,E,M){var a=this;return m(a.prefix_number)||a.$raise(c("ParseError")),m(a.need_suffix_number)&&a.$raise(c("ParseError")),X(["command","prefix"],{command:u["$[]"](1),prefix:u["$[]"](0)})}),f(o,"$_reduce_6",function(u,E,M){var a=this;return m(a.suffix_number)||a.$raise(c("ParseError")),m(a.need_prefix_number)&&a.$raise(c("ParseError")),X(["command","suffix"],{command:u["$[]"](0),suffix:u["$[]"](1)})}),f(o,"$_reduce_7",function(u,E,M){var a=this;return(m(a.need_prefix_number)||m(a.need_suffix_number))&&a.$raise(c("ParseError")),X(["command"],{command:u["$[]"](0)})}),f(o,"$_reduce_8",function(u,E,M){return X([],{})}),f(o,"$_reduce_9",function(u,E,M){var a,se,J=t;return J=null==(a=q(u))[0]?t:a[0],se=null==a[2]?t:a[2],m(this.critical)&&m(J["$[]"]("critical")["$nil?"]())||this.$raise(c("ParseError")),J["$[]="]("critical",se),J}),f(o,"$_reduce_10",function(u,E,M){var a,se,J=t;return J=null==(a=q(u))[0]?t:a[0],se=null==a[2]?t:a[2],m(this.fumble)&&m(J["$[]"]("fumble")["$nil?"]())||this.$raise(c("ParseError")),J["$[]="]("fumble",se),J}),f(o,"$_reduce_11",function(u,E,M){var a,se,J=t;return J=null==(a=q(u))[0]?t:a[0],se=null==a[2]?t:a[2],m(this.dollar)&&m(J["$[]"]("dollar")["$nil?"]())||this.$raise(c("ParseError")),J["$[]="]("dollar",se),J}),f(o,"$_reduce_12",function(u,E,M){return u["$[]"](1)}),f(o,"$_reduce_13",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"Negative").$new(u["$[]"](1))}),f(o,"$_reduce_14",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"BinaryOp").$new(u["$[]"](0),"+",u["$[]"](2))}),f(o,"$_reduce_15",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"BinaryOp").$new(u["$[]"](0),"-",u["$[]"](2))}),f(o,"$_reduce_16",function(u,E,M){return m(this.allowed_cmp_op["$include?"](t))||this.$raise(c("ParseError")),X([],{})}),f(o,"$_reduce_17",function(u,E,M){var a,J,K;return K=null==(a=q(u))[1]?t:a[1],m(this.allowed_cmp_op["$include?"](J=null==a[0]?t:a[0]))||this.$raise(c("ParseError")),X(["cmp_op","target"],{cmp_op:J,target:K})}),f(o,"$_reduce_18",function(u,E,M){var Q,a=this;return Q=u["$[]"](0),m(a.question_target)||a.$raise(c("ParseError")),m(a.allowed_cmp_op["$include?"](Q))||a.$raise(c("ParseError")),X(["cmp_op","target"],{cmp_op:Q,target:"?"})}),f(o,"$_reduce_19",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"BinaryOp").$new(u["$[]"](0),"+",u["$[]"](2))}),f(o,"$_reduce_20",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"BinaryOp").$new(u["$[]"](0),"-",u["$[]"](2))}),f(o,"$_reduce_22",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"BinaryOp").$new(u["$[]"](0),"*",u["$[]"](2))}),f(o,"$_reduce_23",function(u,E,M){return u["$[]"](3).$new(u["$[]"](0),u["$[]"](2))}),f(o,"$_reduce_25",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),f(o,"$_reduce_26",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"DivideWithCeil")}),f(o,"$_reduce_27",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"DivideWithCeil")}),f(o,"$_reduce_28",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"DivideWithRound")}),f(o,"$_reduce_29",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"DivideWithFloor")}),f(o,"$_reduce_30",function(u,E,M){return u["$[]"](1)}),f(o,"$_reduce_31",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"Negative").$new(u["$[]"](1))}),f(o,"$_reduce_33",function(u,E,M){return u["$[]"](1)}),f(o,"$_reduce_34",function(u,E,M){return h(h(c("Arithmetic"),"Node"),"Number").$new(u["$[]"](0))}),f(o,"$_reduce_none",function(u,E,M){return u["$[]"](0)})},Opal.queue(function(e){var H,h,N,p,L,R,b,A,_,ee=e.module,w=e.klass,s=e.const_set,C=e.send2,G=e.find_super,Y=e.def,z=e.truthy,U=e.hash2,f=e.rb_ge,l=e.rb_le,v=e.send,re=e.hash,V=e.top,k=[],m=e.nil,q=e.$$$;return V.$require("bcdice/dice_table/table"),V.$require("bcdice/dice_table/d66_table"),V.$require("bcdice/arithmetic"),V.$require("bcdice/command/parser"),H=k,h=_=[ee(k[0],"BCDice")].concat(H),b=[ee(_[0],"GameSystem")].concat(h),A=e.$r(b),N=b,L=[p=w(b[0],A("Base"),"Bakenokawa")].concat(N),R=e.$r(L),p.$$prototype.randomizer=m,s(L[0],"ID","Bakenokawa"),s(L[0],"NAME","\u30d0\u30b1\u30ce\u30ab\u30ef"),s(L[0],"SORT_KEY","\u306f\u3051\u306e\u304b\u308f"),s(L[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\n  xBKy@z\n    x\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u6570(\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f2)\n    y\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u9762\u6570\n    z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u5024(@\u3054\u3068\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f12)\n  \uff08\u4f8b\uff09BK10\n  \u3000\u3000\u30004BK6\n  \u3000\u3000\u30002BK6@10\n\n\u30fb\u5404\u7a2e\u8868\n  \u4eca\u306e\u95a2\u4fc2\u8868 NRT\n  \u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868 KKT\n  \u8abf\u67fb\u6f14\u51fa\u8868\n    \u30ab\u30a4\u30d6\u30c4 RTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef RTB\n  \u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\n    \u30ab\u30a4\u30d6\u30c4 CTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef CTB\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\n"),Y(p,"$initialize",function T(d){var S=this;return T.$$p=null,C(S,G(S,"initialize",T,!1,!0),"initialize",[d],null),S.sort_barabara_dice=!0,S.d66_sort_type=q(R("D66SortType"),"ASC")}),Y(p,"$eval_game_system_specific_command",function(d){var S;return z(S=this.$check_action(d))?S:this.$roll_tables(d,R("TABLES"))}),Y(p,"$check_action",function(d){var o=this,O=m,g=m,c=m,P=m,n=m,x=m,i=m,B=m,D=m,I=m,te=m,ue=m;return O=q(R("Command"),"Parser").$new("BK",U(["round_type"],{round_type:q(R("RoundType"),"FLOOR")})).$enable_critical().$enable_prefix_number().$has_suffix_number().$parse(d),z(O["$nil?"]())?m:(g=4,c=z(P=O.$prefix_number())?P:2,n=O.$suffix_number(),x=z(P=O.$critical())?P:12,o.$debug("dice_faces",n),o.$debug("dice_cnt",c),o.$debug("special_target",x),i=o.randomizer.$roll_barabara(c,n).$sort(),B=i.$join(","),D=i.$sum(),I=f(D,x),te=l(D,2),ue=f(v(i,"count",[],function(Z){return null==Z&&(Z=m),f(Z,g)}),1),v(R("Result").$new(),"tap",[],function(Z){var ie;return null==Z&&(Z=m),Z["$text="]("("+c+"B"+n+">="+g+") \uff1e ["+B+"] \uff1e "+D+" \uff1e "+(z(ue)?"\u6210\u529f":"\u5931\u6557")+(z(I)?"(\u30b9\u30da\u30b7\u30e3\u30eb)":"")+(z(te)?"(\u30d5\u30a1\u30f3\u30d6\u30eb)":"")),Z["$critical="](I),Z["$fumble="](te),Z["$success="](ue),ie=[Z["$success?"]()["$!"]()],v(Z,"failure=",ie),ie[ie.length-1]}))}),s(L[0],"TABLES",U(["NRT","KKT","RTK","RTB","CTK","CTB","FT"],{NRT:q(R("DiceTable"),"D66Table").$new("\u4eca\u306e\u95a2\u4fc2\u8868",q(R("D66SortType"),"ASC"),re(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u89aa\u621a\u3060\u3063\u305f",12,"\u4ef2\u306e\u3044\u3044\u8077\u5834\u306e\u540c\u50da",13,"\u4ed5\u4e8b\u306e\u3053\u3068\u3067\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u3053\u3068\u304c\u3042\u308b",14,"\u4eba\u9593\u793e\u4f1a\u306e\u3053\u3068\u3092\u6559\u3048\u5408\u3063\u3066\u3044\u308b",15,"\u65bd\u8a2d\u540c\u58eb\u304c\u3088\u304f\u30b3\u30e9\u30dc\u3059\u308b",16,"\u8857\u306e\u304a\u5e97\u306b\u4e8c\u4eba\u3067\u51fa\u304b\u3051\u308b\u4ef2",22,"\u3069\u3046\u306b\u3082\u30a6\u30de\u304c\u5408\u308f\u305a\u306b\u55a7\u5629\u3070\u304b\u308a\u3057\u3066\u3044\u308b",23,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u7fa8\u307e\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f",24,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306b\u95a2\u3059\u308b\u82e6\u52b4\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b",25,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u306e\u751f\u6d3b\u570f\u304c\u8fd1\u3044",26,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u77e5\u308a\u5408\u3044\u3060\u3063\u305f",33,"\u3042\u3093\u306a\u4eba\u9593\u306b\u306a\u308a\u305f\u3044\u3068\u61a7\u308c\u3092\u899a\u3048\u305f",34,"\u53cb\u4eba\u3068\u3057\u3066\u8272\u3005\u306a\u60a9\u307f\u3092\u5171\u306b\u89e3\u6c7a\u3057\u3066\u304d\u305f",35,"\u653e\u3063\u3066\u304a\u3051\u306a\u3044\u3068\u3053\u308d\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u308b",36,"\u3044\u3064\u3082\u8ff7\u60d1\u3092\u304b\u3051\u3066\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u308b",44,"\u6bce\u671d\u6328\u62f6\u3092\u3059\u308b\u3088\u3046\u306a\u3054\u8fd1\u6240\u3055\u3093\uff0f\u5bee\u306e\u90e8\u5c4b\u304c\u96a3",45,"\u4f55\u304b\u60a9\u3093\u3067\u3044\u305d\u3046\u306a\u9854\u304c\u6c17\u306b\u306a\u3063\u305f",46,"\u4f55\u304b\u3068\u4ed5\u4e8b\u95a2\u4fc2\u3067\u52a9\u3051\u3066\u3082\u3089\u3044\u3001\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b",55,"\u7acb\u3061\u632f\u308b\u821e\u3044\u304c\u4eba\u9593\u3089\u3057\u304f\u3066\u7fa8\u307e\u3057\u3044",56,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u3067\u306e\u632f\u308b\u821e\u3044\u3084\u4ed5\u4e8b\u3076\u308a\u306b\u4e00\u76ee\u7f6e\u3044\u3066\u3044\u308b",66,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u898b\u308b\u3068\u61d0\u304b\u3057\u3055\u3092\u899a\u3048\u308b")),KKT:q(R("DiceTable"),"D66Table").$new("\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868",q(R("D66SortType"),"ASC"),re(11,"\u4e00\u7dd2\u306e\u7262\u7344\u306b\u6355\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",12,"\u5730\u4e0b\u306e\u56fd\u3067\u4e00\u7dd2\u306b\u904a\u3093\u3067\u3044\u305f\u3053\u3068\u304c\u3042\u308b",13,"\u5730\u4e0a\u306b\u51fa\u3066\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u308b\u5922\u3092\u8a9e\u308a\u5408\u3063\u305f",14,"\u4e00\u7dd2\u306b\u4eba\u9593\u793e\u4f1a\u3092\u5b66\u3076\u8a13\u7df4\u3092\u53d7\u3051\u305f",15,"\u751f\u307e\u308c\u305f\u6642\u304b\u3089\u305a\u3063\u3068\u4e00\u7dd2\u3060\u3063\u305f",16,"\u6642\u3005\u55a7\u5629\u3092\u3057\u5408\u3046\u3088\u3046\u306a\u4ef2\u3060\u3063\u305f",22,"\u5e7c\u5c11\u671f\u306b\u80b2\u3066\u3066\u3082\u3089\u3063\u305f\u6069\u304c\u3042\u308b",23,"\u6614\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u6642\u306e\u501f\u308a\u304c\u3042\u308b",24,"\u601d\u3044\u51fa\u305b\u306a\u3044\u3050\u3089\u3044\u6614\u306b\u3001\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u2026\u2026\u6c17\u304c\u3059\u308b",25,"\u4e00\u7dd2\u306b\u5730\u4e0a\u3067\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u3088\u3046\u3068\u7d04\u675f\u3057\u305f",26,"\u4eba\u9593\u306b\u5bfe\u3059\u308b\u61a7\u308c\u3092\u8a9e\u3063\u305f",33,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u3001\u4e00\u65b9\u7684\u306b\u61a7\u308c\u3092\u62b1\u3044\u3066\u3044\u305f",34,"\u4eba\u9593\u306e\u307e\u306d\u4e8b\u3092\u4e00\u7dd2\u306b\u3057\u3066\u3044\u305f",35,"\u5c11\u3057\u306e\u9593\u3001\u4e00\u7dd2\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",36,"\u4e00\u7dd2\u306b\u304a\u8336\u4f1a\u3092\u3057\u305f\u4ef2",44,"\u540c\u3058\u89aa\u306e\u3082\u3068\u3067\u80b2\u3063\u305f",45,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u306b\u8cb8\u3057\u304c\u3042\u3063\u3066\u3001\u307e\u3060\u8fd4\u3057\u3066\u3082\u3089\u3063\u3066\u306a\u3044",46,"\u4f55\u304b\u3068\u7af6\u3044\u5408\u3046\u3001\u30e9\u30a4\u30d0\u30eb\u540c\u58eb\u3060\u3063\u305f",55,"\u6226\u3044\u3092\u6311\u307f\u3001\u30dc\u30b3\u30dc\u30b3\u306b\u3055\u308c\u305f",56,"\u4e00\u7dd2\u306b\u9000\u5c48\u3092\u7d1b\u3089\u308f\u3059\u305f\u3081\u306b\u8272\u3005\u60aa\u3060\u304f\u307f\u3057\u3066\u3044\u305f",66,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u8cb0\u3063\u305f\u5f8c\u306b\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u8a9e\u3063\u3066\u3082\u3089\u3063\u305f\u899a\u3048\u304c\u3042\u308b")),RTK:q(R("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30ab\u30a4\u30d6\u30c4","1D10",["\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u8857\u306b\u6f5c\u307f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u3066\u56de\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3044\u3001\u30c1\u30a7\u30a4\u30f3NPC\u3092\u5c3e\u884c\u3057\u3066\u597d\u307f\u3092\u8abf\u3079\u305f","\u4eba\u9593\u306b\u306f\u6f5c\u5165\u3067\u304d\u306a\u3044\u30eb\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u305f","\u4eba\u9593\u3068\u3057\u3066\u8abf\u3079\u3066\u307f\u3088\u3046\u3068\u3057\u305f\u304c\u3001\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u304c\u51fa\u3066\u56f0\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u3092\u8abf\u67fb\u306b\u6d3b\u304b\u3057\u3001\u8abf\u3079\u4e0a\u3052\u305f","\u9b54\u6cd5\u306e\u93e1\u306b\u554f\u3044\u304b\u3051\u3066\u3001\u7b54\u3048\u3092\u8cb0\u3063\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304b\u3089\u3001\u9b54\u6cd5\u306e\u529b\u3092\u4f7f\u3063\u3066\u904e\u53bb\u3092\u8fbf\u3063\u305f","\u4ef2\u9593\u306e\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u3068\u4e00\u7dd2\u306b\u3001\u8857\u306b\u7e70\u308a\u51fa\u3057\u3066\u30c9\u30bf\u30d0\u30bf\u5287\u3092\u7e70\u308a\u5e83\u3052\u306a\u304c\u3089\u60c5\u5831\u3092\u96c6\u3081\u305f","\u5c0f\u3055\u306a\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u306b\u3001\u6c17\u4ed8\u304b\u308c\u306a\u3044\u3088\u3046\u306b\u30c1\u30a7\u30a4\u30f3NPC\u3092\u8abf\u3079\u3066\u3082\u3089\u3063\u305f","\u9b54\u5973\u306e\u30ab\u30a4\u30d6\u30c4\u306b\u983c\u3093\u3067\u3001\u8abf\u67fb\u306b\u4fbf\u5229\u306a\u85ac\u3092\u4f5c\u3063\u3066\u3082\u3089\u3063\u305f,"]),RTB:q(R("DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef","1D10",["\u4eba\u9593\u306e\u53cb\u4eba\u3092\u983c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5642\u8a71\u3092\u805e\u304f","\u4eba\u9593\u306e\u8857\u306b\u884c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u56de\u308b","\u30c1\u30a7\u30a4\u30f3PC\u306b\u8a71\u3092\u805e\u3044\u3066\u3001\u305d\u306e\u5b50\u306e\u7279\u5fb4\u304b\u3089\u597d\u307f\u3092\u63a8\u5bdf\u3059\u308b","\u30c1\u30a7\u30a4\u30f3PC\u3068\u4e00\u7dd2\u306b\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u56f2\u3092\u805e\u304d\u8fbc\u307f\u3057\u3066\u56de\u3063\u305f","\u4eba\u9593\u3068\u3057\u3066\u3001\u60c5\u5831\u901a\u306e\u4eba\u9593\u304c\u96c6\u307e\u308b\u5834\u6240\u306b\u5411\u304b\u3044\u3001\u305d\u3053\u3067\u3044\u308d\u3044\u308d\u306a\u8a71\u3092\u805e\u3044\u3066\u56de\u3063\u305f","\u30cd\u30c3\u30c8\u3092\u5229\u7528\u3057\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304c\u306a\u3044\u304b\u8abf\u3079\u3066\u307f\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u304c\u3088\u304f\u884c\u304f\u5834\u6240\u3092\u63b4\u307f\u3001\u305d\u3053\u3067\u60c5\u5831\u53ce\u96c6\u3092\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u81ea\u5206\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u304a\u5ba2\u69d8\u3068\u3057\u3066\u81ea\u5206\u306e\u62c5\u5f53\u65bd\u8a2d\u306b\u6765\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u5370\u8c61\u3092\u601d\u3044\u51fa\u3057\u305f"]),CTK:q(R("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30ab\u30a4\u30d6\u30c4",q(R("D66SortType"),"ASC"),re(11,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u300d\u3092\u4f7f\u3063\u305f\u30c9\u6d3e\u624b\u306a\u30b3\u30e9\u30dc",12,"\u81ea\u5206\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",13,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",15,"\u81ea\u5206\u306e\u65bd\u8a2d\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",16,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u3068\u81ea\u5206\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",22,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u300d\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u30d1\u30d3\u30ea\u30aa\u30f3\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",24,"\u81ea\u5206\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",25,"\u76f8\u624b\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",26,"\u81ea\u5206\u304c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u512a\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u30b3\u30e9\u30dc\u76f8\u624b\u306b\u805e\u3044\u3066\u30d2\u30f3\u30c8\u306b\u3059\u308b",33,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u30b0\u30c3\u30ba\u3068\u3057\u3066\u58f2\u308a\u51fa\u3059\u30b3\u30e9\u30dc",34,"\u9b54\u6cd5\u306e\u529b\u3092\u6f14\u51fa\u306b\u4f7f\u3063\u305f\u3001\u30ad\u30e9\u30ad\u30e9\u306e\u30b3\u30e9\u30dc",35,"\u9b54\u6cd5\u306e\u9053\u5177\u3092\u4f7f\u3063\u305f\u3001\u304a\u5ba2\u69d8\u3092\u9a5a\u304b\u305b\u308b\u3088\u3046\u306a\u30b3\u30e9\u30dc",36,"\u7ae5\u8a71\u306e\u4e16\u754c\u3092\u304f\u3063\u3064\u3051\u3066\u3001\u3061\u3050\u306f\u3050\u306a\u611f\u3058\u3092\u697d\u3057\u3093\u3067\u3082\u3089\u3046",44,"\u30d1\u30d3\u30ea\u30aa\u30f3\u306e\u4ef2\u9593\u305f\u3061\u3092\u96c6\u3081\u305f\u30b9\u30c6\u30fc\u30b8\u3092\u958b\u50ac",45,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u3042\u3048\u3066\u6652\u3057\u3001\u305d\u308c\u3092\u300c\u6f14\u51fa\u300d\u306b\u7d44\u307f\u8fbc\u3080",46,"\u81ea\u5206\u305f\u3061\u306e\u529b\u3092\u300c\u6f14\u51fa\u300d\u3068\u3057\u3066\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",55,"\u9b54\u6cd5\u306e\u529b\u304c\u304b\u304b\u3063\u305f\u304a\u571f\u7523\u3092\u6301\u305f\u305b\u308b\u30b3\u30e9\u30dc",56,"\u4e0d\u601d\u8b70\u306a\u6f14\u51fa\u304c\u3044\u3063\u3071\u3044\u306e\u30b3\u30e9\u30dc",66,"\u81ea\u5206\u305f\u3061\u4ee5\u5916\u306e\u30ab\u30a4\u30d6\u30c4\u3082\u547c\u3093\u3060\u3001\u8cd1\u3084\u304b\u306a\u30b3\u30e9\u30dc")),CTB:q(R("DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef",q(R("D66SortType"),"ASC"),re(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u751f\u6d3b\u3059\u308b\u3046\u3061\u306b\u899a\u3048\u305f\u3001\u300c\u697d\u3057\u304b\u3063\u305f\u3053\u3068\u300d\u3092\u3084\u3063\u3066\u307f\u308b",12,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u3058\u3083\u307e\u3059\u308b\u30b3\u30e9\u30dc",13,"\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u30b3\u30e9\u30dc\u76f8\u624b\u3092\u547c\u3076",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u571f\u7523\u3092\u7528\u610f\u3059\u308b",15,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u4f7f\u3046",16,"\u81ea\u5206\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u8d08\u308b",22,"\u30d0\u30b1\u30ce\u30ab\u30ef\u751f\u6d3b\u306e\u4e2d\u3067\u6c17\u4ed8\u3044\u305f\u3001\u300c\u4eba\u9593\u306f\u9762\u767d\u3044\u300d\u3068\u601d\u3048\u305f\u3053\u3068\u3092\u3084\u308b",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u6280\u80fd\u3067\u5712\u5168\u4f53\u3092\u76db\u308a\u4e0a\u3052\u308b",24,"\u81ea\u5206\u306e\u6280\u80fd\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",25,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u6280\u80fd\u3092\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",26,"\u81ea\u5206\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",33,"\u81ea\u5206\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u3068\u76f8\u8ac7\u3059\u308b",34,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",35,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u5408\u308f\u305b\u305f\u3088\u3046\u306a\u65bd\u8a2d\u3092\u9650\u5b9a\u30aa\u30fc\u30d7\u30f3",36,"\u304a\u5ba2\u69d8\u306e\u7b11\u9854\u3092\u601d\u3044\u51fa\u3057\u3001\u305d\u3046\u306a\u308b\u3088\u3046\u306b\u4e8c\u4eba\u3067\u52aa\u529b\u3059\u308b",44,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u7e4b\u3052\u308b\u5712\u5185\u30d0\u30b9\u3092\u7528\u610f\u3059\u308b",45,"\u304a\u5ba2\u69d8\u306b\u697d\u3057\u3093\u3067\u3082\u3089\u3048\u308b\u6f14\u51fa\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",46,"\u304a\u5ba2\u69d8\u304c\u597d\u307f\u305d\u3046\u306a\u304a\u571f\u7523\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",55,"\u4eba\u9593\u306e\u53cb\u9054\u306b\u3001\u300c\u4f55\u304c\u697d\u3057\u3044\u306e\u304b\u300d\u3092\u6539\u3081\u3066\u805e\u304f",56,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u4f1d\u624b\u3092\u4f7f\u3063\u3066\u3001\u4eba\u9593\u306e\u53cb\u9054\u306b\u8a71\u3092\u805e\u304f",66,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u306e\u307f\u3093\u306a\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3046\u8c6a\u83ef\u306a\u30b3\u30e9\u30dc")),FT:q(R("DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u300c\u3042\u308c\uff1f\u201d\u81ea\u5206\u201d\u306f\u4e00\u4f53\u4f55\u8005\u3060\u3063\u305f\u304b\u306a\uff1f\u300d\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u30921\u3064\u9078\u3093\u3067\u5931\u3046","\u3075\u3068\u3057\u305f\u77ac\u9593\u306b\u3001\u697d\u3057\u3044\u611f\u60c5\u306b\u5bfe\u3057\u3066\u61d0\u7591\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u9078\u3093\u3067\u5931\u3046","\u305b\u3063\u304b\u304f\u7528\u610f\u3057\u305f\u9053\u5177\u3092\u58ca\u3057\u3066\u3057\u307e\u3046\u3002\u30bb\u30c3\u30c8\u3057\u3066\u3044\u305f\u30b5\u30d7\u30e9\u30a4\u30ba\u30ab\u30fc\u30c9\u30921\u679a\u9078\u3093\u3067\u7834\u68c4\u3059\u308b","\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u8a18\u61b6\u304c\u601d\u3044\u51fa\u3055\u308c\u308b\u3002\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3068\u305d\u308c\u306b\u4ed8\u968f\u3059\u308b\u30d1\u30fc\u30bd\u30ca\u30eb\u6280\u80fd\u30921\u3064\u305a\u3064\u7372\u5f97\u3059\u308b","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u81ea\u5206\u304c\u524d\u9762\u306b\u51fa\u3066\u3057\u307e\u3046\u3002\u6b21\u306b\u884c\u3046\u5224\u5b9a\u306e\u9593\u3001\u3059\u3079\u3066\u306e\u6280\u80fd\u3092\u4fee\u5f97\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u3046","\u5931\u6557\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u3001\u305d\u308c\u304c\u304a\u5ba2\u69d8\u306b\u30a6\u30b1\u305f\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u7372\u5f97\u3059\u308b"])}).$freeze()),p.$register_prefix("\\d*BK",R("TABLES").$keys())})}}]);