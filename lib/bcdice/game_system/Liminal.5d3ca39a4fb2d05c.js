(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6669],{3488:(U,V,R)=>{R(5151),Opal.queue(function(t){var G,N,Q,m,h,M,P,q,Y,z,C=t.module,A=t.klass,L=t.const_set,s=t.truthy,g=t.def,E=t.hash2,_=t.rb_plus,w=t.eqeq,x=t.send,k=t.rb_ge,B=t.rb_gt,j=[],e=t.nil,S=t.$$$;return G=j,N=z=[C(j[0],"BCDice")].concat(G),q=[C(z[0],"GameSystem")].concat(N),Y=t.$r(q),Q=q,h=[m=A(q[0],Y("Base"),"Liminal")].concat(Q),M=t.$r(h),(P=m.$$prototype).round_type=P.randomizer=e,L(h[0],"ID","Liminal"),L(h[0],"NAME","\u30ea\u30df\u30ca\u30eb"),L(h[0],"SORT_KEY","\u308a\u307f\u306a\u308b"),L(h[0],"HELP_MESSAGE","\u25a0\u6280\u80fd\u5224\u5b9a\u3000LMx+b>=t+m   x:\u6280\u80fd\u30ec\u30d9\u30eb b:\u30dc\u30fc\u30ca\u30b9 t:\u96e3\u6613\u5ea6 m:\u6575\u306e\u6280\u80fd\u30ec\u30d9\u30eb(\u5bfe\u6297\u5224\u5b9a)\n\n\u4f8b)LM2>=8:  \u6280\u80fd\u30ec\u30d9\u30eb2,\u96e3\u6613\u5ea68\u3067\u6280\u80fd\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u8868\u793a\u3002(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6210\u529f\u3082\u8868\u793a)\n   LM3+2>=9:\u6280\u80fd\u30ec\u30d9\u30eb3,\u30dc\u30fc\u30ca\u30b9+2,\u96e3\u6613\u5ea69\u3067\u6280\u80fd\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u8868\u793a\u3002( \u3003 )\n   LM0>=8:  \u6280\u80fd\u306a\u3057,\u96e3\u6613\u5ea68\u3067\u6280\u80fd\u5224\u5b9a\u3059\u308b\u3002(\u96e3\u6613\u5ea6+2\u306f\u81ea\u52d5\u7684\u306b\u8db3\u3055\u308c\u307e\u3059)\n\n\u25a0\u30a4\u30cb\u30b7\u30a2\u30c6\u30a3\u30f4\u5224\u5b9a\u3000LIx+b>=t+m   x:\u8a8d\u8b58\u529b\u30ec\u30d9\u30eb b:\u30dc\u30fc\u30ca\u30b9 t:\u96e3\u6613\u5ea6 m:\u6575\u306e\u8a8d\u8b58\u529b\u30ec\u30d9\u30eb\n\u4f8b)LI2>=8+2:  \u8a8d\u8b58\u529b\u30ec\u30d9\u30eb2,\u96e3\u6613\u5ea68,\u6575\u8a8d\u8b58\u529b\u30ec\u30d9\u30eb2\u3067\u6280\u80fd\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c\u3092\u8868\u793a\u3002\n   LI0>=8+2:  \u8a8d\u8b58\u529b\u306a\u3057,\u96e3\u6613\u5ea68,\u6575\u8a8d\u8b58\u529b\u30ec\u30d9\u30eb2\u3067\u6280\u80fd\u5224\u5b9a\u3059\u308b\u3002(\u96e3\u6613\u5ea6\u52a0\u7b97\u306a\u3057)\n"),m.$register_prefix("LI","LM"),g(m,"$eval_game_system_specific_command",function($){var d;return s(d=this.$resolute_action($))?d:this.$resolute_initiative($)}),m.$private(),g(m,"$resolute_action",function($){var o=this,i=e,a=e,u=e,r=e,b=e,c=e,f=e;return i=S(M("Command"),"Parser").$new("LM",E(["round_type"],{round_type:o.round_type})).$has_suffix_number().$restrict_cmp_op_to(">=").$parse($),s(i)?(a=i.$suffix_number(),u=i.$modify_number(),r=i.$target_number(),b=o.randomizer.$roll_barabara(2,6),c=b.$sum(),f=_(_(c,a),u),w(a,0)&&(r=_(r,2)),x(M("Result").$new(),"tap",[],function p(n){var l,y=null==p.$$s?this:p.$$s;return null==n&&(n=e),n["$condition="](k(f,r)),n["$critical="](k(f,_(r,5))),w(c,2)&&(n["$fumble="](!0),n["$critical="](!1),n["$condition="](!1)),l=[["(LM"+a+y.$with_symbol(u)+">="+r+")",c+"["+b.$join(",")+"]"+y.$with_symbol(_(a,u)),f.$to_s(),s(n["$fumble?"]())?"1\u30be\u30ed":s(n["$critical?"]())?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":s(n["$success?"]())?"\u6210\u529f":"\u5931\u6557"].$compact().$join(" \uff1e ")],x(n,"text=",l),l[l.length-1]},{$$s:o})):e}),g(m,"$with_symbol",function($){return w($,0)?"+0":s(B($,0))?"+"+$:$.$to_s()}),g(m,"$resolute_initiative",function($){var o=this,i=e,a=e,u=e,r=e,b=e,c=e,f=e;return i=S(M("Command"),"Parser").$new("LI",E(["round_type"],{round_type:o.round_type})).$has_suffix_number().$restrict_cmp_op_to(">=").$parse($),s(i)?(a=i.$suffix_number(),u=i.$modify_number(),r=i.$target_number(),b=o.randomizer.$roll_barabara(2,6),c=b.$sum(),f=_(_(c,a),u),x(M("Result").$new(),"tap",[],function p(n){var l,y=null==p.$$s?this:p.$$s;return null==n&&(n=e),n["$condition="](k(f,r)),n["$critical="](k(f,_(r,5))),w(c,2)&&(n["$fumble="](!0),n["$critical="](!1),n["$condition="](!1)),l=[["(LI"+a+y.$with_symbol(u)+">="+r+")",c+"["+b.$join(",")+"]"+y.$with_symbol(_(a,u)),f.$to_s(),s(n["$fumble?"]())?"1\u30be\u30ed":s(n["$critical?"]())?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":s(n["$success?"]())?"\u6210\u529f":"\u5931\u6557"].$compact().$join(" \uff1e ")],x(n,"text=",l),l[l.length-1]},{$$s:o})):e})})}}]);