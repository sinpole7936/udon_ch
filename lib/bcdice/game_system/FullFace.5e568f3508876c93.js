(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[4999],{9938:(t$,i$,L)=>{L(5151),Opal.queue(function(n){var U,X,n$,F,p,C,H,A,O,R,D=n.module,N=n.klass,z=n.const_set,P=n.send2,T=n.find_super,x=n.def,i=n.truthy,Y=n.eqeq,l=n.send,y=n.rb_le,e=n.rb_gt,o=n.rb_plus,G=n.rb_ge,J=n.thrower,M=[],$=n.nil;return U=M,X=R=[D(M[0],"BCDice")].concat(U),A=[D(R[0],"GameSystem")].concat(X),O=n.$r(A),n$=A,p=[F=N(A[0],O("Base"),"FullFace")].concat(n$),C=n.$r(p),(H=F.$$prototype).round_type=H.randomizer=$,z(p[0],"ID","FullFace"),z(p[0],"NAME","\u30d5\u30eb\u30d5\u30a7\u30a4\u30b9"),z(p[0],"SORT_KEY","\u3075\u308b\u3075\u3048\u3044\u3059"),z(p[0],"HELP_MESSAGE","\u25a0\u5224\u5b9a\u3000x+bFF<=a[,t][&d]   x:\u30d2\u30fc\u30c8(\u7701\u7565\u6642\u306f3) b:\u5224\u5b9a\u4fee\u6b63 a:\u80fd\u529b\u5024 t:\u96e3\u6613\u5ea6(\u7701\u7565\u53ef) d:\u57fa\u672c\u30c0\u30e1\u30fc\u30b8(\u7701\u7565\u53ef)\n\n\u4f8b)FF<=2:     \u80fd\u529b\u50242\u3067\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c(\u6210\u529f\u6570,1\u306e\u76ee\u306e\u6570,6\u306e\u76ee\u306e\u6570,\u30d0\u30fc\u30b9\u30c8)\u3092\u8868\u793a\u3002\n   6FF<=3:    \u30d2\u30fc\u30c86,\u80fd\u529b\u50243\u3067\u6226\u95d8\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c( \u3003 )\u3092\u8868\u793a\u3002\n   8+2FF<=3:  \u30d2\u30fc\u30c88,\u5224\u5b9a\u4fee\u6b63+2,\u80fd\u529b\u50243\u3067\u6226\u95d8\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c( \u3003 )\u3092\u8868\u793a\u3002\n   FF<=2,1:   \u80fd\u529b\u50242,\u96e3\u6613\u5ea61\u3067\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c(\u6210\u529f\u6570,1\u306e\u76ee\u306e\u6570,6\u306e\u76ee\u306e\u6570,\u6210\u529f\u30fb\u5931\u6557,\u30d0\u30fc\u30b9\u30c8)\u3092\u8868\u793a\u3002\n   6FF<=3,2&1:\u30d2\u30fc\u30c86,\u80fd\u529b\u50243,\u96e3\u6613\u5ea62,\u57fa\u672c\u30c0\u30e1\u30fc\u30b81\u3067\u6226\u95d8\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c(\u6210\u529f\u6570,1\u306e\u76ee\u306e\u6570,6\u306e\u76ee\u306e\u6570,\u30c0\u30e1\u30fc\u30b8,\u30d0\u30fc\u30b9\u30c8)\u3092\u8868\u793a\u3002\n\n"),F.$register_prefix("([+\\d]+)*FF"),x(F,"$initialize",function m(s){var f=this;return m.$$p=null,P(f,T(f,"initialize",m,!1,!0),"initialize",[s],null),f.sort_barabara_dice=!0}),x(F,"$eval_game_system_specific_command",function(s){return this.$resolute_action(s)}),F.$private(),x(F,"$resolute_action",function(s){try{J("eval_return");var g,w,j,q,E,f=this,_=$,v=$,k=$,t=$,a=$,c=$,h=$;if(_=/^(\d*)([+\d]+)*FF<=(\d)(,(\d))?(&(\d))?$/.$match(s),!i(_))return $;for(v=_["$[]"](1).$to_i(),Y(v,0)&&(v=3),g=C("Arithmetic").$eval("0"+_["$[]"](2),f.round_type),w=_["$[]"](3).$to_i(),j=_["$[]"](5).$to_i(),q=_["$[]"](7).$to_i(),k=[],a=(t=f.randomizer.$roll_barabara(v,6).$sort()).$count(1),E=t.$count(6),c=l(t,"count",[],function(r){return null==r&&(r=$),y(r,w)}),k.$push(t.$join(",")),i(e(g,0))&&(t=f.randomizer.$roll_barabara(g,6).$sort(),a=o(a,t.$count(1)),c=o(c,l(t,"count",[],function(r){return null==r&&(r=$),y(r,w)})),k.$push(t.$join(","))),h=a;i(e(a,0));)a=(t=f.randomizer.$roll_barabara(a,6).$sort()).$count(1),h=o(h,a),c=o(c,l(t,"count",[],function(r){return null==r&&(r=$),y(r,w)})),k.$push(t.$join(","));return l(C("Result").$new(),"tap",[],function(r){var S,b=$,u=$,I=$;return null==r&&(r=$),b="("+v+C("Format").$modifier(g)+"FF<="+w,i(G(E,2))?(r["$fumble="](!0),r["$condition="](!1)):(r["$condition="](e(c,0)),r["$critical="](e(h,0))),(u=[]).$push("\u6210\u529f\u5ea6("+c+")"),i(e(h,0))&&u.$push("1\u306e\u76ee("+h+")"),i(e(E,0))&&u.$push("6\u306e\u76ee("+E+")"),i(e(j,0))&&(b=o(b,","+j),i(G(c,j))?(u.$push("\u6210\u529f"),r["$condition="](!0)):(u.$push("\u5931\u6557"),r["$condition="](!1))),i(e(q,0))&&(b=o(b,"&"+q),I=o(q,h),u.$push("\u30c0\u30e1\u30fc\u30b8("+I+")")),i(r["$fumble?"]())&&u.$push("\u30d0\u30fc\u30b9\u30c8"),S=[[b=o(b,")"),k.$join("+").$to_s(),u.$join(",").$to_s()].$compact().$join(" \uff1e ")],l(r,"text=",S),S[S.length-1]})}catch(d){if(d===n.t_eval_return)return d.$v;throw d}})})}}]);