(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6821],{5560:(pe,be,ge)=>{ge(5151),Opal.modules["bcdice/format"]=function(e){var G,N,W,te,ie,re,ce=e.module,A=e.eqeqeq,_=e.def,x=e.truthy,se=e.eqeq,$e=e.rb_gt,U=[],z=e.nil;return G=U,N=re=[ce(U[0],"BCDice")].concat(G),te=[W=ce(re[0],"Format")].concat(N),ie=e.$r(te),W.$module_function(),_(W,"$comparison_operator",function(u){var m;return A("==",m=u)?"=":A("!=",m)?"<>":A(ie("Symbol"),m)?u.$to_s():z}),_(W,"$modifier",function(u){return x(u["$nil?"]())?z:se(u,0)?"":x($e(u,0))?"+"+u:u.$to_s()})},Opal.modules["racc/parser"]=function(e){var ue,ne,M,ce=e.module,A=e.klass,_=e.truthy,x=e.const_set,se=e.defs,$e=e.gvars,U=e.rb_lt,z=e.def,b=e.to_ary,G=e.send,ee=e.neqeq,re=e.rb_plus,L=e.eqeq,N=e.rb_ge,W=e.rb_gt,te=e.rb_minus,ie=e.rb_le,R=e.rb_times,u=e.assign_ivar_val,s=[],S=e.$r(s),r=e.nil,i=e.$$$;return ue=s,ne=[ce(s[0],"Racc")].concat(ue),M=e.$r(ne),A(ne[0],M("StandardError"),"ParseError"),_(i("::","ParseError","skip_raise")?"constant":r)||x(s[0],"ParseError",i(S("Racc"),"ParseError")),function(y,ue){var E,d,l,w,O,M=[ce(y,"Racc")].concat(ue),I=e.$r(M);return _(I("Racc_No_Extensions","skip_raise")?"constant":r)||x(M[0],"Racc_No_Extensions",!1),E=M,l=[d=A(M[0],null,"Parser")].concat(E),w=e.$r(l),(O=d.$$prototype).yydebug=O.racc_debug_out=O.racc_error_status=O.racc_t=O.racc_vstack=O.racc_val=O.racc_state=O.racc_tstack=r,x(l[0],"Racc_Runtime_Version","1.4.6"),x(l[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),x(l[0],"Racc_Runtime_Core_Version_R","1.4.6"),x(l[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),x(l[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),x(l[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),x(l[0],"Racc_Runtime_Core_Version",w("Racc_Runtime_Core_Version_R")),x(l[0],"Racc_Runtime_Core_Revision",w("Racc_Runtime_Core_Revision_R")),x(l[0],"Racc_Runtime_Type","ruby"),se(w("Parser"),"$racc_runtime_type",function(){return w("Racc_Runtime_Type")}),z(d,"$_racc_setup",function(){var a,v,$=this,D=r,n=r;return null==$e.stderr&&($e.stderr=r),_(i($.$class(),"Racc_debug_parser"))||($.yydebug=!1),_(null!=(a=$.yydebug)&&a!==r?"instance-variable":r)||($.yydebug=!1),_($.yydebug)&&(_(null!=(v=$.racc_debug_out)&&v!==r?"instance-variable":r)||($.racc_debug_out=$e.stderr),$.racc_debug_out=_(D=$.racc_debug_out)?D:$e.stderr),n=i($.$class(),"Racc_arg"),_(U(n.$size(),14))&&n["$[]="](13,!0),n}),z(d,"$_racc_init_sysvars",function(){var a=this;return a.racc_state=[0],a.racc_tstack=[],a.racc_vstack=[],a.racc_t=r,a.racc_val=r,a.racc_read_next=!0,a.racc_user_yyerror=!1,a.racc_error_status=0}),z(d,"$do_parse",function(){return this.$__send__(w("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),z(d,"$next_token",function(){return this.$raise(w("NotImplementedError"),this.$class()+"#next_token is not defined")}),z(d,"$_racc_do_parse_rb",function(a,v){var $,n=this,p=r,f=r,T=r,o=r,V=r,B=r,X=r,Z=r;return $=b(a),p=null==$[0]?r:$[0],f=null==$[1]?r:$[1],T=null==$[2]?r:$[2],o=null==$[3]?r:$[3],V=null==$[10]?r:$[10],n.$_racc_init_sysvars(),B=X=Z=r,G(n,"catch",["racc_end_parse"],function Y(){var J,g,t=null==Y.$$s?this:Y.$$s,q=r;for(null==t.racc_state&&(t.racc_state=r),null==t.racc_read_next&&(t.racc_read_next=r),null==t.racc_t&&(t.racc_t=r),null==t.yydebug&&(t.yydebug=r),null==t.racc_val&&(t.racc_val=r);_(!0);)for(_(Z=o["$[]"](t.racc_state["$[]"](-1)))?(_(t.racc_read_next)&&ee(t.racc_t,0)&&(g=t.$next_token(),J=b(g),B=null==J[0]?r:J[0],t.racc_val=null==J[1]?r:J[1],t.racc_t=_(B)?_(q=V["$[]"](B))?q:1:0,_(t.yydebug)&&t.$racc_read_token(t.racc_t,B,t.racc_val),t.racc_read_next=!1),Z=re(Z,t.racc_t),_(N(Z,0))&&_(X=p["$[]"](Z))&&L(f["$[]"](Z),t.racc_state["$[]"](-1))||(X=T["$[]"](t.racc_state["$[]"](-1)))):X=T["$[]"](t.racc_state["$[]"](-1));_(X=t.$_racc_evalact(X,a)););},{$$s:n})}),z(d,"$yyparse",function(a,v){return this.$__send__(w("Racc_YY_Parse_Method"),a,v,this.$_racc_setup(),!0)}),z(d,"$_racc_yyparse_rb",function(a,v,$,D){var n,f=this,T=r,o=r,F=r,V=r,X=r,Z=r,Y=r;return n=b($),T=null==n[0]?r:n[0],o=null==n[1]?r:n[1],F=null==n[2]?r:n[2],V=null==n[3]?r:n[3],X=null==n[10]?r:n[10],f.$_racc_init_sysvars(),Z=r,Y=r,G(f,"catch",["racc_end_parse"],function J(){var g=null==J.$$s?this:J.$$s;for(null==g.racc_state&&(g.racc_state=r);!_(Y=V["$[]"](g.racc_state["$[]"](-1)));)for(;_(Z=g.$_racc_evalact(F["$[]"](g.racc_state["$[]"](-1)),$)););return G(a,"__send__",[v],function t(q,P){var c=null==t.$$s?this:t.$$s,K=r,ae=r;for(null==c.racc_t&&(c.racc_t=r),null==c.racc_state&&(c.racc_state=r),null==c.racc_read_next&&(c.racc_read_next=r),null==q&&(q=r),null==P&&(P=r),c.racc_t=_(q)?_(K=X["$[]"](q))?K:1:0,c.racc_val=P,c.racc_read_next=!1,Y=re(Y,c.racc_t),_(N(Y,0))&&_(Z=T["$[]"](Y))&&L(o["$[]"](Y),c.racc_state["$[]"](-1))||(Z=F["$[]"](c.racc_state["$[]"](-1)));_(Z=c.$_racc_evalact(Z,$)););for(;_(_(K=_(ae=(Y=V["$[]"](c.racc_state["$[]"](-1)))["$!"]())?ae:c.racc_read_next["$!"]())?K:c.racc_t["$=="](0));)for(_(Y)&&_(Y=re(Y,c.racc_t))&&_(N(Y,0))&&_(Z=T["$[]"](Y))&&L(o["$[]"](Y),c.racc_state["$[]"](-1))||(Z=F["$[]"](c.racc_state["$[]"](-1)));_(Z=c.$_racc_evalact(Z,$)););},{$$s:g})},{$$s:f})}),z(d,"$_racc_evalact",function(a,v){var $,F,n=this,p=r,f=r,o=r,V=r,B=r,X=r;if(p=null==($=b(v))[0]?r:$[0],f=null==$[1]?r:$[1],o=null==$[3]?r:$[3],F=null==$[11]?r:$[11],V=null==$[12]?r:$[12],_(W(a,0))&&_(U(a,F)))_(W(n.racc_error_status,0))&&(L(n.racc_t,1)||(n.racc_error_status=te(n.racc_error_status,1))),n.racc_vstack.$push(n.racc_val),n.racc_state.$push(a),n.racc_read_next=!0,_(n.yydebug)&&(n.racc_tstack.$push(n.racc_t),n.$racc_shift(n.racc_t,n.racc_tstack,n.racc_vstack));else if(_(U(a,0))&&_(W(a,V["$-@"]()))){if(B=G(n,"catch",["racc_jump"],function Z(){var Y=null==Z.$$s?this:Z.$$s;return null==Y.racc_state&&(Y.racc_state=r),Y.racc_state.$push(Y.$_racc_do_reduce(v,a)),!1},{$$s:n}),_(B))switch(B.valueOf()){case 1:return n.racc_user_yyerror=!0,V["$-@"]();case 2:return F;default:n.$raise("[Racc Bug] unknown jump code")}}else if(L(a,F))_(n.yydebug)&&n.$racc_accept(),n.$throw("racc_end_parse",n.racc_vstack["$[]"](0));else{if(L(a,V["$-@"]())){switch(n.racc_error_status.valueOf()){case 0:_(v["$[]"](21))||n.$on_error(n.racc_t,n.racc_val,n.racc_vstack);break;case 3:L(n.racc_t,0)&&n.$throw("racc_end_parse",r),n.racc_read_next=!0}for(n.racc_user_yyerror=!1,n.racc_error_status=3;_(!0)&&!(_(X=o["$[]"](n.racc_state["$[]"](-1)))&&(X=re(X,1),_(N(X,0))&&_(a=p["$[]"](X))&&L(f["$[]"](X),n.racc_state["$[]"](-1))));)_(ie(n.racc_state.$size(),1))&&n.$throw("racc_end_parse",r),n.racc_state.$pop(),n.racc_vstack.$pop(),_(n.yydebug)&&(n.racc_tstack.$pop(),n.$racc_e_pop(n.racc_state,n.racc_tstack,n.racc_vstack));return a}n.$raise("[Racc Bug] unknown action "+a.$inspect())}return _(n.yydebug)&&n.$racc_next_state(n.racc_state["$[]"](-1),n.racc_state),r}),z(d,"$_racc_do_reduce",function(a,v){var $,V,X,q,P,c,j,n=this,f=r,T=r,o=r,F=r,B=r,Z=r,Y=r,J=r,g=r,t=r,K=r,ae=r,H=r;return f=null==($=b(a))[4]?r:$[4],T=null==$[5]?r:$[5],o=null==$[6]?r:$[6],F=null==$[7]?r:$[7],V=null==$[8]?r:$[8],B=null==$[9]?r:$[9],X=null==$[13]?r:$[13],Z=n.racc_state,Y=n.racc_vstack,J=n.racc_tstack,g=R(v,-3),t=B["$[]"](g),q=B["$[]"](re(g,1)),P=B["$[]"](re(g,2)),c=[],_(n.yydebug)&&(K=J["$[]"](t["$-@"](),t)),ae=Y["$[]"](t["$-@"](),t),_(n.yydebug)&&J["$[]="](t["$-@"](),t,c),Y["$[]="](t["$-@"](),t,c),Z["$[]="](t["$-@"](),t,c),_(X)?Y.$push(n.$__send__(P,ae,Y,ae["$[]"](0))):Y.$push(n.$__send__(P,ae,Y)),J.$push(q),_(n.yydebug)&&n.$racc_reduce(K,q,J,Y),j=te(q,V),_(g=F["$[]"](j))&&(g=re(g,Z["$[]"](-1)),_(N(g,0))&&_(H=f["$[]"](g))&&L(T["$[]"](g),j))?H:o["$[]"](j)}),z(d,"$on_error",function(a,v,$){var n,D=this;return D.$raise(w("ParseError"),D.$sprintf("\nparse error on value %s (%s)",v.$inspect(),_(n=D.$token_to_str(a))?n:"?"))}),z(d,"$yyerror",function(){return this.$throw("racc_jump",1)}),z(d,"$yyaccept",function(){return this.$throw("racc_jump",2)}),z(d,"$yyerrok",u("racc_error_status",0)),z(d,"$racc_read_token",function(a,v,$){var D=this;return D.racc_debug_out.$print("read    "),D.racc_debug_out.$print(v.$inspect(),"(",D.$racc_token2str(a),") "),D.racc_debug_out.$puts($.$inspect()),D.racc_debug_out.$puts()}),z(d,"$racc_shift",function(a,v,$){var D=this;return D.racc_debug_out.$puts("shift   "+D.$racc_token2str(a)),D.$racc_print_stacks(v,$),D.racc_debug_out.$puts()}),z(d,"$racc_reduce",function(a,v,$,D){var n=this,p=r;return(p=n.racc_debug_out).$print("reduce "),_(a["$empty?"]())?p.$print(" <none>"):G(a,"each",[],function f(T){return null==T&&(T=r),p.$print(" ",(null==f.$$s?this:f.$$s).$racc_token2str(T))},{$$s:n}),p.$puts(" --\x3e "+n.$racc_token2str(v)),n.$racc_print_stacks($,D),n.racc_debug_out.$puts()}),z(d,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),z(d,"$racc_e_pop",function(a,v,$){var D=this;return D.racc_debug_out.$puts("error recovering mode: pop token"),D.$racc_print_states(a),D.$racc_print_stacks(v,$),D.racc_debug_out.$puts()}),z(d,"$racc_next_state",function(a,v){var $=this;return $.racc_debug_out.$puts("goto    "+a),$.$racc_print_states(v),$.racc_debug_out.$puts()}),z(d,"$racc_print_stacks",function(a,v){var D=r;return(D=this.racc_debug_out).$print("        ["),G(a,"each_index",[],function n(p){return null==p&&(p=r),D.$print(" (",(null==n.$$s?this:n.$$s).$racc_token2str(a["$[]"](p))," ",v["$[]"](p).$inspect(),")")},{$$s:this}),D.$puts(" ]")}),z(d,"$racc_print_states",function(a){var $=r;return($=this.racc_debug_out).$print("        ["),G(a,"each",[],function(n){return null==n&&(n=r),$.$print(" ",n)}),$.$puts(" ]")}),z(d,"$racc_token2str",function(a){var $;return _($=i(this.$class(),"Racc_token_to_s_table")["$[]"](a))?$:this.$raise("[Racc Bug] can't convert token "+a+" to string")}),z(d,"$token_to_str",function(a){return i(this.$class(),"Racc_token_to_s_table")["$[]"](a)})}(s[0],s)},Opal.modules["bcdice/arithmetic/node"]=function(e){var u,r,Q,E,d,M,I,y,s,ce=e.module,A=e.klass,_=e.def,x=e.thrower,se=e.return_ivar,$e=e.send2,U=e.find_super,z=e.eqeq,b=e.const_set,G=e.eqeqeq,ee=e.rb_divide,re=e.truthy,L=e.assign_ivar,N=e.alias,W=[],te=e.nil,ie=e.$$$;return u=W,r=s=[ce(W[0],"BCDice")].concat(u),Q=y=[ce(s[0],"Arithmetic")].concat(r),M=[ce(y[0],"Node")].concat(Q),I=e.$r(M),(d=(E=A(M[0],null,"BinaryOp")).$$prototype).lhs=d.rhs=d.op=te,_(E,"$initialize",function(w,O,h){var a=this;return a.lhs=w,a.op=O,a.rhs=h}),_(E,"$eval",function(w){try{x("eval_return");var v,h=this,a=te;return a=h.lhs.$eval(w),v=h.rhs.$eval(w),a.$send(h.op,v)}catch($){if($===e.t_eval_return)return $.$v;throw $}}),_(E,"$output",function(){var w=this;return""+w.lhs.$output()+w.op+w.rhs.$output()}),_(E,"$s_exp",function(){var w=this;return"("+w.$op_for_s_exp()+" "+w.lhs.$s_exp()+" "+w.rhs.$s_exp()+")"}),_(E,"$op_for_s_exp",se("op")),function(k,C,E){var d=A(k,C,"DivideBase"),l=[d].concat(E),w=e.$r(l),O=d.$$prototype;O.lhs=O.rhs=O.op=te,_(d,"$initialize",function h(a,v){return h.$$p=null,$e(this,U(this,"initialize",h,!1,!0),"initialize",[a,"/",v],null)}),_(d,"$eval",function(a){try{x("eval_return");var D,n,$=this;return D=$.lhs.$eval(a),n=$.rhs.$eval(a),z(n,0)&&$.$raise(w("ZeroDivisionError")),$.$divide_and_round(D,n,a)}catch(p){if(p===e.t_eval_return)return p.$v;throw p}}),_(d,"$output",function h(){var a=h.$$p||te,v=this;return h.$$p=null,""+$e(v,U(v,"output",h,!1,!0),"output",[],a)+v.$rounding_method()}),d.$private(),_(d,"$rounding_method",function(){return ie(this.$class(),"ROUNDING_METHOD")}),_(d,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),_(d,"$divide_and_round",function(a,v,$){return this.$raise(w("NotImplementedError"))})}(M[0],I("BinaryOp"),M),function(k,C,E){var d=A(k,C,"DivideWithGameSystemDefault"),l=[d].concat(E),w=e.$r(l);b(l[0],"ROUNDING_METHOD",""),d.$private(),_(d,"$divide_and_round",function(h,a,v){var $,D=te;return G(ie(w("RoundType"),"CEIL"),$=v)?ee(h.$to_f(),a).$ceil():G(ie(w("RoundType"),"ROUND"),$)?(D=ee(h.$to_f(),a),re(D["$negative?"]())?D.$abs().$round()["$-@"]():D.$round()):ee(h,a).$floor()})}(M[0],I("DivideBase"),M),function(k,C,E){var d=A(k,C,"DivideWithCeil"),l=[d].concat(E);b(l[0],"ROUNDING_METHOD","C"),d.$private(),_(d,"$divide_and_round",function(O,h,a){return ee(O.$to_f(),h).$ceil()})}(M[0],I("DivideBase"),M),function(k,C,E){var d=A(k,C,"DivideWithRound"),l=[d].concat(E);b(l[0],"ROUNDING_METHOD","R"),d.$private(),_(d,"$divide_and_round",function(O,h,a){var v=te;return v=ee(O.$to_f(),h),re(v["$negative?"]())?v.$abs().$round()["$-@"]():v.$round()})}(M[0],I("DivideBase"),M),function(k,C,E){var d=A(k,C,"DivideWithFloor"),l=[d].concat(E);b(l[0],"ROUNDING_METHOD","F"),d.$private(),_(d,"$divide_and_round",function(O,h,a){return ee(O,h).$floor()})}(M[0],I("DivideBase"),M),function(k,C){var E=A(k,null,"Negative");E.$$prototype.body=te,_(E,"$initialize",L("body")),_(E,"$eval",function(w){try{return x("eval_return"),this.body.$eval(w)["$-@"]()}catch(a){if(a===e.t_eval_return)return a.$v;throw a}}),_(E,"$output",function(){return"-"+this.body.$output()}),_(E,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(M[0]),function(k,C){var E=A(k,null,"Parenthesis");E.$$prototype.expr=te,_(E,"$initialize",L("expr")),_(E,"$eval",function(w){try{return x("eval_return"),this.expr.$eval(w)}catch(a){if(a===e.t_eval_return)return a.$v;throw a}}),_(E,"$output",function(){return"("+this.expr.$output()+")"}),_(E,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(M[0]),function(k,C){var E=A(k,null,"Number");return E.$$prototype.value=te,_(E,"$initialize",L("value")),_(E,"$eval",se("value")),_(E,"$output",function(){return this.value.$to_s()}),N(E,"s_exp","output")}(M[0])},Opal.modules.strscan=function(e){var L,N,W,te,ie,A=e.def,_=e.truthy,x=e.eqeqeq,se=e.Opal,$e=e.return_ivar,U=e.send,z=e.alias,b=[],G=e.nil;return L=b,W=[N=(0,e.klass)(b[0],null,"StringScanner")].concat(L),te=e.$r(W),(ie=N.$$prototype).pos=ie.string=ie.working=ie.matched=ie.prev_pos=ie.match=G,N.$attr_reader("pos","matched"),A(N,"$initialize",function(u){var m=this;return m.string=u,m.pos=0,m.matched=G,m.working=u,m.match=[]}),N.$attr_reader("string"),A(N,"$beginning_of_line?",function(){var u=this;return 0===u.pos||"\n"===u.string.charAt(u.pos-1)}),A(N,"$scan",function(u){var m=this,s=(u=m.$anchor(u)).exec(m.working);return null==s?m.matched=G:(m.prev_pos=m.pos,m.pos+=s[0].length,m.working=m.working.substring(s[0].length),m.matched=s[0],m.match=s,s[0])}),A(N,"$scan_until",function(u){var m=this;u=m.$anchor(u);for(var s=m.working,S=0;s.length!=S;++S){var r=u.exec(s.substr(S));if(null!==r){var i=S+r[0].length,y=s.substr(0,i);return m.matched=r[0],m.match=r,m.prev_pos=m.pos+S,m.pos+=i,m.working=s.substr(i),y}}return m.matched=G}),A(N,"$[]",function(u){var s;if(_(this.match["$empty?"]()))return G;x(te("Symbol"),s=u)?u=u.$to_s():x(te("String"),s)||(u=se["$coerce_to!"](u,te("Integer"),"to_int"));var S=this.match;return u<0&&(u+=S.length),u<0||u>=S.length||null==S[u]?G:S[u]}),A(N,"$check",function(u){var m=this,s=(u=m.$anchor(u)).exec(m.working);return m.matched=null==s?G:s[0]}),A(N,"$check_until",function(u){var m=this,s=m.prev_pos,S=m.pos,r=m.working,i=m.$scan_until(u);return m.prev_pos=s,m.pos=S,m.working=r,i}),A(N,"$peek",function(u){return this.working.substring(0,u)}),A(N,"$eos?",function(){return 0===this.working.length}),A(N,"$exist?",function(u){var s=u.exec(this.working);return null==s?G:0==s.index?0:s.index+1}),A(N,"$skip",function(u){var m=this,s=(u=m.$anchor(u)).exec(m.working);if(null==s)return m.match=[],m.matched=G;var S=s[0],r=S.length;return m.matched=S,m.match=s,m.prev_pos=m.pos,m.pos+=r,m.working=m.working.substring(r),r}),A(N,"$skip_until",function(u){var s=this.$scan_until(u);return s===G?G:(this.matched=s.substr(-1),s.length)}),A(N,"$get_byte",function(){var u=this,m=G;return u.pos<u.string.length?(u.prev_pos=u.pos,u.pos+=1,m=u.matched=u.working.substring(0,1),u.working=u.working.substring(1)):u.matched=G,m}),A(N,"$match?",function(u){var m=this,s=(u=m.$anchor(u)).exec(m.working);return null==s?G:(m.prev_pos=m.pos,s[0].length)}),A(N,"$pos=",function(u){var m=this;return u<0&&(u+=m.string.$length()),m.pos=u,m.working=m.string.slice(u)}),A(N,"$matched_size",function(){return this.matched===G?G:this.matched.length}),A(N,"$post_match",function(){var u=this;return u.matched===G?G:u.string.substr(u.pos)}),A(N,"$pre_match",function(){var u=this;return u.matched===G?G:u.string.substr(0,u.prev_pos)}),A(N,"$reset",function(){var u=this;return u.working=u.string,u.matched=G,u.pos=0}),A(N,"$rest",$e("working")),A(N,"$rest?",function(){return 0!==this.working.length}),A(N,"$rest_size",function(){return this.$rest().$size()}),A(N,"$terminate",function(){var u,m=this;return m.match=G,u=[m.string.$length()],U(m,"pos=",u),u[u.length-1]}),A(N,"$unscan",function(){var u=this;return u.pos=u.prev_pos,u.prev_pos=G,u.match=G,u}),z(N,"bol?","beginning_of_line?"),z(N,"getch","get_byte"),N.$private(),A(N,"$anchor",function(u){var m=u.toString().match(/\/([^\/]+)$/);return m=m?m[1]:void 0,new RegExp("^(?:"+u.source+")",m)})},Opal.modules["bcdice/normalize"]=function(e){var z,re,G,ce=e.module,A=e.eqeqeq,_=e.def,x=e.eqeq,se=[],$e=e.nil;return z=se,G=[ce(se[0],"BCDice")].concat(z),(re=ce(G[0],"Normalize")).$module_function(),_(re,"$comparison_operator",function(N){var W;return A(/<=|=</,W=N)?"<=":A(/>=|=>/,W)?">=":A(/<>|!=|=!/,W)?"!=":A(/</,W)?"<":A(/>/,W)?">":A(/=/,W)?"==":$e}),_(re,"$target_number",function(N){return x(N,"?")?N:N.$to_i()})},Opal.modules["bcdice/command/lexer"]=function(e){var L,ie,S,r,i,y,ue,u,W,ce=e.module,A=e.klass,_=e.const_set,x=e.hash2,se=e.truthy,$e=e.send,U=e.def,z=e.thrower,b=e.top,G=[],ee=e.nil;return b.$require("strscan"),b.$require("bcdice/normalize"),L=G,ie=W=[ce(G[0],"BCDice")].concat(L),S=u=[ce(W[0],"Command")].concat(ie),i=[r=A(u[0],null,"Lexer")].concat(S),y=e.$r(i),(ue=r.$$prototype).scanner=ue.notations=ee,_(i[0],"SYMBOLS",x(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),U(r,"$initialize",function(ne,M){var I,k,E;return ne=se(E=(I=(k=ne)===ee||null==k?ee:k.$split(" ",2))===ee||null==I?ee:I.$first())?E:"",this.scanner=y("StringScanner").$new(ne),this.notations=$e(M,"map",[],function(l){return null==l&&(l=ee),se(l["$is_a?"](y("String")))?y("Regexp").$new(l):l})}),U(r,"$next_token",function(){try{var ne=z("return"),M=this,I=ee,k=ee,E=ee,d=ee;return se(M.scanner["$eos?"]())?[!1,"$"]:($e(M.notations,"each",[],function l(w){var h,O=null==l.$$s?this:l.$$s;if(null==O.scanner&&(O.scanner=ee),null==w&&(w=ee),h=O.scanner.$scan(w),!se(h))return ee;ne.$throw(["NOTATION",h])},{$$s:M,$$ret:ne}),se(I=M.scanner.$scan(/\d+/))?["NUMBER",I.$to_i()]:se(k=M.scanner.$scan(/[<>!=]+/))?(k=y("Normalize").$comparison_operator(k),[se(k)?"CMP_OP":"ILLEGAL",k]):(E=M.scanner.$getch().$upcase(),[se(d=y("SYMBOLS")["$[]"](E))?d:E.$to_sym(),E]))}catch(l){if(l===ne)return l.$v;throw l}}),U(r,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(e){var b,L,R,u,m,s,S,W,ee,ce=e.module,A=e.klass,_=e.def,x=e.return_ivar,se=e.truthy,$e=[],U=e.nil;return b=$e,L=ee=[ce($e[0],"BCDice")].concat(b),R=W=[ce(ee[0],"Command")].concat(L),m=[u=A(W[0],null,"Parsed")].concat(R),s=e.$r(m),(S=u.$$prototype).critical=S.fumble=S.dollar=S.modify_number=S.question_target=S.target_number=S.prefix_number=S.command=S.suffix_number=S.cmp_op=U,u.$attr_accessor("command"),u.$attr_accessor("prefix_number"),u.$attr_accessor("suffix_number"),u.$attr_accessor("critical"),u.$attr_accessor("fumble"),u.$attr_accessor("dollar"),u.$attr_accessor("modify_number"),u.$attr_accessor("cmp_op"),u.$attr_accessor("target_number"),u.$attr_writer("question_target"),_(u,"$initialize",function(){var i=this;return i.prefix_number=U,i.suffix_number=U,i.critical=U,i.fumble=U,i.dollar=U,i.cmp_op=U,i.target_number=U,i.question_target=!1}),_(u,"$question_target?",x("question_target")),_(u,"$to_s",function(i){var y=this,ue=U,Q=U,ne=U,M=U,I=U;switch(null==i&&(i="after_command"),ue=se(y.critical)?"@"+y.critical:U,Q=se(y.fumble)?"#"+y.fumble:U,ne=se(y.dollar)?"$"+y.dollar:U,M=s("Format").$modifier(y.modify_number),I=se(y.question_target)?"?":y.target_number,i.valueOf()){case"after_command":return[y.prefix_number,y.command,y.suffix_number,ue,Q,ne,M,y.cmp_op,I].$join();case"after_modify_number":return[y.prefix_number,y.command,y.suffix_number,M,ue,Q,ne,y.cmp_op,I].$join();case"after_target_number":return[y.prefix_number,y.command,y.suffix_number,M,y.cmp_op,I,ue,Q,ne].$join();default:return U}},-1)},Opal.modules["bcdice/command/parser"]=function(e){var i,ne,d,v,$,D,n,p,f,T,o,F,X,l,h,a,J,I,k,ue,ce=e.klass,A=e.module,_=e.slice,x=e.extract_kwargs,se=e.ensure_kwargs,$e=e.get_kwarg,U=e.send2,z=e.find_super,b=e.def,G=e.send,ee=e.eqeq,re=e.thrower,L=e.hash,N=e.const_set,W=e.truthy,te=e.to_ary,ie=e.hash2,R=e.top,u=[],m=e.$r(u),s=e.nil,S=e.$$$;return R.$require("racc/parser.rb"),R.$require("bcdice/arithmetic/node"),R.$require("bcdice/command/lexer"),R.$require("bcdice/command/parsed"),ce(S(m("BCDice"),"Command"),S(m("Racc"),"Parser"),"Parser"),i=u,ne=ue=[A(u[0],"BCDice")].concat(i),I=[A(ue[0],"Command")].concat(ne),k=e.$r(I),d=I,h=[l=ce(I[0],S(k("Racc"),"Parser"),"Parser")].concat(d),a=e.$r(h),(J=l.$$prototype).notations=J.lexer=J.modifier=J.suffix_number=J.prefix_number=J.need_suffix_number=J.need_prefix_number=J.critical=J.fumble=J.dollar=J.allowed_cmp_op=J.question_target=s,b(l,"$initialize",function g(t,q){var P,c,K,ae,H=this;return g.$$p=null,P=_(arguments),c=x(P),c=se(c),K=P,ae=$e(c,"round_type"),U(H,z(H,"initialize",g,!1,!0),"initialize",[],null),H.notations=K,H.round_type=ae,H.prefix_number=!1,H.suffix_number=!1,H.need_prefix_number=!1,H.need_suffix_number=!1,H.modifier=!0,H.critical=!1,H.fumble=!1,H.dollar=!1,H.allowed_cmp_op=[s,">=",">","<=","<","==","!="],H.question_target=!1},-2),b(l,"$disable_modifier",function(){return this.modifier=!1,this}),b(l,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),b(l,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),b(l,"$has_prefix_number",function(){var t=this;return t.prefix_number=!0,t.need_prefix_number=!0,t}),b(l,"$has_suffix_number",function(){var t=this;return t.suffix_number=!0,t.need_suffix_number=!0,t}),b(l,"$enable_critical",function(){return this.critical=!0,this}),b(l,"$enable_fumble",function(){return this.fumble=!0,this}),b(l,"$enable_dollar",function(){return this.dollar=!0,this}),b(l,"$restrict_cmp_op_to",function(t){var q;return q=_(arguments),this.allowed_cmp_op=q,this},-1),b(l,"$enable_question_target",function(){return this.question_target=!0,this}),b(l,"$parse",function(t){var q=this;try{return q.lexer=a("Lexer").$new(t,q.notations),q.$do_parse()}catch(P){if(!e.rescue(P,[a("ParseError"),a("ZeroDivisionError")]))throw P;try{return s}finally{e.pop_exception()}}}),l.$private(),b(l,"$parsed",function(t,q,P,c){try{return re("eval_return"),G(a("Parsed").$new(),"tap",[],function j(H){var _e,le,oe,me,ve,de,he,fe=null==j.$$s?this:j.$$s;return null==fe.round_type&&(fe.round_type=s),null==H&&(H=s),H["$command="](t["$[]"]("command")),H["$prefix_number="]((_e=t["$[]"]("prefix"))===s||null==_e?s:_e.$eval(fe.round_type)),H["$suffix_number="]((le=t["$[]"]("suffix"))===s||null==le?s:le.$eval(fe.round_type)),H["$critical="]((oe=q["$[]"]("critical"))===s||null==oe?s:oe.$eval(fe.round_type)),H["$fumble="]((me=q["$[]"]("fumble"))===s||null==me?s:me.$eval(fe.round_type)),H["$dollar="]((ve=q["$[]"]("dollar"))===s||null==ve?s:ve.$eval(fe.round_type)),H["$modify_number="](P.$eval(fe.round_type)),H["$cmp_op="](c["$[]"]("cmp_op")),ee(c["$[]"]("target"),"?")?(H["$question_target="](!0),G(H,"target_number=",de=[0]),de[de.length-1]):(H["$question_target="](!1),de=[(he=c["$[]"]("target"),he===s||null==he?s:he.$eval(fe.round_type))],G(H,"target_number=",de),de[de.length-1])},{$$s:this})}catch(j){if(j===e.t_eval_return)return j.$v;throw j}}),b(l,"$next_token",function(){return this.lexer.$next_token()}),v=e.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),$=e.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),D=e.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),n=e.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),p=e.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),f=e.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),T=[s,6,13,3,9,-1,27,-15,-10,-1,-38],o=[s,s,s,s,s,s,19,16,15,s,s],F=e.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),X=L(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),N(h[0],"Racc_arg",[v,$,n,D,p,f,o,T,19,F,X,58,35,!0]),W(a("Ractor","skip_raise")?"constant":s)&&a("Ractor").$make_shareable(a("Racc_arg")),N(h[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),W(a("Ractor","skip_raise")?"constant":s)&&a("Ractor").$make_shareable(a("Racc_token_to_s_table")),N(h[0],"Racc_debug_parser",!1),b(l,"$_reduce_1",function(t,q,P){var c;return W(this.modifier)||this.$raise(a("ParseError")),c=te(t),this.$parsed(null==c[0]?s:c[0],null==c[1]?s:c[1],null==c[2]?s:c[2],null==c[3]?s:c[3])}),b(l,"$_reduce_2",function(t,q,P){var c;return W(this.modifier)||this.$raise(a("ParseError")),c=te(t),this.$parsed(null==c[0]?s:c[0],null==c[2]?s:c[2],null==c[1]?s:c[1],null==c[3]?s:c[3])}),b(l,"$_reduce_3",function(t,q,P){var c,_e;return _e=null==(c=te(t))[2]?s:c[2],this.$parsed(null==c[0]?s:c[0],null==c[1]?s:c[1],S(S(a("Arithmetic"),"Node"),"Number").$new(0),_e)}),b(l,"$_reduce_4",function(t,q,P){var c=this;return W(c.prefix_number)&&W(c.suffix_number)||c.$raise(a("ParseError")),ie(["command","prefix","suffix"],{command:t["$[]"](1),prefix:t["$[]"](0),suffix:t["$[]"](2)})}),b(l,"$_reduce_5",function(t,q,P){var c=this;return W(c.prefix_number)||c.$raise(a("ParseError")),W(c.need_suffix_number)&&c.$raise(a("ParseError")),ie(["command","prefix"],{command:t["$[]"](1),prefix:t["$[]"](0)})}),b(l,"$_reduce_6",function(t,q,P){var c=this;return W(c.suffix_number)||c.$raise(a("ParseError")),W(c.need_prefix_number)&&c.$raise(a("ParseError")),ie(["command","suffix"],{command:t["$[]"](0),suffix:t["$[]"](1)})}),b(l,"$_reduce_7",function(t,q,P){var c=this;return(W(c.need_prefix_number)||W(c.need_suffix_number))&&c.$raise(a("ParseError")),ie(["command"],{command:t["$[]"](0)})}),b(l,"$_reduce_8",function(t,q,P){return ie([],{})}),b(l,"$_reduce_9",function(t,q,P){var c,_e,j=s;return j=null==(c=te(t))[0]?s:c[0],_e=null==c[2]?s:c[2],W(this.critical)&&W(j["$[]"]("critical")["$nil?"]())||this.$raise(a("ParseError")),j["$[]="]("critical",_e),j}),b(l,"$_reduce_10",function(t,q,P){var c,_e,j=s;return j=null==(c=te(t))[0]?s:c[0],_e=null==c[2]?s:c[2],W(this.fumble)&&W(j["$[]"]("fumble")["$nil?"]())||this.$raise(a("ParseError")),j["$[]="]("fumble",_e),j}),b(l,"$_reduce_11",function(t,q,P){var c,_e,j=s;return j=null==(c=te(t))[0]?s:c[0],_e=null==c[2]?s:c[2],W(this.dollar)&&W(j["$[]"]("dollar")["$nil?"]())||this.$raise(a("ParseError")),j["$[]="]("dollar",_e),j}),b(l,"$_reduce_12",function(t,q,P){return t["$[]"](1)}),b(l,"$_reduce_13",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))}),b(l,"$_reduce_14",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))}),b(l,"$_reduce_15",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))}),b(l,"$_reduce_16",function(t,q,P){return W(this.allowed_cmp_op["$include?"](s))||this.$raise(a("ParseError")),ie([],{})}),b(l,"$_reduce_17",function(t,q,P){var c,j,H;return H=null==(c=te(t))[1]?s:c[1],W(this.allowed_cmp_op["$include?"](j=null==c[0]?s:c[0]))||this.$raise(a("ParseError")),ie(["cmp_op","target"],{cmp_op:j,target:H})}),b(l,"$_reduce_18",function(t,q,P){var K,c=this;return K=t["$[]"](0),W(c.question_target)||c.$raise(a("ParseError")),W(c.allowed_cmp_op["$include?"](K))||c.$raise(a("ParseError")),ie(["cmp_op","target"],{cmp_op:K,target:"?"})}),b(l,"$_reduce_19",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))}),b(l,"$_reduce_20",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))}),b(l,"$_reduce_22",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"*",t["$[]"](2))}),b(l,"$_reduce_23",function(t,q,P){return t["$[]"](3).$new(t["$[]"](0),t["$[]"](2))}),b(l,"$_reduce_25",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),b(l,"$_reduce_26",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"DivideWithCeil")}),b(l,"$_reduce_27",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"DivideWithCeil")}),b(l,"$_reduce_28",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"DivideWithRound")}),b(l,"$_reduce_29",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"DivideWithFloor")}),b(l,"$_reduce_30",function(t,q,P){return t["$[]"](1)}),b(l,"$_reduce_31",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))}),b(l,"$_reduce_33",function(t,q,P){return t["$[]"](1)}),b(l,"$_reduce_34",function(t,q,P){return S(S(a("Arithmetic"),"Node"),"Number").$new(t["$[]"](0))}),b(l,"$_reduce_none",function(t,q,P){return t["$[]"](0)})},Opal.modules["bcdice/dice_table/table"]=function(e){var ee,W,m,s,S,r,i,ie,L,ce=e.module,A=e.klass,_=e.hash2,x=e.defs,se=e.truthy,$e=e.def,U=e.rb_minus,z=[],b=e.nil;return ee=z,W=L=[ce(z[0],"BCDice")].concat(ee),m=ie=[ce(L[0],"DiceTable")].concat(W),S=[s=A(ie[0],null,"Table")].concat(m),r=e.$r(S),(i=s.$$prototype).times=i.sides=i.name=i.items=b,x(s,"$from_i18n",function(ue,Q){var M=b;return M=r("I18n").$t(ue,_(["locale"],{locale:Q})),this.$new(M["$[]"]("name"),M["$[]"]("type"),M["$[]"]("items"))}),$e(s,"$initialize",function(ue,Q,ne){var M=this,I=b;return M.name=ue,M.items=ne.$freeze(),I=/(\d+)D(\d+)/i.$match(Q),se(I)||M.$raise(r("ArgumentError"),"Unexpected table type: "+Q),M.times=I["$[]"](1).$to_i(),M.sides=I["$[]"](2).$to_i()}),$e(s,"$roll",function(ue){var ne,Q=this;return ne=ue.$roll_sum(Q.times,Q.sides),Q.$choice(ne)}),$e(s,"$choice",function(ue){var ne,Q=this;return ne=U(ue,Q.times),r("RollResult").$new(Q.name,ue,Q.items["$[]"](ne))})},Opal.modules["bcdice/dice_table/range_table"]=function(e){var W,u,i,M,k,C,y,ue,Q,ne,s,ie,ce=e.module,A=e.klass,_=e.const_set,x=e.send,se=e.hash2,$e=e.def,U=e.eqeqeq,z=e.truthy,b=e.to_a,G=e.rb_times,ee=e.rb_plus,re=[],L=e.nil;return W=re,u=ie=[ce(re[0],"BCDice")].concat(W),i=s=[ce(ie[0],"DiceTable")].concat(u),ue=[y=A(s[0],null,"RangeTable")].concat(i),Q=e.$r(ue),(ne=y.$$prototype).name=ne.items=ne.num_of_dice=ne.num_of_sides=ne.formatter=L,_(ue[0],"RollResult",x(Q("Struct"),"new",["sum","values","content","formatted"],function M(){return(null==M.$$s?this:M.$$s).$alias_method("to_s","formatted")},{$$s:y})),_(ue[0],"Item",Q("Struct").$new("range","content")),_(ue[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),_(ue[0],"DEFAULT_FORMATTER",x(y,"lambda",[],function(I,k){return null==I&&(I=L),null==k&&(k=L),I.$name()+"("+k.$sum()+") \uff1e "+k.$content()})),y.$attr_reader("name"),y.$attr_reader("num_of_dice"),y.$attr_reader("num_of_sides"),k=[M=e.get_singleton_class(y)].concat(ue),C=e.$r(k),$e(M,"$from_i18n",function(d,l){var h,O=L;return O=C("I18n").$t(d,se(["locale"],{locale:l})),h=x(O["$[]"]("items"),"map",[],function a(v){return null==v&&(v=L),[(null==a.$$s?this:a.$$s).$conv_string_range(v["$[]"](0)),v["$[]"](1)]},{$$s:this}),this.$new(O["$[]"]("name"),O["$[]"]("type"),h)}),$e(M,"$conv_string_range",function(d){var w,l=this;return null==l.name&&(l.name=L),U(C("Integer"),w=d)?d:U(C("String"),w)?z(d["$include?"](".."))?x(C("Range"),"new",b(x(d.$split("..",2),"map",[],function O(h){return null==h&&(h=L),(null==O.$$s?this:O.$$s).$Integer(h)},{$$s:l}))):l.$Integer(d):l.$raise(C("TypeError"),l.name+": "+d+" ("+d.$class()+") must be a String or an Integer")}),$e(y,"$initialize",function M(I,k,C){var l,E=M.$$p||L,d=this,w=L;return M.$$p=null,d.name=I.$freeze(),d.formatter=z(l=E)?l:Q("DEFAULT_FORMATTER"),w=Q("DICE_ROLL_METHOD_RE").$match(k),z(w)||d.$raise(Q("ArgumentError"),d.name+": invalid dice roll method: "+k),d.num_of_dice=w["$[]"](1).$to_i(),d.num_of_sides=w["$[]"](2).$to_i(),d.$store(C)}),$e(y,"$fetch",function(I){var C,k=this;return C=x(k.items,"find",[],function(d){return null==d&&(d=L),d.$range()["$include?"](I)}),z(C)||k.$raise(Q("RangeError"),k.name+": value is out of range: "+I),C}),$e(y,"$roll",function(I){var E,k=this,C=L,d=L;return E=(C=I.$roll_barabara(k.num_of_dice,k.num_of_sides)).$sum(),(d=Q("RollResult").$new(E,C,k.$fetch(E).$content()))["$formatted="](k.formatter["$[]"](k,d)),d}),y.$private(),$e(y,"$store",function(I){var C,E,k=this;return C=x(I,"map",[],function d(l,w){return null==l&&(l=L),null==w&&(w=L),[(null==d.$$s?this:d.$$s).$coerce_to_int_range(l),w]},{$$s:k}),E=x(C,"sort_by",[],function(l,w){return null==l&&(l=L),null==w&&(w=L),l.$min()}),k.$assert_min_sum_is_covered(E),k.$assert_max_sum_is_covered(E),k.$assert_no_gap_or_overlap_in_ranges(E),k.items=x(E,"map",[],function(l,w){return null==l&&(l=L),null==w&&(w=L),Q("Item").$new(l,w.$freeze()).$freeze()}).$freeze(),k}),$e(y,"$coerce_to_int_range",function(I){var C;return U(Q("Integer"),C=I)?Q("Range").$new(I,I):U(Q("Range"),C)&&z(I.$begin()["$is_a?"](Q("Integer")))&&z(I.$end()["$is_a?"](Q("Integer")))?I:this.$raise(Q("TypeError"),this.name+": "+I+" ("+I.$class()+") must be an Integer or a Range with Integers ")}),$e(y,"$assert_min_sum_is_covered",function(I){var C,k=this,E=L;return C=k.num_of_dice,E=I.$first()["$[]"](0),z(E["$include?"](C))||k.$raise(Q("RangeError"),k.name+": min value ("+C+") is not covered: "+E),k}),$e(y,"$assert_max_sum_is_covered",function(I){var C,k=this,E=L;return C=G(k.num_of_dice,k.num_of_sides),E=I.$last()["$[]"](0),z(E["$include?"](C))||k.$raise(Q("RangeError"),k.name+": max value ("+C+") is not covered: "+E),k}),$e(y,"$assert_no_gap_or_overlap_in_ranges",function(I){return x(I,"each_cons",[2],function C(E,d){var h,a,l=null==C.$$s?this:C.$$s,w=L,O=L;return null==l.name&&(l.name=L),null==E&&(E=L),null==d&&(d=L),w=E["$[]"](0),O=d["$[]"](0),h=w.$max(),a=ee(h,1),z(O["$include?"](h))&&l.$raise(Q("RangeError"),l.name+": Range overlap: "+w+" and "+O),z(O["$include?"](a))?L:l.$raise(Q("RangeError"),l.name+": Range gap: "+w+" and "+O)},{$$s:this}),this})},Opal.queue(function(e){var Q,k,O,p,f,T,o,h,a,v,E,d,M,ce=e.module,A=e.klass,_=e.const_set,x=e.truthy,se=e.hash2,$e=e.defs,U=e.def,z=e.eqeqeq,b=e.send,G=e.rb_times,ee=e.to_ary,re=e.rb_plus,L=e.rb_gt,N=e.thrower,W=e.rb_ge,te=e.rb_divide,ie=e.rb_minus,R=e.range,u=e.eqeq,m=e.hash,s=e.return_val,S=e.top,r=[],i=e.nil,y=e.$$$;return S.$require("bcdice/format"),S.$require("bcdice/command/parser"),S.$require("bcdice/dice_table/table"),S.$require("bcdice/dice_table/range_table"),Q=r,k=M=[ce(r[0],"BCDice")].concat(Q),E=[ce(M[0],"GameSystem")].concat(k),d=e.$r(E),O=E,a=[h=A(E[0],d("Base"),"BattleTech")].concat(O),v=e.$r(a),h.$$prototype.randomizer=i,_(a[0],"ID","BattleTech"),_(a[0],"NAME","\u30d0\u30c8\u30eb\u30c6\u30c3\u30af"),_(a[0],"SORT_KEY","\u306f\u3068\u308b\u3066\u3064\u304f"),_(a[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u65b9\u6cd5\n\u3000(\u56de\u6570)BT(\u30c0\u30e1\u30fc\u30b8)(\u90e8\u4f4d)+(\u57fa\u672c\u5024)>=(\u76ee\u6a19\u5024)\n\u3000\u56de\u6570\u306f\u7701\u7565\u6642 1\u56fa\u5b9a\u3002\n\u3000\u90e8\u4f4d\u306fC\uff08\u6b63\u9762\uff09R\uff08\u53f3\uff09\u3001L\uff08\u5de6\uff09\u3002\u7701\u7565\u6642\u306fC\uff08\u6b63\u9762\uff09\u56fa\u5b9a\n\u3000U\uff08\u4e0a\u534a\u8eab\uff09\u3001L\uff08\u4e0b\u534a\u8eab\uff09\u3092\u7d44\u307f\u5408\u308f\u305b CU/RU/LU/CL/RL/LL\u3082\u6307\u5b9a\u53ef\u80fd\n\u3000\u4f8b\uff09BT3+2>=4\n\u3000\u3000\u6b63\u9762\u304b\u3089\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b92\u76ee\u6a19\u50244\u30671\u56de\u5224\u5b9a\n\u3000\u4f8b\uff092BT3RL+5>=8\n\u3000\u3000\u53f3\u4e0b\u534a\u8eab\u306b\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30672\u56de\u5224\u5b9a\n\u3000\u30df\u30b5\u30a4\u30eb\u306b\u3088\u308b\u30c0\u30e1\u30fc\u30b8\u306f BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b SRM2/4/6, LRM5/10/15/20 \u3092\u6307\u5b9a\n\u3000\u4f8b\uff093SRM6LU+5>=8\n\u3000\u3000\u5de6\u4e0a\u534a\u8eab\u306bSRM6\u9023\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30673\u56de\u5224\u5b9a\n  BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b PPC \u3092\u6307\u5b9a\u3059\u308b\u3068\u30c0\u30e1\u30fc\u30b810\u3067\u5224\u5b9a\n  \u4f8b\uff092PPCR+3>=10\n  \u3000\u53f3\u5074\u304b\u3089PPC\uff08\u30c0\u30e1\u30fc\u30b810\uff09\u306b\u3088\u308b\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b93\u76ee\u6a19\u502410\u30672\u56de\u5224\u5b9a\n\u30fbCT\uff1a\u81f4\u547d\u7684\u547d\u4e2d\u8868\n\u30fbDW\uff1a\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868\n\u30fbCDx\uff1a\u30e1\u30c3\u30af\u6226\u58eb\u610f\u8b58\u7dad\u6301\u30ed\u30fc\u30eb\u3002\u30c0\u30e1\u30fc\u30b8\u5024x\uff081\u301c6\uff09\u3067\u5224\u5b9a\u3000\u4f8b\uff09CD3\n"),h.$register_prefix("\\d*SRM","\\d*LRM","\\d*BT","\\d*PPC","CT","DW","CD"),_(a[0],"NO_CRITICAL_HIT_LIMIT",7),$e(h,"$ppc_parser",function(){var n,p=this;return null==p.ppc_parser&&(p.ppc_parser=i),x(null!=(n=p.ppc_parser)&&n!==i?"instance-variable":i)&&x(p.ppc_parser)||(p.ppc_parser=y(v("Command"),"Parser").$new(/PPC(?:[LCR][LU]?)?/,se(["round_type"],{round_type:y(v("RoundType"),"FLOOR")})),p.ppc_parser.$enable_prefix_number(),p.ppc_parser.$restrict_cmp_op_to(">=")),p.ppc_parser}),U(h,"$ppc_parser",function(){return this.$class().$ppc_parser()}),U(h,"$eval_game_system_specific_command",function(n){var p=this,f=i,T=i,o=i,F=i,V=i,B=i,X=i,Z=i,Y=i;try{return f=p.$roll_tables(n,v("TABLES")),x(f)?f:x(T=p.$ppc_parser().$parse(n))?p.$execute_ppc(T):(o=1,x(n["$=~"](/^(\d+)(.+)/))&&(o=v("Regexp").$last_match(1).$to_i(),n=v("Regexp").$last_match(2)),p.$debug("executeCommandCatched count",o),p.$debug("executeCommandCatched command",n),z(/^CD([1-6])$/,F=n)?(V=v("Regexp").$last_match(1).$to_i(),p.$consciousness_roll(V)):z(/^((S|L)RM\d+)(.+)/,F)?(B=v("Regexp").$last_match(3),X=v("Regexp").$last_match(1),Z=b(p,"lambda",[],function J(){return(null==J.$$s?this:J.$$s).$getXrmDamage(X)},{$$s:p}),p.$getHitResult(o,Z,B)):z(/^BT(\d+)(.+)/,F)?(p.$debug("BT pattern"),B=v("Regexp").$last_match(2),Y=v("Regexp").$last_match(1).$to_i(),Z=b(p,"lambda",[],function(){return Y}),p.$getHitResult(o,Z,B)):i)}catch(J){if(!e.rescue(J,[v("UnknownXRMError")]))throw J;try{return i}finally{e.pop_exception()}}}),A(a[0],v("StandardError"),"UnknownXRMError"),U(h,"$getXrmDamage",function(n){var o,F,T=i;return x(v("XRM_DAMAGE_TABLES")["$key?"](n))||this.$raise(v("UnknownXRMError"),"unknown XRM: "+n),T=v("XRM_DAMAGE_TABLES")["$[]"](n).$roll(this.randomizer),o=n["$start_with?"]("L"),F=T.$content(),[x(o)?F:G(2,F),T.$sum(),o]}),_(a[0],"LRM_LIMIT",5),U(h,"$getHitResult",function(n,p,f){var T=this,o=i,F=i,V=i,B=i,X=i,Z=i,Y=i,J=i,g=i,t=i,q=i,P=i,c=i,K=i;return o=/^([LCR][LU]?)?(\+\d+)?>=(\d+)/.$match(f),x(o)?(F=x(V=o["$[]"](1))?V:"C",B=o["$[]"](2),X=o["$[]"](3).$to_i(),Z=T.$getBaseValue(B),T.$debug("side, base, target",F,Z,X),Y=y(v("HitPart"),"TABLES")["$[]"](F),J=[],g=se([],{}),t=0,b(n,"times",[],function ae(){var j,H,_e=null==ae.$$s?this:ae.$$s,oe=i;return H=_e.$getHitText(Z,X),oe=null==(j=ee(H))[1]?i:j[1],x(null==j[0]?i:j[0])&&(t=re(t,1),H=_e.$getDamages(p,Y,g),j=ee(H),g=null==j[0]?i:j[0],oe=re(oe,null==j[1]?i:j[1])),J["$<<"](oe)},{$$s:T}),q=L(t,0),P=" \uff1e "+t+"\u56de\u547d\u4e2d",c=x(q)?P+" \u547d\u4e2d\u7b87\u6240\uff1a"+T.$getTotalDamage(g):P,J.$push(c),K=J.$join("\n"),x(q)?v("Result").$success(K):v("Result").$failure(K)):i}),U(h,"$getBaseValue",function(n){try{N("eval_return");var f=i;return f=0,x(n["$nil?"]())||(f=v("ArithmeticEvaluator").$eval(n)),f}catch(T){if(T===e.t_eval_return)return T.$v;throw T}}),U(h,"$getHitText",function(n,p){var T,o,F,V,X=i;return T=this.randomizer.$roll_once(6),o=this.randomizer.$roll_once(6),F=re(re(T,o),n),V=W(F,p),X=F+"["+T+","+o+(x(L(n,0))?"+"+n:"")+"]>="+p+" \uff1e ",[V,X=x(V)?re(X,"\u547d\u4e2d \uff1e "):re(X,"\u5916\u308c")]}),U(h,"$getDamages",function(n,p,f){var T,o,B,X,Z,V=i,Y=i;return V="",o=n.$call(),T=ee(o),B=null==T[0]?i:T[0],X=null==T[1]?i:T[1],Y=1,x(Z=null==T[2]?i:T[2])&&(Y=te(G(1,B),v("LRM_LIMIT")).$ceil(),V=re(V,"["+X+"] "+B+"\u70b9")),b(Y,"times",[],function J(g){var t,q,c,ae,j,P=null==J.$$s?this:J.$$s,H=i;return null==g&&(g=i),q=P.$getDamageInfo(X,B,Z,g),c=null==(t=ee(q))[0]?i:t[0],q=P.$getHitResultOne(null==t[1]?i:t[1],p),ae=null==(t=ee(q))[0]?i:t[0],j=null==t[1]?i:t[1],H=null==t[2]?i:t[2],x(Z)&&(V=re(V," ")),V=re(V,ae),x(f["$[]"](j)["$nil?"]())&&f["$[]="](j,se(["partDamages","criticals"],{partDamages:[],criticals:[]})),f["$[]"](j)["$[]"]("partDamages")["$<<"](c),x(H["$empty?"]())?i:f["$[]"](j)["$[]"]("criticals")["$<<"](H)},{$$s:this}),[f,V]}),U(h,"$getDamageInfo",function(n,p,f,T){var o=i;return x(n["$nil?"]())?[p,p.$to_s()]:x(f)?(o=ie(p,G(v("LRM_LIMIT"),T)),x(L(o,v("LRM_LIMIT")))&&(o=v("LRM_LIMIT")),[o,o.$to_s()]):[p,"["+n+"] "+p]}),U(h,"$getTotalDamage",function(n){var T=i,o=i,F=i;return T=0,o=[],b(["\u982d","\u80f4\u4e2d\u592e","\u53f3\u80f4","\u5de6\u80f4","\u53f3\u811a","\u5de6\u811a","\u53f3\u8155","\u5de6\u8155"],"each",[],function(B){var X=i,Z=i,Y=i,J=i,g=i;return null==B&&(B=i),X=n.$delete(B),x(X["$nil?"]())?i:(Z=b(X["$[]"]("partDamages"),"inject",[0],function(q,P){return null==q&&(q=i),null==P&&(P=i),re(q,P)}),T=re(T,Z),Y=X["$[]"]("partDamages").$size(),J=X["$[]"]("criticals"),g=re(g="",B+"("+Y+"\u56de) "+Z+"\u70b9"),x(J["$empty?"]())||(g=re(g," "+J.$join(" "))),o["$<<"](g))}),x(n["$empty?"]())||this.$raise("damages rest!! "+n.$inspect()),F=o.$join(" \uff0f "),re(F," \uff1e \u5408\u8a08\u30c0\u30e1\u30fc\u30b8 "+T+"\u70b9")}),U(h,"$getHitResultOne",function(n,p){var F,T=i,o=i,V=i,B=i,X=i;return o=(T=p.$roll(this.randomizer)).$content(),F=x(o.$critical_hit_may_occur())?"\uff08\u81f4\u547d\u7684\u547d\u4e2d\uff09":"",V=[["["+T.$sum()+"]",""+o.$name()+F,n+"\u70b9"].$join(" ")],B="",x(o.$critical_hit_may_occur())&&(X=v("TABLES")["$[]"]("CT").$roll(this.randomizer),x(L(X.$sum(),v("NO_CRITICAL_HIT_LIMIT")))&&(B=X.$content()),V.$push("["+X.$sum()+"] "+X.$content())),[V.$join(" \uff1e "),o.$name(),B]}),U(h,"$consciousness_roll",function(n){var f=i,o=i,F=i,V=i,B=i,Z=i,Y=i,t=i;return x(R(1,6,!1)["$include?"](n))?(f="CD"+n,u(n,6)?v("Result").$fumble(f+" \uff1e \u6b7b\u4ea1"):(F="(2D6>="+(o=m(1,3,2,5,3,7,4,10,5,11)["$[]"](n))+")",Z=(B=(V=this.randomizer.$roll_barabara(2,6)).$sum())+"["+V.$join(",")+"]",Y=W(B,o),t=[f,F,Z,B,x(Y)?"\u6210\u529f":"\u5931\u6557"].$join(" \uff1e "),x(Y)?v("Result").$success(t):v("Result").$failure(t))):i}),U(h,"$execute_ppc",function(n){var f,T,B;return f=x(T=n.$prefix_number())?T:1,B=""+n.$command()["$[]"](R(3,-1,!1))+v("Format").$modifier(n.$modify_number())+">="+n.$target_number(),this.$getHitResult(f,b(this,"lambda",[],s(10)),B)}),_(a[0],"TABLES",se(["CT","DW"],{CT:y(v("DiceTable"),"RangeTable").$new("\u81f4\u547d\u7684\u547d\u4e2d\u8868","2D6",[[e.Range.$new(2,v("NO_CRITICAL_HIT_LIMIT"),!1),"\u81f4\u547d\u7684\u547d\u4e2d\u306f\u306a\u304b\u3063\u305f"],[R(8,9,!1),"1\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[R(10,11,!1),"2\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[12,"\u305d\u306e\u90e8\u4f4d\u304c\u5439\u304d\u98db\u3076\uff08\u8155\u3001\u811a\u3001\u982d\uff09\u307e\u305f\u306f3\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d\uff08\u80f4\uff09"]]),DW:y(v("DiceTable"),"Table").$new("\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868","1D6",["\u540c\u3058\uff08\u524d\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","180\u5ea6\u9006\uff08\u80cc\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762"])}).$freeze()),_(a[0],"HitPart",v("Struct").$new("name","critical_hit_may_occur")),p=a,T=[f=A(a[0],null,"HitPart")].concat(p),o=e.$r(T),_(T[0],"LEFT_TORSO","\u5de6\u80f4"),_(T[0],"CENTER_TORSO","\u80f4\u4e2d\u592e"),_(T[0],"RIGHT_TORSO","\u53f3\u80f4"),_(T[0],"LEFT_ARM","\u5de6\u8155"),_(T[0],"RIGHT_ARM","\u53f3\u8155"),_(T[0],"LEFT_LEG","\u5de6\u811a"),_(T[0],"RIGHT_LEG","\u53f3\u811a"),_(T[0],"HEAD","\u982d"),_(T[0],"TABLES",se(["L","C","R","LU","CU","RU","LL","CL","RL"],{L:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\uff09","2D6",[[2,f.$new(o("LEFT_TORSO"),!0)],[3,f.$new(o("LEFT_LEG"),!1)],[R(4,5,!1),f.$new(o("LEFT_ARM"),!1)],[6,f.$new(o("LEFT_LEG"),!1)],[7,f.$new(o("LEFT_TORSO"),!1)],[8,f.$new(o("CENTER_TORSO"),!1)],[9,f.$new(o("RIGHT_TORSO"),!1)],[10,f.$new(o("RIGHT_ARM"),!1)],[11,f.$new(o("RIGHT_LEG"),!1)],[12,f.$new(o("HEAD"),!1)]]),C:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\uff09","2D6",[[2,f.$new(o("CENTER_TORSO"),!0)],[R(3,4,!1),f.$new(o("RIGHT_ARM"),!1)],[5,f.$new(o("RIGHT_LEG"),!1)],[6,f.$new(o("RIGHT_TORSO"),!1)],[7,f.$new(o("CENTER_TORSO"),!1)],[8,f.$new(o("LEFT_TORSO"),!1)],[9,f.$new(o("LEFT_LEG"),!1)],[R(10,11,!1),f.$new(o("LEFT_ARM"),!1)],[12,f.$new(o("HEAD"),!1)]]),R:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\uff09","2D6",[[2,f.$new(o("RIGHT_TORSO"),!0)],[3,f.$new(o("RIGHT_LEG"),!1)],[R(4,5,!1),f.$new(o("RIGHT_ARM"),!1)],[6,f.$new(o("RIGHT_LEG"),!1)],[7,f.$new(o("RIGHT_TORSO"),!1)],[8,f.$new(o("CENTER_TORSO"),!1)],[9,f.$new(o("LEFT_TORSO"),!1)],[10,f.$new(o("LEFT_ARM"),!1)],[11,f.$new(o("LEFT_LEG"),!1)],[12,f.$new(o("HEAD"),!1)]]),LU:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0a\u534a\u8eab\uff09","1D6",[[R(1,2,!1),f.$new(o("LEFT_TORSO"),!1)],[3,f.$new(o("CENTER_TORSO"),!1)],[R(4,5,!1),f.$new(o("LEFT_ARM"),!1)],[6,f.$new(o("HEAD"),!1)]]),CU:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\u4e0a\u534a\u8eab\uff09","1D6",[[1,f.$new(o("LEFT_ARM"),!1)],[2,f.$new(o("LEFT_TORSO"),!1)],[3,f.$new(o("CENTER_TORSO"),!1)],[4,f.$new(o("RIGHT_TORSO"),!1)],[5,f.$new(o("RIGHT_ARM"),!1)],[6,f.$new(o("HEAD"),!1)]]),RU:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0a\u534a\u8eab\uff09","1D6",[[R(1,2,!1),f.$new(o("RIGHT_TORSO"),!1)],[3,f.$new(o("CENTER_TORSO"),!1)],[R(4,5,!1),f.$new(o("RIGHT_ARM"),!1)],[6,f.$new(o("HEAD"),!1)]]),LL:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0b\u534a\u8eab\uff09","1D6",[[R(1,6,!1),f.$new(o("LEFT_LEG"),!1)]]),CL:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[R(1,3,!1),f.$new(o("RIGHT_LEG"),!1)],[R(4,6,!1),f.$new(o("LEFT_LEG"),!1)]]),RL:y(o("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[R(1,6,!1),f.$new(o("RIGHT_LEG"),!1)]])}).$freeze()),_(a[0],"XRM_DAMAGE_TABLES",se(["SRM2","SRM4","SRM6","LRM5","LRM10","LRM15","LRM20"],{SRM2:y(v("DiceTable"),"RangeTable").$new("SRM2\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,7,!1),1],[R(8,12,!1),2]]),SRM4:y(v("DiceTable"),"RangeTable").$new("SRM4\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[R(3,6,!1),2],[R(7,10,!1),3],[R(11,12,!1),4]]),SRM6:y(v("DiceTable"),"RangeTable").$new("SRM6\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),2],[R(4,5,!1),3],[R(6,8,!1),4],[R(9,10,!1),5],[R(11,12,!1),6]]),LRM5:y(v("DiceTable"),"RangeTable").$new("LRM5\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[R(3,4,!1),2],[R(5,8,!1),3],[R(9,10,!1),4],[R(11,12,!1),5]]),LRM10:y(v("DiceTable"),"RangeTable").$new("LRM10\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),3],[4,4],[R(5,8,!1),6],[R(9,10,!1),8],[R(11,12,!1),10]]),LRM15:y(v("DiceTable"),"RangeTable").$new("LRM15\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),5],[4,6],[R(5,8,!1),9],[R(9,10,!1),12],[R(11,12,!1),15]]),LRM20:y(v("DiceTable"),"RangeTable").$new("LRM20\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),6],[4,9],[R(5,8,!1),12],[R(9,10,!1),16],[R(11,12,!1),20]])}).$freeze())})}}]);