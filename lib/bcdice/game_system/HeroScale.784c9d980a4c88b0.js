(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3719],{3074:(F,J,E)=>{E(5151),Opal.queue(function(d){var A,T,W,f,y,S,K,C,H=d.module,B=d.klass,k=d.const_set,c=d.def,r=d.truthy,u=d.rb_gt,m=d.rb_plus,b=d.send,v=d.rb_lt,D=d.neqeq,j=d.rb_minus,h=d.rb_times,z=d.eqeq,w=d.rb_le,x=d.rb_divide,G=d.rb_ge,q=[],n=d.nil;return A=q,T=C=[H(q[0],"BCDice")].concat(A),S=[H(C[0],"GameSystem")].concat(T),K=d.$r(S),W=S,y=[f=B(S[0],K("Base"),"HeroScale")].concat(W),f.$$prototype.randomizer=n,k(y[0],"ID","HeroScale"),k(y[0],"NAME","\u82f1\u96c4\u306e\u5c3a\u5ea6"),k(y[0],"SORT_KEY","\u3048\u3044\u3086\u3046\u306e\u3057\u3084\u304f\u3068"),k(y[0],"HELP_MESSAGE","\u540c\u4ebaTRPG\u30b7\u30b9\u30c6\u30e0\u300e\u82f1\u96c4\u306e\u5c3a\u5ea6\u300f\u7528\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u3002\n\u57fa\u672c\u30eb\u30fc\u30eb\u30d6\u30c3\u30af\uff0b\u30b5\u30d7\u30ea\u30e1\u30f3\u30c8\u5bfe\u5fdc\u3002\u4eee\u79f0\u306f\u975e\u5bfe\u5fdc\u3002\n\u30b3\u30de\u30f3\u30c9\u4e00\u89a7\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002*\u6dfb\u3048\u5b57\u3067\u5185\u5bb9\u306f[]\u3002\u2020\u304c\u3064\u3044\u3066\u3044\u305f\u3089\u6dfb\u3048\u5b57\u5fc5\u9808\u3002\n5hs4 \u8d85\u8d8a\n5hs4,b \u8089\u4f53\u306e\u8d85\u8d8a\n5hs4,s,* \u79d1\u5b66\u306e\u8d85\u8d8a[\u2020\u9054\u6210\u5024\u3078\u306e\u52a0\u7b97\u5024]\n5hs4,p \u6fc0\u60c5\u306e\u8d85\u8d8a\n4hs6 \u52a0\u8b77\n4hs6,s \u9078\u629e\u306e\u52a0\u8b77\n4hs6,p \u5b89\u5be7\u306e\u52a0\u8b77\n4hs6,r \u9006\u8ee2\u306e\u52a0\u8b77\n3hs8,*,* \u5951\u7d04[\u5949\u7d0d\u306e\u51fa\u76ee1,\u5949\u7d0d\u306e\u51fa\u76ee2]\n3hs8,a,*,* \u4eab\u53d7\u306e\u5951\u7d04[\u2020\u53d7\u8afe\u51fa\u76ee1][\u2020\u53d7\u8afe\u51fa\u76ee2]\n3hs8,e,* \u53ce\u596a\u306e\u5951\u7d04[\u2020\u53d6\u5f97\u51fa\u76ee]\n3hs8,b \u71c3\u713c\u306e\u5951\u7d04\n3hs8,o,*,* \u5949\u7d0d\u306e\u5951\u7d04[\u5949\u7d0d\u306e\u51fa\u76ee1,\u5949\u7d0d\u306e\u51fa\u76ee2]\n2hs20 \u546a\u3044\n2hs20,r \u6b6a\u66f2\u306e\u546a\u3044\n2hs20,c \u5d29\u58ca\u306e\u546a\u3044\n2hs20,d \u7834\u6ec5\u306e\u546a\u3044\n3hs10 \u7570\u7269\n3hs10,i \u6a21\u9020\u306e\u7570\u7269\n3hs10,m,* \u6df7\u8840\u306e\u7570\u7269[\u8ffd\u52a0\u632f\u308a\u57fa\u6e96\u51fa\u76ee\uff08\u521d\u671f\u502410\uff09]\n3hs10,b,* \u5f7c\u65b9\u306e\u7570\u7269[\u8ffd\u52a0\u632f\u308a\u505c\u6b62\u57fa\u6e96\u5024\uff08\u521d\u671f\u5024666\uff09]\n1hs60 \u5831\u3044\n1hs60,d \u5815\u843d\u306e\u5831\u3044\n1hs60,o \u5fd8\u5374\u306e\u5831\u3044\n1hs60,s,* \u5c01\u5370\u306e\u5831\u3044[\u51fa\u76ee\u3078\u306e\u4fc2\u6570]\n12hs2 \u540c\u5316\n12hs2,m,*,*,*,*,*,*,*,* \u602a\u7269\u306e\u540c\u5316[*d2,*d4,*d6,*d8,*d10,*d12,*d20,*d60]\n12hs2,t,* [\u20202\u306e\u679a\u6570\u5ba3\u8a00]\n12hs2,c,* \u6cd5\u5247\u306e\u540c\u5316[\u20201\u306e\u679a\u6570\u5ba3\u8a00]\n1hs12 \u4e0b\u4f4d\u5b58\u5728\n2hs12 \u4e2d\u4f4d\u5b58\u5728\n2hs12,t \u5909\u9077\u306e\u4e2d\u4f4d\u5b58\u5728\n2hs12,c \u5076\u7136\u306e\u4e2d\u4f4d\u5b58\u5728\n2hs12,g,* \u840c\u82bd\u306e\u4e0a\u4f4d\u5b58\u5728[\u52a0\u7b97\u5024]\n3hs12 \u4e0a\u4f4d\u5b58\u5728\n3hs12,g \u5927\u795e\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,h \u795e\u6027\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,w \u9b54\u6027\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,m \u60aa\u610f\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,s,* \u5927\u7f6a\u306e\u4e0a\u4f4d\u5b58\u5728[\u2020\u78ba\u5b9a\u3059\u308b\u76ee\u6a19\u5024]\n3hs12,d \u7834\u58ca\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,a \u61ca\u60a9\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,o \u8a66\u7df4\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,c \u5275\u9020\u306e\u4e0a\u4f4d\u5b58\u5728\n3hs12,e \u5143\u7d20\u306e\u4e0a\u4f4d\u5b58\u5728\n*hs* \u4e57\u7b97\u30ed\u30fc\u30eb\n"),f.$register_prefix("\\d+HS\\d+"),c(f,"$eval_game_system_specific_command",function($){return this.$select_origin($)}),f.$private(),c(f,"$select_origin",function($){var t=this,i=n,e=n,o=n,a=n,l=n;switch((i=$.$split(","))["$[]"](0).valueOf()){case"5HS4":return t.$origin_great(i);case"4HS6":return t.$origin_protection(i);case"3HS8":return t.$origin_vow(i);case"2HS20":return t.$origin_curse(i);case"3HS10":return t.$origin_stranger(i);case"1HS60":return t.$origin_karma(i);case"12HS2":return t.$origin_absorption(i);case"1HS12":return t.$origin_normal();case"2HS12":return t.$origin_unique(i);case"3HS12":return t.$origin_omnipotent(i);default:return e=i["$[]"](0),o=i["$[]"](0).$rpartition("HS"),r(u(o.$length(),2))&&r(o["$[]"](0)["$=~"](/^\d+$/))&&r(o["$[]"](2)["$=~"](/^\d+$/))?(a=t.randomizer.$roll_barabara(o["$[]"](0).$to_i(),o["$[]"](2).$to_i()),l=t.$results_multiplication(a),e=m(e," \uff1e "+l+"["+a.$join(",")+"]")):n}}),c(f,"$origin_great",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(5,4),$["$[]"](1).valueOf()){case"P":e=t.$fate_passion(i);break;case"S":e=t.$fate_science(i,$);break;case"B":e=t.$fate_body(i);break;default:e="\u8d85\u8d8a \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_passion",function($){var e,o,a,i=n;return i=[],e=$.$count(1),b($,"each",[],function(p){return null==p&&(p=n),i["$<<"](m(p,e))}),o=this.$results_multiplication($),a=this.$results_multiplication(i),"\u6fc0\u60c5\u306e\u8d85\u8d8a \uff1e "+o+"["+$.$join(",")+"] \uff1e "+a+"["+i.$join(",")+"]"}),c(f,"$fate_science",function($,t){var e,o=n,a=n;return e=this.$results_multiplication($),r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))?r(v(t["$[]"](2).$to_i(),1024))?(o=m(e,t["$[]"](2).$to_i()),a="\u79d1\u5b66\u306e\u8d85\u8d8a \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o,r(u(o,1023))&&(a=m(a,"(\u79d1\u5b66\u81e8\u754c)"))):a="\u30a8\u30e9\u30fc\uff1a\u79d1\u5b66\u529b\u304c1024\u3092\u8d85\u3048\u3066\u3044\u307e\u3059\u3002":a="\u30a8\u30e9\u30fc\uff1a\u79d1\u5b66\u529b\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",a}),c(f,"$fate_body",function($){var a,l,t=this,i=n,e=n,o=n;for(i=$.$dup(),e=$.$count(4);r(u(e,0));)o=t.randomizer.$roll_once(4),i.$push(o),D(o,4)&&(e=j(e,1));return a=t.$results_multiplication($),l=t.$results_multiplication(i),"\u8089\u4f53\u306e\u8d85\u8d8a \uff1e "+a+"["+$.$join(",")+"] \uff1e "+l+"["+i.$join(",")+"]"}),c(f,"$origin_protection",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(4,6),$["$[]"](1).valueOf()){case"R":e=t.$fate_reversal(i);break;case"P":e=t.$fate_peace(i);break;case"S":e=t.$fate_choice(i);break;default:e="\u52a0\u8b77 \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_reversal",function($){var e,o,i=n;return i=[],b($,"each",[],function(s){return null==s&&(s=n),r(v(s,4))&&(s=j(7,s)),i["$<<"](s)}),e=this.$results_multiplication($),o=this.$results_multiplication(i),"\u9006\u8ee2\u306e\u52a0\u8b77 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_peace",function($){var i,e;return i=this.$results_multiplication($),e=m(i,250),"\u5b89\u5be7\u306e\u52a0\u8b77 \uff1e "+i+"["+$.$join(",")+"] \uff1e "+e}),c(f,"$fate_choice",function($){var a,i=n,e=n,o=n;return(i=$.$dup()).$concat(this.randomizer.$roll_barabara(3,6)),e=1,o=1,b(i,"each",[],function(g){return null==g&&(g=n),r(g["$even?"]())?e=h(e,g):o=h(o,g)}),a=r(u(e,o))?e:o,"\u9078\u629e\u306e\u52a0\u8b77 \uff1e "+this.$results_multiplication($)+"["+$.$join(",")+"] \uff1e "+a+"["+i.$join(",")+"]"}),c(f,"$origin_vow",function($){var t=this,i=n,e=n,o=n,a=n,l=n;switch(i=t.randomizer.$roll_barabara(3,8),$["$[]"](1).valueOf()){case"O":e=t.$fate_offering(i,$);break;case"B":e=t.$fate_burning(i);break;case"E":e=t.$fate_exploitation(i,$);break;case"A":e=t.$fate_acceptance(i,$);break;default:o=t.$results_multiplication(i),r(u($.$length(),2))&&r($["$[]"](1)["$=~"](/^\d+$/))&&r($["$[]"](2)["$=~"](/^\d+$/))?((a=i.$dup())["$<<"]($["$[]"](1).$to_i()),a["$<<"]($["$[]"](2).$to_i()),l=t.$results_multiplication(a),e="\u5951\u7d04 \uff1e "+o+"["+i.$join(",")+"] \uff1e "+l+"["+a.$join(",")+"]"):e="\u5951\u7d04 \uff1e "+o+"["+i.$join(",")+"]"}return e}),c(f,"$fate_offering",function($,t){var e,o=n,a=n,l=n,s=n;return e=this.$results_multiplication($),r(u(t.$length(),3))&&r(t["$[]"](2)["$=~"](/^\d+$/))&&r(t["$[]"](3)["$=~"](/^\d+$/))?((o=$.$dup())["$<<"](t["$[]"](2).$to_i()),o["$<<"](t["$[]"](3).$to_i()),a=this.$results_multiplication(o),l="\u5949\u7d0d\u306e\u5951\u7d04 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+a+"["+o.$join(",")+"]"):l="\u5949\u7d0d\u306e\u5951\u7d04 \uff1e "+e+"["+$.$join(",")+"]",(s=$.$dup())["$sort!"]()["$reverse!"]().$shift(1),m(l,"(\u5949\u7d0d\uff1a"+s.$join(",")+")")}),c(f,"$fate_burning",function($){var i,e;return i=this.$results_multiplication($),e=h(i,6),"\u71c3\u713c\u306e\u5951\u7d04 \uff1e "+i+"["+$.$join(",")+"] \uff1e "+e}),c(f,"$fate_exploitation",function($,t){var e,o=n,a=n,l=n;return e=this.$results_multiplication($),r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))?((o=$.$dup())["$[]="](o.$index(o.$min()),t["$[]"](2).$to_i()),a=this.$results_multiplication(o),l="\u53ce\u596a\u306e\u5951\u7d04 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+a+"["+o.$join(",")+"]"):l="\u30a8\u30e9\u30fc\uff1a\u53ce\u596a\u6570\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",l}),c(f,"$fate_acceptance",function($,t){var e,o=n,a=n,l=n,s=n;return e=this.$results_multiplication($),r(u(t.$length(),3))&&r(t["$[]"](2)["$=~"](/^\d+$/))&&r(t["$[]"](3)["$=~"](/^\d+$/))?(o=$.$sort().$take(2),(a=$.$dup())["$[]="](a.$index(o["$[]"](0)),t["$[]"](2).$to_i()),a["$[]="](a.$index(o["$[]"](1)),t["$[]"](3).$to_i()),l=this.$results_multiplication(a),s="\u4eab\u53d7\u306e\u5951\u7d04 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+l+"["+a.$join(",")+"]"):s="\u30a8\u30e9\u30fc\uff1a\u4eab\u53d7\u6570\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",s}),c(f,"$origin_curse",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(2,20),$["$[]"](1).valueOf()){case"R":e=t.$fate_ruin(i);break;case"C":e=t.$fate_collapse(i);break;case"D":e=t.$fate_distortion(i);break;default:e="\u546a\u3044 \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_ruin",function($){var i=n,e=n;return(i=$.$dup()).$concat(this.randomizer.$roll_barabara(2,20)),e=1,b(i,"each",[],function(s){return null==s&&(s=n),r(u(s,10))?e=h(e,s):n}),"\u7834\u6ec5\u306e\u546a\u3044 \uff1e "+this.$results_multiplication($)+"["+$.$join(",")+"] \uff1e "+e+"["+i.$join(",")+"]"}),c(f,"$fate_collapse",function($){var e,o,a,t=this,i=n;return i=$.$dup(),e=t.$result_raoundup($["$[]"]($.$index($.$max()))),z(i["$[]"](0),i["$[]"](1))?(i["$[]="](0,e),i["$[]="](1,e),i["$<<"](e),i["$<<"](e)):(i["$[]="]($.$index($.$max()),e),i.$insert($.$index($.$max()),e)),o=t.$results_multiplication($),a=t.$results_multiplication(i),"\u5d29\u58ca\u306e\u546a\u3044 \uff1e "+o+"["+$.$join(",")+"] \uff1e "+a+"["+i.$join(",")+"]"}),c(f,"$fate_distortion",function($){var e,o,i=n;return i=$.$dup(),z(i["$[]"](0),i["$[]"](1))?(i["$[]="](0,m(i["$[]"](0),13)),i["$[]="](1,m(i["$[]"](1),13))):i["$[]="]($.$index($.$min()),m(i["$[]"]($.$index($.$min())),13)),e=this.$results_multiplication($),o=this.$results_multiplication(i),"\u6b6a\u66f2\u306e\u546a\u3044 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$origin_stranger",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(3,10),i=t.$stranger_effection(i),$["$[]"](1).valueOf()){case"I":e=t.$fate_imitation(i);break;case"M":e=t.$fate_mixed(i,$);break;case"B":e=t.$fate_beyond(i,$);break;default:e="\u7570\u7269 \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_imitation",function($){var e,o,i=n;return(i=$.$dup())["$sort!"](),i["$[]="](0,z(m(i["$[]"](0),h(i["$[]"](1),10)),0)?100:m(i["$[]"](0),h(i["$[]"](1),10))),i["$[]="](1,i["$[]"](2)),i.$delete_at(2),e=this.$results_multiplication($),o=this.$results_multiplication(i),"\u6a21\u9020\u306e\u7570\u7269 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_mixed",function($,t){var e,o,i=this,a=n,l=n,s=n;return e=i.$results_multiplication($),o=r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))?t["$[]"](2).$to_i():1,a=$.$dup(),r(w(o,$.$min()))?(a["$<<"](i.randomizer.$roll_once(12)),l=i.$results_multiplication(a),s="\u6df7\u8840\u306e\u7570\u7269 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+l+"["+a.$join(",")+"](\u8ffd\u52a0\u632f\u308a)"):(a["$[]="]($.$index($.$min()),10),l=i.$results_multiplication(a),s="\u6df7\u8840\u306e\u7570\u7269 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+l+"["+a.$join(",")+"](10\u7f6e\u63db)"),s}),c(f,"$fate_beyond",function($,t){var o,i=this,e=n,a=n,l=n,s=n;for(e=$.$dup(),a=o=i.$results_multiplication($),l=666,r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))&&r(v(t["$[]"](2).$to_i(),666))&&(l=t["$[]"](2).$to_i());r(r(s=a["$!="](0))?w(a,l):s);)e["$<<"](i.randomizer.$roll_d9()),a=i.$results_multiplication(e);return"\u5f7c\u65b9\u306e\u7570\u7269 \uff1e "+o+"["+$.$join(",")+"] \uff1e "+a+"["+e.$join(",")+"]"}),c(f,"$origin_karma",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(1,60),$["$[]"](1).valueOf()){case"D":e=t.$fate_depravity(i);break;case"O":e=t.$fate_oblivion(i);break;case"S":e=t.$fate_sealed(i,$);break;default:e="\u5831\u3044 \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_depravity",function($){var i,o,a,l,e=n;return i=this.$results_multiplication($),e=$.$dup(),o=$["$[]"](0)["$%"](10),a=x($["$[]"](0),10).$to_i(),r(u(a,1))&&e["$<<"](a),r(u(o,1))&&e["$<<"](o),l=this.$results_multiplication(e),"\u5815\u843d\u306e\u5831\u3044 \uff1e "+i+"["+$.$join(",")+"] \uff1e "+l+"["+e.$join(",")+"]"}),c(f,"$fate_oblivion",function($){var e,o,t=this,i=n;return(i=$.$dup())["$<<"](t.randomizer.$roll_once(60)),e=t.$results_multiplication($),o=x(t.$results_multiplication(i),2).$to_i(),"\u5fd8\u5374\u306e\u5831\u3044 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_sealed",function($,t){var o,l,e=n,a=n,s=n;return e=$.$dup(),o=this.$results_multiplication($),a=1,r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))&&(a=t["$[]"](2).$to_i()),e["$[]="](0,h(e["$[]"](0),a)),l=h(o,a),s="\u5c01\u5370\u306e\u5831\u3044 \uff1e "+o+"["+$.$join(",")+"] \uff1e "+l+"["+e.$join(",")+"]",r(w(l,30))?(a=h(a,4),s=m(s,"(\u5c01\u5370\u89e3\u9664\u6210\u529f\uff1a"+a+")")):r(w(l,60))?(a=h(a,2),s=m(s,"(\u5c01\u5370\u89e3\u9664\u6210\u529f\uff1a"+a+")")):s=m(s,"(\u5c01\u5370\u89e3\u9664\u5931\u6557\uff1a"+a+")"),s}),c(f,"$origin_absorption",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(12,2),$["$[]"](1).valueOf()){case"M":e=t.$fate_monster(i,$);break;case"T":e=t.$fate_treasure(i,$);break;case"C":e=t.$fate_concept(i,$);break;default:e="\u540c\u5316 \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_monster",function($,t){var i=this,e=n,o=n,a=n,l=n,s=n;if(e=[],r(u(t.$length(),9))&&r(t["$[]"](2)["$=~"](/^\d+$/))&&r(t["$[]"](3)["$=~"](/^\d+$/))&&r(t["$[]"](4)["$=~"](/^\d+$/))&&r(t["$[]"](5)["$=~"](/^\d+$/))&&r(t["$[]"](6)["$=~"](/^\d+$/))&&r(t["$[]"](7)["$=~"](/^\d+$/))&&r(t["$[]"](8)["$=~"](/^\d+$/))&&r(t["$[]"](9)["$=~"](/^\d+$/))){for(r(u(t["$[]"](2).$to_i(),0))&&e.$concat(i.randomizer.$roll_barabara(t["$[]"](2).$to_i(),2)),r(u(t["$[]"](3).$to_i(),0))&&e.$concat(i.randomizer.$roll_barabara(t["$[]"](3).$to_i(),4)),r(u(t["$[]"](4).$to_i(),0))&&e.$concat(i.randomizer.$roll_barabara(t["$[]"](4).$to_i(),6)),r(u(t["$[]"](5).$to_i(),0))&&e.$concat(i.randomizer.$roll_barabara(t["$[]"](5).$to_i(),8)),o=t["$[]"](6).$to_i();r(u(o,0));)e["$<<"](i.randomizer.$roll_d9()),o=j(o,1);r(u(t["$[]"](7).$to_i(),0))&&e.$concat(i.randomizer.$roll_barabara(t["$[]"](7).$to_i(),12)),r(u(t["$[]"](8).$to_i(),0))&&e.$concat(i.randomizer.$roll_barabara(t["$[]"](8).$to_i(),20)),r(u(t["$[]"](9).$to_i(),0))&&e.$concat(i.randomizer.$roll_barabara(t["$[]"](9).$to_i(),60)),a=i.$results_multiplication(e),l=e.$sum(),s="\u602a\u7269\u306e\u540c\u5316 \uff1e "+a+"["+e.$join(",")+"] \u6d78\u8755\u5024\uff1a"+l,r([2,4,6,8,10,12,20,60]["$include?"](l))&&(s=m(s,"(\u5909\u7570\u9032\u884c)")),r(e["$include?"](1))&&(s=m(s,"(\u4eba\u9593\u6027\u55aa\u5931)"))}else s="\u30a8\u30e9\u30fc\uff1a\u5909\u7570\u72b6\u614b\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002";return s}),c(f,"$fate_treasure",function($,t){var o,e=n,a=n,l=n,s=n;return e=$.$dup(),a=o=this.$results_multiplication($),r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))?(l=t["$[]"](2).$to_i(),r(G(e.$count(2),l))?(a=h(a,l),s="\u79d8\u5b9d\u306e\u540c\u5316 \uff1e "+o+"["+$.$join(",")+"] \uff1e "+a+"(\u540c\u8abf\u6210\u529f)"):s="\u79d8\u5b9d\u306e\u540c\u5316 \uff1e "+o+"["+$.$join(",")+"] \uff1e "+a+"(\u540c\u8abf\u5931\u6557)"):s="\u30a8\u30e9\u30fc\uff1a\u89e3\u653e\u7387\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",s}),c(f,"$fate_concept",function($,t){var o,e=n,a=n,l=n,s=n;return e=$.$dup(),o=this.$results_multiplication($),r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))?(a=t["$[]"](2).$to_i(),r(u(a,12))&&(a=12),e.$fill(2,0,a),l=this.$results_multiplication(e),s="\u6982\u5ff5\u306e\u540c\u5316 \uff1e "+o+"["+$.$join(",")+"] \uff1e "+l+"["+e.$join(",")+"]"):s="\u30a8\u30e9\u30fc\uff1a\u4e8b\u8c61\u5f37\u5ea6\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",s}),c(f,"$origin_normal",function(){var t=n;return t=this.randomizer.$roll_barabara(1,12),"\u4e0b\u4f4d\u5b58\u5728 \uff1e "+this.$results_multiplication(t)+"["+t.$join(",")+"]"}),c(f,"$origin_unique",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(2,12),$["$[]"](1).valueOf()){case"G":e=t.$fate_growth(i,$);break;case"T":e=t.$fate_transition(i);break;case"C":e=t.$fate_chance(i);break;default:e="\u4e2d\u4f4d\u5b58\u5728 \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_growth",function($,t){var e,l,o=n,a=n;return o=e=this.$results_multiplication($),r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/))?(o=m(o,t["$[]"](2).$to_i()),a="\u840c\u82bd\u306e\u4e2d\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o):a="\u840c\u82bd\u306e\u4e2d\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"]",l=m(t["$[]"](2).$to_i(),50),m(a,"(\u6210\u9577\u6bb5\u968e\uff1a"+l+")")}),c(f,"$fate_transition",function($){var e,o,t=this,i=n;return(i=$.$dup())["$<<"](t.randomizer.$roll_d9()),e=t.$results_multiplication($),o=t.$results_multiplication(i),"\u5909\u9077\u306e\u4e2d\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_chance",function($){var e,i=n,o=n,a=n;return i=$.$dup(),e=this.$results_multiplication($),o=this.$results_multiplication(i),z(i["$[]"](0),i["$[]"](1))?(o=h(o,24),a="\u5076\u7136\u306e\u4e2d\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o):a="\u5076\u7136\u306e\u4e2d\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"]",a}),c(f,"$origin_omnipotent",function($){var t=this,i=n,e=n;switch(i=t.randomizer.$roll_barabara(3,12),$["$[]"](1).valueOf()){case"G":e=t.$fate_god(i);break;case"H":e=t.$fate_holy(i);break;case"W":e=t.$fate_wicked(i);break;case"M":e=t.$fate_malice(i);break;case"S":e=t.$fate_sin(i,$);break;case"D":e=t.$fate_destruction(i);break;case"A":e=t.$fate_anguish(i);break;case"O":e=t.$fate_ordeal(i);break;case"C":e=t.$fate_creation(i);break;case"E":e=t.$fate_element();break;default:e="\u4e0a\u4f4d\u5b58\u5728 \uff1e "+t.$results_multiplication(i)+"["+i.$join(",")+"]"}return e}),c(f,"$fate_god",function($){var e,o,i=n;return i=[],b($,"each",[],function(s){return null==s&&(s=n),i["$<<"](m(s,3))}),e=this.$results_multiplication($),o=this.$results_multiplication(i),"\u5927\u795e\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_holy",function($){var e,o,i=n;return i=[],b($,"each",[],function(s){return null==s&&(s=n),i["$<<"](m(s,1))}),e=this.$results_multiplication($),o=this.$results_multiplication(i),"\u795e\u6027\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_wicked",function($){var i,e;return i=this.$results_multiplication($),e=m(i,120),"\u9b54\u6027\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+i+"["+$.$join(",")+"] \uff1e "+e}),c(f,"$fate_malice",function($){var i,e;return i=this.$results_multiplication($),e=h(i,2),"\u60aa\u610f\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+i+"["+$.$join(",")+"] \uff1e "+e}),c(f,"$fate_sin",function($,t){var e,i=this,o=n,a=n,l=n,s=n,p=n,g=n;if(o=e=i.$results_multiplication($),r(u(t.$length(),2))&&r(t["$[]"](2)["$=~"](/^\d+$/)))for(a="\u5927\u7f6a\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"]",l=t["$[]"](2).$to_i(),s=0;r(r(p=v(s,3))?v(o,l):p);)g=i.randomizer.$roll_barabara(3,12),o=i.$results_multiplication(g),a=m(a," \uff1e "+o+"["+g.$join(",")+"]"),s=m(s,1);else a="\u30a8\u30e9\u30fc\uff1a\u7f6a\u306e\u91cd\u3055\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002";return a}),c(f,"$fate_destruction",function($){var e,o,t=this,i=n;return(i=$.$dup())["$<<"](t.randomizer.$roll_once(12)),e=t.$results_multiplication($),o=j(t.$results_multiplication(i),300),"\u7834\u58ca\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_anguish",function($){var e,o,i=n;return i=[],b($,"each",[],function(s){return null==s&&(s=n),r(v(s,7))&&(s=7),i["$<<"](s)}),e=this.$results_multiplication($),o=this.$results_multiplication(i),"\u61ca\u60a9\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_ordeal",function($){var e,o,i=n;return i=[],b($,"each",[],function(s){return null==s&&(s=n),r(v(s,9))&&(s=9),i["$<<"](s)}),e=this.$results_multiplication($),o=this.$results_multiplication(i),"\u8a66\u7df4\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+e+"["+$.$join(",")+"] \uff1e "+o+"["+i.$join(",")+"]"}),c(f,"$fate_creation",function($){var o,a,i=n,e=n;return i=$.$dup(),(e=$.$dup())["$sort!"](),i["$<<"](e["$[]"](1)),o=this.$results_multiplication($),a=this.$results_multiplication(i),"\u5275\u9020\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+o+"["+$.$join(",")+"] \uff1e "+a+"["+i.$join(",")+"]"}),c(f,"$fate_element",function(){var $=this,t=n;return(t=[])["$<<"]($.randomizer.$roll_once(4)),t["$<<"]($.randomizer.$roll_once(6)),t["$<<"]($.randomizer.$roll_once(8)),t["$<<"]($.randomizer.$roll_once(12)),t["$<<"]($.randomizer.$roll_once(20)),"\u5143\u7d20\u306e\u4e0a\u4f4d\u5b58\u5728 \uff1e "+$.$results_multiplication(t)+"["+t.$join(",")+"]"}),c(f,"$results_multiplication",function($){var t=n;return t=1,b($,"each",[],function(e){return null==e&&(e=n),t=h(t,e)}),t}),c(f,"$stranger_effection",function($){var t=n;return t=[],b($,"each",[],function(e){return null==e&&(e=n),t["$<<"](j(e,1))}),t}),c(f,"$result_raoundup",function($){return r($["$even?"]())?x($,2).$to_i():m(x($,2).$to_i(),1)})})}}]);